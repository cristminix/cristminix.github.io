(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function n6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uf={},r6={get exports(){return Uf},set exports(e){Uf=e}},Ug={},Ni={},i6={get exports(){return Ni},set exports(e){Ni=e}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=Symbol.for("react.element"),o6=Symbol.for("react.portal"),s6=Symbol.for("react.fragment"),a6=Symbol.for("react.strict_mode"),u6=Symbol.for("react.profiler"),c6=Symbol.for("react.provider"),l6=Symbol.for("react.context"),f6=Symbol.for("react.forward_ref"),h6=Symbol.for("react.suspense"),d6=Symbol.for("react.memo"),p6=Symbol.for("react.lazy"),lA=Symbol.iterator;function v6(e){return e===null||typeof e!="object"?null:(e=lA&&e[lA]||e["@@iterator"],typeof e=="function"?e:null)}var CO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NO=Object.assign,AO={};function Mc(e,t,n){this.props=e,this.context=t,this.refs=AO,this.updater=n||CO}Mc.prototype.isReactComponent={};Mc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RO(){}RO.prototype=Mc.prototype;function tb(e,t,n){this.props=e,this.context=t,this.refs=AO,this.updater=n||CO}var nb=tb.prototype=new RO;nb.constructor=tb;NO(nb,Mc.prototype);nb.isPureReactComponent=!0;var fA=Array.isArray,xO=Object.prototype.hasOwnProperty,rb={current:null},PO={key:!0,ref:!0,__self:!0,__source:!0};function OO(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)xO.call(t,r)&&!PO.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var l=Array(c),h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Rh,type:e,key:s,ref:a,props:i,_owner:rb.current}}function g6(e,t){return{$$typeof:Rh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ib(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rh}function m6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hA=/\/+/g;function F_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m6(""+e.key):t.toString(36)}function Xp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Rh:case o6:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+F_(a,0):r,fA(i)?(n="",e!=null&&(n=e.replace(hA,"$&/")+"/"),Xp(i,t,n,"",function(h){return h})):i!=null&&(ib(i)&&(i=g6(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(hA,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",fA(e))for(var c=0;c<e.length;c++){s=e[c];var l=r+F_(s,c);a+=Xp(s,t,n,l,i)}else if(l=v6(e),typeof l=="function")for(e=l.call(e),c=0;!(s=e.next()).done;)s=s.value,l=r+F_(s,c++),a+=Xp(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function gp(e,t,n){if(e==null)return e;var r=[],i=0;return Xp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function y6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pn={current:null},Jp={transition:null},_6={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:Jp,ReactCurrentOwner:rb};Te.Children={map:gp,forEach:function(e,t,n){gp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gp(e,function(){t++}),t},toArray:function(e){return gp(e,function(t){return t})||[]},only:function(e){if(!ib(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=Mc;Te.Fragment=s6;Te.Profiler=u6;Te.PureComponent=tb;Te.StrictMode=a6;Te.Suspense=h6;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_6;Te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=NO({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=rb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)xO.call(t,l)&&!PO.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Rh,type:e.type,key:i,ref:s,props:r,_owner:a}};Te.createContext=function(e){return e={$$typeof:l6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c6,_context:e},e.Consumer=e};Te.createElement=OO;Te.createFactory=function(e){var t=OO.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:f6,render:e}};Te.isValidElement=ib;Te.lazy=function(e){return{$$typeof:p6,_payload:{_status:-1,_result:e},_init:y6}};Te.memo=function(e,t){return{$$typeof:d6,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Jp.transition;Jp.transition={};try{e()}finally{Jp.transition=t}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(e,t){return Pn.current.useCallback(e,t)};Te.useContext=function(e){return Pn.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Pn.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Pn.current.useEffect(e,t)};Te.useId=function(){return Pn.current.useId()};Te.useImperativeHandle=function(e,t,n){return Pn.current.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return Pn.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Pn.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Pn.current.useMemo(e,t)};Te.useReducer=function(e,t,n){return Pn.current.useReducer(e,t,n)};Te.useRef=function(e){return Pn.current.useRef(e)};Te.useState=function(e){return Pn.current.useState(e)};Te.useSyncExternalStore=function(e,t,n){return Pn.current.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return Pn.current.useTransition()};Te.version="18.2.0";(function(e){e.exports=Te})(i6);const Fc=n6(Ni);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w6=Ni,E6=Symbol.for("react.element"),b6=Symbol.for("react.fragment"),T6=Object.prototype.hasOwnProperty,I6=w6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S6={key:!0,ref:!0,__self:!0,__source:!0};function DO(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)T6.call(t,r)&&!S6.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:E6,type:e,key:s,ref:a,props:i,_owner:I6.current}}Ug.Fragment=b6;Ug.jsx=DO;Ug.jsxs=DO;(function(e){e.exports=Ug})(r6);const An=Uf.Fragment,D=Uf.jsx,be=Uf.jsxs;var Gw={},Qw={},k6={get exports(){return Qw},set exports(e){Qw=e}},fr={},Yw={},C6={get exports(){return Yw},set exports(e){Yw=e}},LO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,se){var ae=H.length;H.push(se);e:for(;0<ae;){var $e=ae-1>>>1,at=H[$e];if(0<i(at,se))H[$e]=se,H[ae]=at,ae=$e;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var se=H[0],ae=H.pop();if(ae!==se){H[0]=ae;e:for(var $e=0,at=H.length,bs=at>>>1;$e<bs;){var ai=2*($e+1)-1,ol=H[ai],Lr=ai+1,Ts=H[Lr];if(0>i(ol,ae))Lr<at&&0>i(Ts,ol)?(H[$e]=Ts,H[Lr]=ae,$e=Lr):(H[$e]=ol,H[ai]=ae,$e=ai);else if(Lr<at&&0>i(Ts,ae))H[$e]=Ts,H[Lr]=ae,$e=Lr;else break e}}return se}function i(H,se){var ae=H.sortIndex-se.sortIndex;return ae!==0?ae:H.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var l=[],h=[],p=1,v=null,m=3,y=!1,w=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(H){for(var se=n(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=H)r(h),se.sortIndex=se.expirationTime,t(l,se);else break;se=n(h)}}function x(H){if(I=!1,S(H),!w)if(n(l)!==null)w=!0,Mi(L);else{var se=n(h);se!==null&&Xa(x,se.startTime-H)}}function L(H,se){w=!1,I&&(I=!1,b(F),F=-1),y=!0;var ae=m;try{for(S(se),v=n(l);v!==null&&(!(v.expirationTime>se)||H&&!Vt());){var $e=v.callback;if(typeof $e=="function"){v.callback=null,m=v.priorityLevel;var at=$e(v.expirationTime<=se);se=e.unstable_now(),typeof at=="function"?v.callback=at:v===n(l)&&r(l),S(se)}else r(l);v=n(l)}if(v!==null)var bs=!0;else{var ai=n(h);ai!==null&&Xa(x,ai.startTime-se),bs=!1}return bs}finally{v=null,m=ae,y=!1}}var P=!1,$=null,F=-1,ce=5,R=-1;function Vt(){return!(e.unstable_now()-R<ce)}function Dr(){if($!==null){var H=e.unstable_now();R=H;var se=!0;try{se=$(!0,H)}finally{se?ws():(P=!1,$=null)}}else P=!1}var ws;if(typeof T=="function")ws=function(){T(Dr)};else if(typeof MessageChannel<"u"){var Ya=new MessageChannel,Es=Ya.port2;Ya.port1.onmessage=Dr,ws=function(){Es.postMessage(null)}}else ws=function(){C(Dr,0)};function Mi(H){$=H,P||(P=!0,ws())}function Xa(H,se){F=C(function(){H(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,Mi(L))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var se=3;break;default:se=m}var ae=m;m=se;try{return H()}finally{m=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=m;m=H;try{return se()}finally{m=ae}},e.unstable_scheduleCallback=function(H,se,ae){var $e=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?$e+ae:$e):ae=$e,H){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=ae+at,H={id:p++,callback:se,priorityLevel:H,startTime:ae,expirationTime:at,sortIndex:-1},ae>$e?(H.sortIndex=ae,t(h,H),n(l)===null&&H===n(h)&&(I?(b(F),F=-1):I=!0,Xa(x,ae-$e))):(H.sortIndex=at,t(l,H),w||y||(w=!0,Mi(L))),H},e.unstable_shouldYield=Vt,e.unstable_wrapCallback=function(H){var se=m;return function(){var ae=m;m=se;try{return H.apply(this,arguments)}finally{m=ae}}}})(LO);(function(e){e.exports=LO})(C6);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO=Ni,ar=Yw;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FO=new Set,jf={};function La(e,t){ic(e,t),ic(e+"Capture",t)}function ic(e,t){for(jf[e]=t,e=0;e<t.length;e++)FO.add(t[e])}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xw=Object.prototype.hasOwnProperty,N6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dA={},pA={};function A6(e){return Xw.call(pA,e)?!0:Xw.call(dA,e)?!1:N6.test(e)?pA[e]=!0:(dA[e]=!0,!1)}function R6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x6(e,t,n,r){if(t===null||typeof t>"u"||R6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function On(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zt[e]=new On(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zt[t]=new On(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zt[e]=new On(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zt[e]=new On(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zt[e]=new On(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zt[e]=new On(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zt[e]=new On(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zt[e]=new On(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zt[e]=new On(e,5,!1,e.toLowerCase(),null,!1,!1)});var ob=/[\-:]([a-z])/g;function sb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ob,sb);Zt[t]=new On(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ob,sb);Zt[t]=new On(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ob,sb);Zt[t]=new On(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zt[e]=new On(e,1,!1,e.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zt[e]=new On(e,1,!1,e.toLowerCase(),null,!0,!0)});function ab(e,t,n,r){var i=Zt.hasOwnProperty(t)?Zt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(x6(t,n,i,r)&&(n=null),r||i===null?A6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var lo=MO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mp=Symbol.for("react.element"),xu=Symbol.for("react.portal"),Pu=Symbol.for("react.fragment"),ub=Symbol.for("react.strict_mode"),Jw=Symbol.for("react.profiler"),UO=Symbol.for("react.provider"),jO=Symbol.for("react.context"),cb=Symbol.for("react.forward_ref"),Zw=Symbol.for("react.suspense"),e1=Symbol.for("react.suspense_list"),lb=Symbol.for("react.memo"),xo=Symbol.for("react.lazy"),BO=Symbol.for("react.offscreen"),vA=Symbol.iterator;function $l(e){return e===null||typeof e!="object"?null:(e=vA&&e[vA]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,U_;function sf(e){if(U_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U_=t&&t[1]||""}return`
`+U_+e}var j_=!1;function B_(e,t){if(!e||j_)return"";j_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=c);break}}}finally{j_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sf(e):""}function P6(e){switch(e.tag){case 5:return sf(e.type);case 16:return sf("Lazy");case 13:return sf("Suspense");case 19:return sf("SuspenseList");case 0:case 2:case 15:return e=B_(e.type,!1),e;case 11:return e=B_(e.type.render,!1),e;case 1:return e=B_(e.type,!0),e;default:return""}}function t1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pu:return"Fragment";case xu:return"Portal";case Jw:return"Profiler";case ub:return"StrictMode";case Zw:return"Suspense";case e1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jO:return(e.displayName||"Context")+".Consumer";case UO:return(e._context.displayName||"Context")+".Provider";case cb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lb:return t=e.displayName||null,t!==null?t:t1(e.type)||"Memo";case xo:t=e._payload,e=e._init;try{return t1(e(t))}catch{}}return null}function O6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t1(t);case 8:return t===ub?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D6(e){var t=VO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yp(e){e._valueTracker||(e._valueTracker=D6(e))}function $O(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=VO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Tv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function n1(e,t){var n=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qO(e,t){t=t.checked,t!=null&&ab(e,"checked",t,!1)}function r1(e,t){qO(e,t);var n=rs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?i1(e,t.type,n):t.hasOwnProperty("defaultValue")&&i1(e,t.type,rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function i1(e,t,n){(t!=="number"||Tv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var af=Array.isArray;function Wu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function o1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(af(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rs(n)}}function zO(e,t){var n=rs(t.value),r=rs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _A(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function HO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function s1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?HO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _p,WO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_p=_p||document.createElement("div"),_p.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_p.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var df={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L6=["Webkit","ms","Moz","O"];Object.keys(df).forEach(function(e){L6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),df[t]=df[e]})});function KO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||df.hasOwnProperty(e)&&df[e]?(""+t).trim():t+"px"}function GO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var M6=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a1(e,t){if(t){if(M6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function u1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c1=null;function fb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var l1=null,Ku=null,Gu=null;function wA(e){if(e=Oh(e)){if(typeof l1!="function")throw Error(V(280));var t=e.stateNode;t&&(t=qg(t),l1(e.stateNode,e.type,t))}}function QO(e){Ku?Gu?Gu.push(e):Gu=[e]:Ku=e}function YO(){if(Ku){var e=Ku,t=Gu;if(Gu=Ku=null,wA(e),t)for(e=0;e<t.length;e++)wA(t[e])}}function XO(e,t){return e(t)}function JO(){}var V_=!1;function ZO(e,t,n){if(V_)return e(t,n);V_=!0;try{return XO(e,t,n)}finally{V_=!1,(Ku!==null||Gu!==null)&&(JO(),YO())}}function Vf(e,t){var n=e.stateNode;if(n===null)return null;var r=qg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var f1=!1;if(no)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){f1=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{f1=!1}function F6(e,t,n,r,i,s,a,c,l){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var pf=!1,Iv=null,Sv=!1,h1=null,U6={onError:function(e){pf=!0,Iv=e}};function j6(e,t,n,r,i,s,a,c,l){pf=!1,Iv=null,F6.apply(U6,arguments)}function B6(e,t,n,r,i,s,a,c,l){if(j6.apply(this,arguments),pf){if(pf){var h=Iv;pf=!1,Iv=null}else throw Error(V(198));Sv||(Sv=!0,h1=h)}}function Ma(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function e2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function EA(e){if(Ma(e)!==e)throw Error(V(188))}function V6(e){var t=e.alternate;if(!t){if(t=Ma(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return EA(i),e;if(s===r)return EA(i),t;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function t2(e){return e=V6(e),e!==null?n2(e):null}function n2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=n2(e);if(t!==null)return t;e=e.sibling}return null}var r2=ar.unstable_scheduleCallback,bA=ar.unstable_cancelCallback,$6=ar.unstable_shouldYield,q6=ar.unstable_requestPaint,ft=ar.unstable_now,z6=ar.unstable_getCurrentPriorityLevel,hb=ar.unstable_ImmediatePriority,i2=ar.unstable_UserBlockingPriority,kv=ar.unstable_NormalPriority,H6=ar.unstable_LowPriority,o2=ar.unstable_IdlePriority,jg=null,Ei=null;function W6(e){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(jg,e,void 0,(e.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:Q6,K6=Math.log,G6=Math.LN2;function Q6(e){return e>>>=0,e===0?32:31-(K6(e)/G6|0)|0}var wp=64,Ep=4194304;function uf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=uf(c):(s&=a,s!==0&&(r=uf(s)))}else a=n&~i,a!==0?r=uf(a):s!==0&&(r=uf(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ei(t),i=1<<n,r|=e[n],t&=~i;return r}function Y6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ei(s),c=1<<a,l=i[a];l===-1?(!(c&n)||c&r)&&(i[a]=Y6(c,t)):l<=t&&(e.expiredLanes|=c),s&=~c}}function d1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function s2(){var e=wp;return wp<<=1,!(wp&4194240)&&(wp=64),e}function $_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ei(t),e[t]=n}function J6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ei(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function db(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ei(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Me=0;function a2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var u2,pb,c2,l2,f2,p1=!1,bp=[],zo=null,Ho=null,Wo=null,$f=new Map,qf=new Map,Do=[],Z6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TA(e,t){switch(e){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":$f.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qf.delete(t.pointerId)}}function zl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Oh(t),t!==null&&pb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function e5(e,t,n,r,i){switch(t){case"focusin":return zo=zl(zo,e,t,n,r,i),!0;case"dragenter":return Ho=zl(Ho,e,t,n,r,i),!0;case"mouseover":return Wo=zl(Wo,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return $f.set(s,zl($f.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qf.set(s,zl(qf.get(s)||null,e,t,n,r,i)),!0}return!1}function h2(e){var t=Zs(e.target);if(t!==null){var n=Ma(t);if(n!==null){if(t=n.tag,t===13){if(t=e2(n),t!==null){e.blockedOn=t,f2(e.priority,function(){c2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=v1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);c1=r,n.target.dispatchEvent(r),c1=null}else return t=Oh(n),t!==null&&pb(t),e.blockedOn=n,!1;t.shift()}return!0}function IA(e,t,n){Zp(e)&&n.delete(t)}function t5(){p1=!1,zo!==null&&Zp(zo)&&(zo=null),Ho!==null&&Zp(Ho)&&(Ho=null),Wo!==null&&Zp(Wo)&&(Wo=null),$f.forEach(IA),qf.forEach(IA)}function Hl(e,t){e.blockedOn===t&&(e.blockedOn=null,p1||(p1=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,t5)))}function zf(e){function t(i){return Hl(i,e)}if(0<bp.length){Hl(bp[0],e);for(var n=1;n<bp.length;n++){var r=bp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zo!==null&&Hl(zo,e),Ho!==null&&Hl(Ho,e),Wo!==null&&Hl(Wo,e),$f.forEach(t),qf.forEach(t),n=0;n<Do.length;n++)r=Do[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Do.length&&(n=Do[0],n.blockedOn===null);)h2(n),n.blockedOn===null&&Do.shift()}var Qu=lo.ReactCurrentBatchConfig,Nv=!0;function n5(e,t,n,r){var i=Me,s=Qu.transition;Qu.transition=null;try{Me=1,vb(e,t,n,r)}finally{Me=i,Qu.transition=s}}function r5(e,t,n,r){var i=Me,s=Qu.transition;Qu.transition=null;try{Me=4,vb(e,t,n,r)}finally{Me=i,Qu.transition=s}}function vb(e,t,n,r){if(Nv){var i=v1(e,t,n,r);if(i===null)J_(e,t,r,Av,n),TA(e,r);else if(e5(i,e,t,n,r))r.stopPropagation();else if(TA(e,r),t&4&&-1<Z6.indexOf(e)){for(;i!==null;){var s=Oh(i);if(s!==null&&u2(s),s=v1(e,t,n,r),s===null&&J_(e,t,r,Av,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else J_(e,t,r,null,n)}}var Av=null;function v1(e,t,n,r){if(Av=null,e=fb(r),e=Zs(e),e!==null)if(t=Ma(e),t===null)e=null;else if(n=t.tag,n===13){if(e=e2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Av=e,null}function d2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z6()){case hb:return 1;case i2:return 4;case kv:case H6:return 16;case o2:return 536870912;default:return 16}default:return 16}}var Bo=null,gb=null,ev=null;function p2(){if(ev)return ev;var e,t=gb,n=t.length,r,i="value"in Bo?Bo.value:Bo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return ev=i.slice(e,1<r?1-r:void 0)}function tv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tp(){return!0}function SA(){return!1}function hr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tp:SA,this.isPropagationStopped=SA,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tp)},persist:function(){},isPersistent:Tp}),t}var Uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mb=hr(Uc),Ph=rt({},Uc,{view:0,detail:0}),i5=hr(Ph),q_,z_,Wl,Bg=rt({},Ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wl&&(Wl&&e.type==="mousemove"?(q_=e.screenX-Wl.screenX,z_=e.screenY-Wl.screenY):z_=q_=0,Wl=e),q_)},movementY:function(e){return"movementY"in e?e.movementY:z_}}),kA=hr(Bg),o5=rt({},Bg,{dataTransfer:0}),s5=hr(o5),a5=rt({},Ph,{relatedTarget:0}),H_=hr(a5),u5=rt({},Uc,{animationName:0,elapsedTime:0,pseudoElement:0}),c5=hr(u5),l5=rt({},Uc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f5=hr(l5),h5=rt({},Uc,{data:0}),CA=hr(h5),d5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v5[e])?!!t[e]:!1}function yb(){return g5}var m5=rt({},Ph,{key:function(e){if(e.key){var t=d5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yb,charCode:function(e){return e.type==="keypress"?tv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),y5=hr(m5),_5=rt({},Bg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NA=hr(_5),w5=rt({},Ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yb}),E5=hr(w5),b5=rt({},Uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),T5=hr(b5),I5=rt({},Bg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S5=hr(I5),k5=[9,13,27,32],_b=no&&"CompositionEvent"in window,vf=null;no&&"documentMode"in document&&(vf=document.documentMode);var C5=no&&"TextEvent"in window&&!vf,v2=no&&(!_b||vf&&8<vf&&11>=vf),AA=String.fromCharCode(32),RA=!1;function g2(e,t){switch(e){case"keyup":return k5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ou=!1;function N5(e,t){switch(e){case"compositionend":return m2(t);case"keypress":return t.which!==32?null:(RA=!0,AA);case"textInput":return e=t.data,e===AA&&RA?null:e;default:return null}}function A5(e,t){if(Ou)return e==="compositionend"||!_b&&g2(e,t)?(e=p2(),ev=gb=Bo=null,Ou=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return v2&&t.locale!=="ko"?null:t.data;default:return null}}var R5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!R5[e.type]:t==="textarea"}function y2(e,t,n,r){QO(r),t=Rv(t,"onChange"),0<t.length&&(n=new mb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gf=null,Hf=null;function x5(e){A2(e,0)}function Vg(e){var t=Mu(e);if($O(t))return e}function P5(e,t){if(e==="change")return t}var _2=!1;if(no){var W_;if(no){var K_="oninput"in document;if(!K_){var PA=document.createElement("div");PA.setAttribute("oninput","return;"),K_=typeof PA.oninput=="function"}W_=K_}else W_=!1;_2=W_&&(!document.documentMode||9<document.documentMode)}function OA(){gf&&(gf.detachEvent("onpropertychange",w2),Hf=gf=null)}function w2(e){if(e.propertyName==="value"&&Vg(Hf)){var t=[];y2(t,Hf,e,fb(e)),ZO(x5,t)}}function O5(e,t,n){e==="focusin"?(OA(),gf=t,Hf=n,gf.attachEvent("onpropertychange",w2)):e==="focusout"&&OA()}function D5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vg(Hf)}function L5(e,t){if(e==="click")return Vg(t)}function M5(e,t){if(e==="input"||e==="change")return Vg(t)}function F5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ii=typeof Object.is=="function"?Object.is:F5;function Wf(e,t){if(ii(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xw.call(t,i)||!ii(e[i],t[i]))return!1}return!0}function DA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function LA(e,t){var n=DA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=DA(n)}}function E2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function b2(){for(var e=window,t=Tv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tv(e.document)}return t}function wb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function U5(e){var t=b2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&E2(n.ownerDocument.documentElement,n)){if(r!==null&&wb(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=LA(n,s);var a=LA(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var j5=no&&"documentMode"in document&&11>=document.documentMode,Du=null,g1=null,mf=null,m1=!1;function MA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;m1||Du==null||Du!==Tv(r)||(r=Du,"selectionStart"in r&&wb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mf&&Wf(mf,r)||(mf=r,r=Rv(g1,"onSelect"),0<r.length&&(t=new mb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Du)))}function Ip(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lu={animationend:Ip("Animation","AnimationEnd"),animationiteration:Ip("Animation","AnimationIteration"),animationstart:Ip("Animation","AnimationStart"),transitionend:Ip("Transition","TransitionEnd")},G_={},T2={};no&&(T2=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function $g(e){if(G_[e])return G_[e];if(!Lu[e])return e;var t=Lu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in T2)return G_[e]=t[n];return e}var I2=$g("animationend"),S2=$g("animationiteration"),k2=$g("animationstart"),C2=$g("transitionend"),N2=new Map,FA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(e,t){N2.set(e,t),La(t,[e])}for(var Q_=0;Q_<FA.length;Q_++){var Y_=FA[Q_],B5=Y_.toLowerCase(),V5=Y_[0].toUpperCase()+Y_.slice(1);fs(B5,"on"+V5)}fs(I2,"onAnimationEnd");fs(S2,"onAnimationIteration");fs(k2,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(C2,"onTransitionEnd");ic("onMouseEnter",["mouseout","mouseover"]);ic("onMouseLeave",["mouseout","mouseover"]);ic("onPointerEnter",["pointerout","pointerover"]);ic("onPointerLeave",["pointerout","pointerover"]);La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));La("onBeforeInput",["compositionend","keypress","textInput","paste"]);La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$5=new Set("cancel close invalid load scroll toggle".split(" ").concat(cf));function UA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,B6(r,t,void 0,e),e.currentTarget=null}function A2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var c=r[a],l=c.instance,h=c.currentTarget;if(c=c.listener,l!==s&&i.isPropagationStopped())break e;UA(i,c,h),s=l}else for(a=0;a<r.length;a++){if(c=r[a],l=c.instance,h=c.currentTarget,c=c.listener,l!==s&&i.isPropagationStopped())break e;UA(i,c,h),s=l}}}if(Sv)throw e=h1,Sv=!1,h1=null,e}function qe(e,t){var n=t[b1];n===void 0&&(n=t[b1]=new Set);var r=e+"__bubble";n.has(r)||(R2(t,e,2,!1),n.add(r))}function X_(e,t,n){var r=0;t&&(r|=4),R2(n,e,r,t)}var Sp="_reactListening"+Math.random().toString(36).slice(2);function Kf(e){if(!e[Sp]){e[Sp]=!0,FO.forEach(function(n){n!=="selectionchange"&&($5.has(n)||X_(n,!1,e),X_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sp]||(t[Sp]=!0,X_("selectionchange",!1,t))}}function R2(e,t,n,r){switch(d2(t)){case 1:var i=n5;break;case 4:i=r5;break;default:i=vb}n=i.bind(null,t,n,e),i=void 0,!f1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function J_(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Zs(c),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}c=c.parentNode}}r=r.return}ZO(function(){var h=s,p=fb(n),v=[];e:{var m=N2.get(e);if(m!==void 0){var y=mb,w=e;switch(e){case"keypress":if(tv(n)===0)break e;case"keydown":case"keyup":y=y5;break;case"focusin":w="focus",y=H_;break;case"focusout":w="blur",y=H_;break;case"beforeblur":case"afterblur":y=H_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=kA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=s5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=E5;break;case I2:case S2:case k2:y=c5;break;case C2:y=T5;break;case"scroll":y=i5;break;case"wheel":y=S5;break;case"copy":case"cut":case"paste":y=f5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=NA}var I=(t&4)!==0,C=!I&&e==="scroll",b=I?m!==null?m+"Capture":null:m;I=[];for(var T=h,S;T!==null;){S=T;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,b!==null&&(x=Vf(T,b),x!=null&&I.push(Gf(T,x,S)))),C)break;T=T.return}0<I.length&&(m=new y(m,w,null,n,p),v.push({event:m,listeners:I}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==c1&&(w=n.relatedTarget||n.fromElement)&&(Zs(w)||w[ro]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?Zs(w):null,w!==null&&(C=Ma(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(I=kA,x="onMouseLeave",b="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(I=NA,x="onPointerLeave",b="onPointerEnter",T="pointer"),C=y==null?m:Mu(y),S=w==null?m:Mu(w),m=new I(x,T+"leave",y,n,p),m.target=C,m.relatedTarget=S,x=null,Zs(p)===h&&(I=new I(b,T+"enter",w,n,p),I.target=S,I.relatedTarget=C,x=I),C=x,y&&w)t:{for(I=y,b=w,T=0,S=I;S;S=bu(S))T++;for(S=0,x=b;x;x=bu(x))S++;for(;0<T-S;)I=bu(I),T--;for(;0<S-T;)b=bu(b),S--;for(;T--;){if(I===b||b!==null&&I===b.alternate)break t;I=bu(I),b=bu(b)}I=null}else I=null;y!==null&&jA(v,m,y,I,!1),w!==null&&C!==null&&jA(v,C,w,I,!0)}}e:{if(m=h?Mu(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var L=P5;else if(xA(m))if(_2)L=M5;else{L=D5;var P=O5}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=L5);if(L&&(L=L(e,h))){y2(v,L,n,p);break e}P&&P(e,m,h),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&i1(m,"number",m.value)}switch(P=h?Mu(h):window,e){case"focusin":(xA(P)||P.contentEditable==="true")&&(Du=P,g1=h,mf=null);break;case"focusout":mf=g1=Du=null;break;case"mousedown":m1=!0;break;case"contextmenu":case"mouseup":case"dragend":m1=!1,MA(v,n,p);break;case"selectionchange":if(j5)break;case"keydown":case"keyup":MA(v,n,p)}var $;if(_b)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Ou?g2(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(v2&&n.locale!=="ko"&&(Ou||F!=="onCompositionStart"?F==="onCompositionEnd"&&Ou&&($=p2()):(Bo=p,gb="value"in Bo?Bo.value:Bo.textContent,Ou=!0)),P=Rv(h,F),0<P.length&&(F=new CA(F,e,null,n,p),v.push({event:F,listeners:P}),$?F.data=$:($=m2(n),$!==null&&(F.data=$)))),($=C5?N5(e,n):A5(e,n))&&(h=Rv(h,"onBeforeInput"),0<h.length&&(p=new CA("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:h}),p.data=$))}A2(v,t)})}function Gf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vf(e,n),s!=null&&r.unshift(Gf(e,s,i)),s=Vf(e,t),s!=null&&r.push(Gf(e,s,i))),e=e.return}return r}function bu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jA(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var c=n,l=c.alternate,h=c.stateNode;if(l!==null&&l===r)break;c.tag===5&&h!==null&&(c=h,i?(l=Vf(n,s),l!=null&&a.unshift(Gf(n,l,c))):i||(l=Vf(n,s),l!=null&&a.push(Gf(n,l,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var q5=/\r\n?/g,z5=/\u0000|\uFFFD/g;function BA(e){return(typeof e=="string"?e:""+e).replace(q5,`
`).replace(z5,"")}function kp(e,t,n){if(t=BA(t),BA(e)!==t&&n)throw Error(V(425))}function xv(){}var y1=null,_1=null;function w1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var E1=typeof setTimeout=="function"?setTimeout:void 0,H5=typeof clearTimeout=="function"?clearTimeout:void 0,VA=typeof Promise=="function"?Promise:void 0,W5=typeof queueMicrotask=="function"?queueMicrotask:typeof VA<"u"?function(e){return VA.resolve(null).then(e).catch(K5)}:E1;function K5(e){setTimeout(function(){throw e})}function Z_(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zf(t)}function Ko(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $A(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jc=Math.random().toString(36).slice(2),_i="__reactFiber$"+jc,Qf="__reactProps$"+jc,ro="__reactContainer$"+jc,b1="__reactEvents$"+jc,G5="__reactListeners$"+jc,Q5="__reactHandles$"+jc;function Zs(e){var t=e[_i];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ro]||n[_i]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$A(e);e!==null;){if(n=e[_i])return n;e=$A(e)}return t}e=n,n=e.parentNode}return null}function Oh(e){return e=e[_i]||e[ro],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function qg(e){return e[Qf]||null}var T1=[],Fu=-1;function hs(e){return{current:e}}function He(e){0>Fu||(e.current=T1[Fu],T1[Fu]=null,Fu--)}function Be(e,t){Fu++,T1[Fu]=e.current,e.current=t}var is={},dn=hs(is),$n=hs(!1),ma=is;function oc(e,t){var n=e.type.contextTypes;if(!n)return is;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qn(e){return e=e.childContextTypes,e!=null}function Pv(){He($n),He(dn)}function qA(e,t,n){if(dn.current!==is)throw Error(V(168));Be(dn,t),Be($n,n)}function x2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,O6(e)||"Unknown",i));return rt({},n,r)}function Ov(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||is,ma=dn.current,Be(dn,e),Be($n,$n.current),!0}function zA(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=x2(e,t,ma),r.__reactInternalMemoizedMergedChildContext=e,He($n),He(dn),Be(dn,e)):He($n),Be($n,n)}var Wi=null,zg=!1,ew=!1;function P2(e){Wi===null?Wi=[e]:Wi.push(e)}function Y5(e){zg=!0,P2(e)}function ds(){if(!ew&&Wi!==null){ew=!0;var e=0,t=Me;try{var n=Wi;for(Me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wi=null,zg=!1}catch(i){throw Wi!==null&&(Wi=Wi.slice(e+1)),r2(hb,ds),i}finally{Me=t,ew=!1}}return null}var Uu=[],ju=0,Dv=null,Lv=0,mr=[],yr=0,ya=null,Ki=1,Gi="";function Ws(e,t){Uu[ju++]=Lv,Uu[ju++]=Dv,Dv=e,Lv=t}function O2(e,t,n){mr[yr++]=Ki,mr[yr++]=Gi,mr[yr++]=ya,ya=e;var r=Ki;e=Gi;var i=32-ei(r)-1;r&=~(1<<i),n+=1;var s=32-ei(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ki=1<<32-ei(t)+i|n<<i|r,Gi=s+e}else Ki=1<<s|n<<i|r,Gi=e}function Eb(e){e.return!==null&&(Ws(e,1),O2(e,1,0))}function bb(e){for(;e===Dv;)Dv=Uu[--ju],Uu[ju]=null,Lv=Uu[--ju],Uu[ju]=null;for(;e===ya;)ya=mr[--yr],mr[yr]=null,Gi=mr[--yr],mr[yr]=null,Ki=mr[--yr],mr[yr]=null}var sr=null,nr=null,Ge=!1,Jr=null;function D2(e,t){var n=wr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function HA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sr=e,nr=Ko(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sr=e,nr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ya!==null?{id:Ki,overflow:Gi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,sr=e,nr=null,!0):!1;default:return!1}}function I1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function S1(e){if(Ge){var t=nr;if(t){var n=t;if(!HA(e,t)){if(I1(e))throw Error(V(418));t=Ko(n.nextSibling);var r=sr;t&&HA(e,t)?D2(r,n):(e.flags=e.flags&-4097|2,Ge=!1,sr=e)}}else{if(I1(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ge=!1,sr=e}}}function WA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sr=e}function Cp(e){if(e!==sr)return!1;if(!Ge)return WA(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!w1(e.type,e.memoizedProps)),t&&(t=nr)){if(I1(e))throw L2(),Error(V(418));for(;t;)D2(e,t),t=Ko(t.nextSibling)}if(WA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nr=Ko(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nr=null}}else nr=sr?Ko(e.stateNode.nextSibling):null;return!0}function L2(){for(var e=nr;e;)e=Ko(e.nextSibling)}function sc(){nr=sr=null,Ge=!1}function Tb(e){Jr===null?Jr=[e]:Jr.push(e)}var X5=lo.ReactCurrentBatchConfig;function Gr(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Mv=hs(null),Fv=null,Bu=null,Ib=null;function Sb(){Ib=Bu=Fv=null}function kb(e){var t=Mv.current;He(Mv),e._currentValue=t}function k1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yu(e,t){Fv=e,Ib=Bu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bn=!0),e.firstContext=null)}function Ar(e){var t=e._currentValue;if(Ib!==e)if(e={context:e,memoizedValue:t,next:null},Bu===null){if(Fv===null)throw Error(V(308));Bu=e,Fv.dependencies={lanes:0,firstContext:e}}else Bu=Bu.next=e;return t}var ea=null;function Cb(e){ea===null?ea=[e]:ea.push(e)}function M2(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Cb(t)):(n.next=i.next,i.next=n),t.interleaved=n,io(e,r)}function io(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Po=!1;function Nb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Go(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,io(e,n)}return i=r.interleaved,i===null?(t.next=t,Cb(r)):(t.next=i.next,i.next=t),r.interleaved=t,io(e,n)}function nv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,db(e,n)}}function KA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uv(e,t,n,r){var i=e.updateQueue;Po=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var l=c,h=l.next;l.next=null,a===null?s=h:a.next=h,a=l;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==a&&(c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=l))}if(s!==null){var v=i.baseState;a=0,p=h=l=null,c=s;do{var m=c.lane,y=c.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,I=c;switch(m=t,y=n,I.tag){case 1:if(w=I.payload,typeof w=="function"){v=w.call(y,v,m);break e}v=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=I.payload,m=typeof w=="function"?w.call(y,v,m):w,m==null)break e;v=rt({},v,m);break e;case 2:Po=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[c]:m.push(c))}else y={eventTime:y,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(h=p=y,l=v):p=p.next=y,a|=m;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;m=c,c=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(p===null&&(l=v),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);wa|=a,e.lanes=a,e.memoizedState=v}}function GA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var U2=new MO.Component().refs;function C1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hg={isMounted:function(e){return(e=e._reactInternals)?Ma(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nn(),i=Yo(e),s=Ji(r,i);s.payload=t,n!=null&&(s.callback=n),t=Go(e,s,i),t!==null&&(ti(t,e,i,r),nv(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nn(),i=Yo(e),s=Ji(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Go(e,s,i),t!==null&&(ti(t,e,i,r),nv(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nn(),r=Yo(e),i=Ji(n,r);i.tag=2,t!=null&&(i.callback=t),t=Go(e,i,r),t!==null&&(ti(t,e,r,n),nv(t,e,r))}};function QA(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Wf(n,r)||!Wf(i,s):!0}function j2(e,t,n){var r=!1,i=is,s=t.contextType;return typeof s=="object"&&s!==null?s=Ar(s):(i=qn(t)?ma:dn.current,r=t.contextTypes,s=(r=r!=null)?oc(e,i):is),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function YA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hg.enqueueReplaceState(t,t.state,null)}function N1(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=U2,Nb(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ar(s):(s=qn(t)?ma:dn.current,i.context=oc(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(C1(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hg.enqueueReplaceState(i,i.state,null),Uv(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var c=i.refs;c===U2&&(c=i.refs={}),a===null?delete c[s]:c[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Np(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function XA(e){var t=e._init;return t(e._payload)}function B2(e){function t(b,T){if(e){var S=b.deletions;S===null?(b.deletions=[T],b.flags|=16):S.push(T)}}function n(b,T){if(!e)return null;for(;T!==null;)t(b,T),T=T.sibling;return null}function r(b,T){for(b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function i(b,T){return b=Xo(b,T),b.index=0,b.sibling=null,b}function s(b,T,S){return b.index=S,e?(S=b.alternate,S!==null?(S=S.index,S<T?(b.flags|=2,T):S):(b.flags|=2,T)):(b.flags|=1048576,T)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function c(b,T,S,x){return T===null||T.tag!==6?(T=aw(S,b.mode,x),T.return=b,T):(T=i(T,S),T.return=b,T)}function l(b,T,S,x){var L=S.type;return L===Pu?p(b,T,S.props.children,x,S.key):T!==null&&(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===xo&&XA(L)===T.type)?(x=i(T,S.props),x.ref=Kl(b,T,S),x.return=b,x):(x=uv(S.type,S.key,S.props,null,b.mode,x),x.ref=Kl(b,T,S),x.return=b,x)}function h(b,T,S,x){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=uw(S,b.mode,x),T.return=b,T):(T=i(T,S.children||[]),T.return=b,T)}function p(b,T,S,x,L){return T===null||T.tag!==7?(T=la(S,b.mode,x,L),T.return=b,T):(T=i(T,S),T.return=b,T)}function v(b,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return T=aw(""+T,b.mode,S),T.return=b,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case mp:return S=uv(T.type,T.key,T.props,null,b.mode,S),S.ref=Kl(b,null,T),S.return=b,S;case xu:return T=uw(T,b.mode,S),T.return=b,T;case xo:var x=T._init;return v(b,x(T._payload),S)}if(af(T)||$l(T))return T=la(T,b.mode,S,null),T.return=b,T;Np(b,T)}return null}function m(b,T,S,x){var L=T!==null?T.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return L!==null?null:c(b,T,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mp:return S.key===L?l(b,T,S,x):null;case xu:return S.key===L?h(b,T,S,x):null;case xo:return L=S._init,m(b,T,L(S._payload),x)}if(af(S)||$l(S))return L!==null?null:p(b,T,S,x,null);Np(b,S)}return null}function y(b,T,S,x,L){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(S)||null,c(T,b,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mp:return b=b.get(x.key===null?S:x.key)||null,l(T,b,x,L);case xu:return b=b.get(x.key===null?S:x.key)||null,h(T,b,x,L);case xo:var P=x._init;return y(b,T,S,P(x._payload),L)}if(af(x)||$l(x))return b=b.get(S)||null,p(T,b,x,L,null);Np(T,x)}return null}function w(b,T,S,x){for(var L=null,P=null,$=T,F=T=0,ce=null;$!==null&&F<S.length;F++){$.index>F?(ce=$,$=null):ce=$.sibling;var R=m(b,$,S[F],x);if(R===null){$===null&&($=ce);break}e&&$&&R.alternate===null&&t(b,$),T=s(R,T,F),P===null?L=R:P.sibling=R,P=R,$=ce}if(F===S.length)return n(b,$),Ge&&Ws(b,F),L;if($===null){for(;F<S.length;F++)$=v(b,S[F],x),$!==null&&(T=s($,T,F),P===null?L=$:P.sibling=$,P=$);return Ge&&Ws(b,F),L}for($=r(b,$);F<S.length;F++)ce=y($,b,F,S[F],x),ce!==null&&(e&&ce.alternate!==null&&$.delete(ce.key===null?F:ce.key),T=s(ce,T,F),P===null?L=ce:P.sibling=ce,P=ce);return e&&$.forEach(function(Vt){return t(b,Vt)}),Ge&&Ws(b,F),L}function I(b,T,S,x){var L=$l(S);if(typeof L!="function")throw Error(V(150));if(S=L.call(S),S==null)throw Error(V(151));for(var P=L=null,$=T,F=T=0,ce=null,R=S.next();$!==null&&!R.done;F++,R=S.next()){$.index>F?(ce=$,$=null):ce=$.sibling;var Vt=m(b,$,R.value,x);if(Vt===null){$===null&&($=ce);break}e&&$&&Vt.alternate===null&&t(b,$),T=s(Vt,T,F),P===null?L=Vt:P.sibling=Vt,P=Vt,$=ce}if(R.done)return n(b,$),Ge&&Ws(b,F),L;if($===null){for(;!R.done;F++,R=S.next())R=v(b,R.value,x),R!==null&&(T=s(R,T,F),P===null?L=R:P.sibling=R,P=R);return Ge&&Ws(b,F),L}for($=r(b,$);!R.done;F++,R=S.next())R=y($,b,F,R.value,x),R!==null&&(e&&R.alternate!==null&&$.delete(R.key===null?F:R.key),T=s(R,T,F),P===null?L=R:P.sibling=R,P=R);return e&&$.forEach(function(Dr){return t(b,Dr)}),Ge&&Ws(b,F),L}function C(b,T,S,x){if(typeof S=="object"&&S!==null&&S.type===Pu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case mp:e:{for(var L=S.key,P=T;P!==null;){if(P.key===L){if(L=S.type,L===Pu){if(P.tag===7){n(b,P.sibling),T=i(P,S.props.children),T.return=b,b=T;break e}}else if(P.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===xo&&XA(L)===P.type){n(b,P.sibling),T=i(P,S.props),T.ref=Kl(b,P,S),T.return=b,b=T;break e}n(b,P);break}else t(b,P);P=P.sibling}S.type===Pu?(T=la(S.props.children,b.mode,x,S.key),T.return=b,b=T):(x=uv(S.type,S.key,S.props,null,b.mode,x),x.ref=Kl(b,T,S),x.return=b,b=x)}return a(b);case xu:e:{for(P=S.key;T!==null;){if(T.key===P)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){n(b,T.sibling),T=i(T,S.children||[]),T.return=b,b=T;break e}else{n(b,T);break}else t(b,T);T=T.sibling}T=uw(S,b.mode,x),T.return=b,b=T}return a(b);case xo:return P=S._init,C(b,T,P(S._payload),x)}if(af(S))return w(b,T,S,x);if($l(S))return I(b,T,S,x);Np(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,T!==null&&T.tag===6?(n(b,T.sibling),T=i(T,S),T.return=b,b=T):(n(b,T),T=aw(S,b.mode,x),T.return=b,b=T),a(b)):n(b,T)}return C}var ac=B2(!0),V2=B2(!1),Dh={},bi=hs(Dh),Yf=hs(Dh),Xf=hs(Dh);function ta(e){if(e===Dh)throw Error(V(174));return e}function Ab(e,t){switch(Be(Xf,t),Be(Yf,e),Be(bi,Dh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:s1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=s1(t,e)}He(bi),Be(bi,t)}function uc(){He(bi),He(Yf),He(Xf)}function $2(e){ta(Xf.current);var t=ta(bi.current),n=s1(t,e.type);t!==n&&(Be(Yf,e),Be(bi,n))}function Rb(e){Yf.current===e&&(He(bi),He(Yf))}var Ze=hs(0);function jv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tw=[];function xb(){for(var e=0;e<tw.length;e++)tw[e]._workInProgressVersionPrimary=null;tw.length=0}var rv=lo.ReactCurrentDispatcher,nw=lo.ReactCurrentBatchConfig,_a=0,nt=null,It=null,Pt=null,Bv=!1,yf=!1,Jf=0,J5=0;function nn(){throw Error(V(321))}function Pb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ii(e[n],t[n]))return!1;return!0}function Ob(e,t,n,r,i,s){if(_a=s,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rv.current=e===null||e.memoizedState===null?nq:rq,e=n(r,i),yf){s=0;do{if(yf=!1,Jf=0,25<=s)throw Error(V(301));s+=1,Pt=It=null,t.updateQueue=null,rv.current=iq,e=n(r,i)}while(yf)}if(rv.current=Vv,t=It!==null&&It.next!==null,_a=0,Pt=It=nt=null,Bv=!1,t)throw Error(V(300));return e}function Db(){var e=Jf!==0;return Jf=0,e}function mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?nt.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Rr(){if(It===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=Pt===null?nt.memoizedState:Pt.next;if(t!==null)Pt=t,It=e;else{if(e===null)throw Error(V(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Pt===null?nt.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Zf(e,t){return typeof t=="function"?t(e):t}function rw(e){var t=Rr(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=It,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=a=null,l=null,h=s;do{var p=h.lane;if((_a&p)===p)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(c=l=v,a=r):l=l.next=v,nt.lanes|=p,wa|=p}h=h.next}while(h!==null&&h!==s);l===null?a=r:l.next=c,ii(r,t.memoizedState)||(Bn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,nt.lanes|=s,wa|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function iw(e){var t=Rr(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);ii(s,t.memoizedState)||(Bn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function q2(){}function z2(e,t){var n=nt,r=Rr(),i=t(),s=!ii(r.memoizedState,i);if(s&&(r.memoizedState=i,Bn=!0),r=r.queue,Lb(K2.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,eh(9,W2.bind(null,n,r,i,t),void 0,null),Ut===null)throw Error(V(349));_a&30||H2(n,t,i)}return i}function H2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function W2(e,t,n,r){t.value=n,t.getSnapshot=r,G2(t)&&Q2(e)}function K2(e,t,n){return n(function(){G2(t)&&Q2(e)})}function G2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ii(e,n)}catch{return!0}}function Q2(e){var t=io(e,1);t!==null&&ti(t,e,1,-1)}function JA(e){var t=mi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:e},t.queue=e,e=e.dispatch=tq.bind(null,nt,e),[t.memoizedState,e]}function eh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Y2(){return Rr().memoizedState}function iv(e,t,n,r){var i=mi();nt.flags|=e,i.memoizedState=eh(1|t,n,void 0,r===void 0?null:r)}function Wg(e,t,n,r){var i=Rr();r=r===void 0?null:r;var s=void 0;if(It!==null){var a=It.memoizedState;if(s=a.destroy,r!==null&&Pb(r,a.deps)){i.memoizedState=eh(t,n,s,r);return}}nt.flags|=e,i.memoizedState=eh(1|t,n,s,r)}function ZA(e,t){return iv(8390656,8,e,t)}function Lb(e,t){return Wg(2048,8,e,t)}function X2(e,t){return Wg(4,2,e,t)}function J2(e,t){return Wg(4,4,e,t)}function Z2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eD(e,t,n){return n=n!=null?n.concat([e]):null,Wg(4,4,Z2.bind(null,t,e),n)}function Mb(){}function tD(e,t){var n=Rr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nD(e,t){var n=Rr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rD(e,t,n){return _a&21?(ii(n,t)||(n=s2(),nt.lanes|=n,wa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bn=!0),e.memoizedState=n)}function Z5(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var r=nw.transition;nw.transition={};try{e(!1),t()}finally{Me=n,nw.transition=r}}function iD(){return Rr().memoizedState}function eq(e,t,n){var r=Yo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oD(e))sD(t,n);else if(n=M2(e,t,n,r),n!==null){var i=Nn();ti(n,e,r,i),aD(n,t,r)}}function tq(e,t,n){var r=Yo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oD(e))sD(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,c=s(a,n);if(i.hasEagerState=!0,i.eagerState=c,ii(c,a)){var l=t.interleaved;l===null?(i.next=i,Cb(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=M2(e,t,i,r),n!==null&&(i=Nn(),ti(n,e,r,i),aD(n,t,r))}}function oD(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function sD(e,t){yf=Bv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,db(e,n)}}var Vv={readContext:Ar,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},nq={readContext:Ar,useCallback:function(e,t){return mi().memoizedState=[e,t===void 0?null:t],e},useContext:Ar,useEffect:ZA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,iv(4194308,4,Z2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return iv(4194308,4,e,t)},useInsertionEffect:function(e,t){return iv(4,2,e,t)},useMemo:function(e,t){var n=mi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eq.bind(null,nt,e),[r.memoizedState,e]},useRef:function(e){var t=mi();return e={current:e},t.memoizedState=e},useState:JA,useDebugValue:Mb,useDeferredValue:function(e){return mi().memoizedState=e},useTransition:function(){var e=JA(!1),t=e[0];return e=Z5.bind(null,e[1]),mi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nt,i=mi();if(Ge){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Ut===null)throw Error(V(349));_a&30||H2(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ZA(K2.bind(null,r,s,e),[e]),r.flags|=2048,eh(9,W2.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=mi(),t=Ut.identifierPrefix;if(Ge){var n=Gi,r=Ki;n=(r&~(1<<32-ei(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=J5++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rq={readContext:Ar,useCallback:tD,useContext:Ar,useEffect:Lb,useImperativeHandle:eD,useInsertionEffect:X2,useLayoutEffect:J2,useMemo:nD,useReducer:rw,useRef:Y2,useState:function(){return rw(Zf)},useDebugValue:Mb,useDeferredValue:function(e){var t=Rr();return rD(t,It.memoizedState,e)},useTransition:function(){var e=rw(Zf)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:q2,useSyncExternalStore:z2,useId:iD,unstable_isNewReconciler:!1},iq={readContext:Ar,useCallback:tD,useContext:Ar,useEffect:Lb,useImperativeHandle:eD,useInsertionEffect:X2,useLayoutEffect:J2,useMemo:nD,useReducer:iw,useRef:Y2,useState:function(){return iw(Zf)},useDebugValue:Mb,useDeferredValue:function(e){var t=Rr();return It===null?t.memoizedState=e:rD(t,It.memoizedState,e)},useTransition:function(){var e=iw(Zf)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:q2,useSyncExternalStore:z2,useId:iD,unstable_isNewReconciler:!1};function cc(e,t){try{var n="",r=t;do n+=P6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ow(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function A1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oq=typeof WeakMap=="function"?WeakMap:Map;function uD(e,t,n){n=Ji(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qv||(qv=!0,j1=r),A1(e,t)},n}function cD(e,t,n){n=Ji(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){A1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){A1(e,t),typeof r!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function eR(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oq;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_q.bind(null,e,t,n),t.then(e,e))}function tR(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nR(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ji(-1,1),t.tag=2,Go(n,t,1))),n.lanes|=1),e)}var sq=lo.ReactCurrentOwner,Bn=!1;function En(e,t,n,r){t.child=e===null?V2(t,null,n,r):ac(t,e.child,n,r)}function rR(e,t,n,r,i){n=n.render;var s=t.ref;return Yu(t,i),r=Ob(e,t,n,r,s,i),n=Db(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,oo(e,t,i)):(Ge&&n&&Eb(t),t.flags|=1,En(e,t,r,i),t.child)}function iR(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!zb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,lD(e,t,s,r,i)):(e=uv(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wf,n(a,r)&&e.ref===t.ref)return oo(e,t,i)}return t.flags|=1,e=Xo(s,r),e.ref=t.ref,e.return=t,t.child=e}function lD(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Wf(s,r)&&e.ref===t.ref)if(Bn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Bn=!0);else return t.lanes=e.lanes,oo(e,t,i)}return R1(e,t,n,r,i)}function fD(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be($u,Jn),Jn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be($u,Jn),Jn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be($u,Jn),Jn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Be($u,Jn),Jn|=r;return En(e,t,i,n),t.child}function hD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function R1(e,t,n,r,i){var s=qn(n)?ma:dn.current;return s=oc(t,s),Yu(t,i),n=Ob(e,t,n,r,s,i),r=Db(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,oo(e,t,i)):(Ge&&r&&Eb(t),t.flags|=1,En(e,t,n,i),t.child)}function oR(e,t,n,r,i){if(qn(n)){var s=!0;Ov(t)}else s=!1;if(Yu(t,i),t.stateNode===null)ov(e,t),j2(t,n,r),N1(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var l=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ar(h):(h=qn(n)?ma:dn.current,h=oc(t,h));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||l!==h)&&YA(t,a,r,h),Po=!1;var m=t.memoizedState;a.state=m,Uv(t,r,a,i),l=t.memoizedState,c!==r||m!==l||$n.current||Po?(typeof p=="function"&&(C1(t,n,p,r),l=t.memoizedState),(c=Po||QA(t,n,c,r,m,l,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=h,r=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,F2(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:Gr(t.type,c),a.props=h,v=t.pendingProps,m=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ar(l):(l=qn(n)?ma:dn.current,l=oc(t,l));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==v||m!==l)&&YA(t,a,r,l),Po=!1,m=t.memoizedState,a.state=m,Uv(t,r,a,i);var w=t.memoizedState;c!==v||m!==w||$n.current||Po?(typeof y=="function"&&(C1(t,n,y,r),w=t.memoizedState),(h=Po||QA(t,n,h,r,m,w,l)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=l,r=h):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return x1(e,t,n,r,s,i)}function x1(e,t,n,r,i,s){hD(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&zA(t,n,!1),oo(e,t,s);r=t.stateNode,sq.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ac(t,e.child,null,s),t.child=ac(t,null,c,s)):En(e,t,c,s),t.memoizedState=r.state,i&&zA(t,n,!0),t.child}function dD(e){var t=e.stateNode;t.pendingContext?qA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qA(e,t.context,!1),Ab(e,t.containerInfo)}function sR(e,t,n,r,i){return sc(),Tb(i),t.flags|=256,En(e,t,n,r),t.child}var P1={dehydrated:null,treeContext:null,retryLane:0};function O1(e){return{baseLanes:e,cachePool:null,transitions:null}}function pD(e,t,n){var r=t.pendingProps,i=Ze.current,s=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Be(Ze,i&1),e===null)return S1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Qg(a,r,0,null),e=la(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=O1(n),t.memoizedState=P1,e):Fb(t,a));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return aq(e,t,a,r,c,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,c=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Xo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=Xo(c,s):(s=la(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?O1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=P1,r}return s=e.child,e=s.sibling,r=Xo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fb(e,t){return t=Qg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ap(e,t,n,r){return r!==null&&Tb(r),ac(t,e.child,null,n),e=Fb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aq(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=ow(Error(V(422))),Ap(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Qg({mode:"visible",children:r.children},i,0,null),s=la(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ac(t,e.child,null,a),t.child.memoizedState=O1(a),t.memoizedState=P1,s);if(!(t.mode&1))return Ap(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(V(419)),r=ow(s,r,void 0),Ap(e,t,a,r)}if(c=(a&e.childLanes)!==0,Bn||c){if(r=Ut,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,io(e,i),ti(r,e,i,-1))}return qb(),r=ow(Error(V(421))),Ap(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=wq.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,nr=Ko(i.nextSibling),sr=t,Ge=!0,Jr=null,e!==null&&(mr[yr++]=Ki,mr[yr++]=Gi,mr[yr++]=ya,Ki=e.id,Gi=e.overflow,ya=t),t=Fb(t,r.children),t.flags|=4096,t)}function aR(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),k1(e.return,t,n)}function sw(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vD(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(En(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&aR(e,n,t);else if(e.tag===19)aR(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Be(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&jv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sw(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sw(t,!0,n,null,s);break;case"together":sw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ov(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function oo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Xo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uq(e,t,n){switch(t.tag){case 3:dD(t),sc();break;case 5:$2(t);break;case 1:qn(t.type)&&Ov(t);break;case 4:Ab(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Be(Mv,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?pD(e,t,n):(Be(Ze,Ze.current&1),e=oo(e,t,n),e!==null?e.sibling:null);Be(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,fD(e,t,n)}return oo(e,t,n)}var gD,D1,mD,yD;gD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};D1=function(){};mD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ta(bi.current);var s=null;switch(n){case"input":i=n1(e,i),r=n1(e,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=o1(e,i),r=o1(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xv)}a1(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(jf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(l!=null||c!=null))if(h==="style")if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(jf.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&qe("scroll",e),s||c===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};yD=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gl(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cq(e,t,n){var r=t.pendingProps;switch(bb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(t),null;case 1:return qn(t.type)&&Pv(),rn(t),null;case 3:return r=t.stateNode,uc(),He($n),He(dn),xb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jr!==null&&($1(Jr),Jr=null))),D1(e,t),rn(t),null;case 5:Rb(t);var i=ta(Xf.current);if(n=t.type,e!==null&&t.stateNode!=null)mD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return rn(t),null}if(e=ta(bi.current),Cp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[_i]=t,r[Qf]=s,e=(t.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<cf.length;i++)qe(cf[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":gA(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":yA(r,s),qe("invalid",r)}a1(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&kp(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&kp(r.textContent,c,e),i=["children",""+c]):jf.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&qe("scroll",r)}switch(n){case"input":yp(r),mA(r,s,!0);break;case"textarea":yp(r),_A(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xv)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=HO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[_i]=t,e[Qf]=r,gD(e,t,!1,!1),t.stateNode=e;e:{switch(a=u1(n,r),n){case"dialog":qe("cancel",e),qe("close",e),i=r;break;case"iframe":case"object":case"embed":qe("load",e),i=r;break;case"video":case"audio":for(i=0;i<cf.length;i++)qe(cf[i],e);i=r;break;case"source":qe("error",e),i=r;break;case"img":case"image":case"link":qe("error",e),qe("load",e),i=r;break;case"details":qe("toggle",e),i=r;break;case"input":gA(e,r),i=n1(e,r),qe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),qe("invalid",e);break;case"textarea":yA(e,r),i=o1(e,r),qe("invalid",e);break;default:i=r}a1(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var l=c[s];s==="style"?GO(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&WO(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bf(e,l):typeof l=="number"&&Bf(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qe("scroll",e):l!=null&&ab(e,s,l,a))}switch(n){case"input":yp(e),mA(e,r,!1);break;case"textarea":yp(e),_A(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rs(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Wu(e,!!r.multiple,s,!1):r.defaultValue!=null&&Wu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rn(t),null;case 6:if(e&&t.stateNode!=null)yD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=ta(Xf.current),ta(bi.current),Cp(t)){if(r=t.stateNode,n=t.memoizedProps,r[_i]=t,(s=r.nodeValue!==n)&&(e=sr,e!==null))switch(e.tag){case 3:kp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_i]=t,t.stateNode=r}return rn(t),null;case 13:if(He(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&nr!==null&&t.mode&1&&!(t.flags&128))L2(),sc(),t.flags|=98560,s=!1;else if(s=Cp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[_i]=t}else sc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rn(t),s=!1}else Jr!==null&&($1(Jr),Jr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?kt===0&&(kt=3):qb())),t.updateQueue!==null&&(t.flags|=4),rn(t),null);case 4:return uc(),D1(e,t),e===null&&Kf(t.stateNode.containerInfo),rn(t),null;case 10:return kb(t.type._context),rn(t),null;case 17:return qn(t.type)&&Pv(),rn(t),null;case 19:if(He(Ze),s=t.memoizedState,s===null)return rn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Gl(s,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=jv(e),a!==null){for(t.flags|=128,Gl(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Be(Ze,Ze.current&1|2),t.child}e=e.sibling}s.tail!==null&&ft()>lc&&(t.flags|=128,r=!0,Gl(s,!1),t.lanes=4194304)}else{if(!r)if(e=jv(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ge)return rn(t),null}else 2*ft()-s.renderingStartTime>lc&&n!==1073741824&&(t.flags|=128,r=!0,Gl(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ft(),t.sibling=null,n=Ze.current,Be(Ze,r?n&1|2:n&1),t):(rn(t),null);case 22:case 23:return $b(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jn&1073741824&&(rn(t),t.subtreeFlags&6&&(t.flags|=8192)):rn(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function lq(e,t){switch(bb(t),t.tag){case 1:return qn(t.type)&&Pv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uc(),He($n),He(dn),xb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rb(t),null;case 13:if(He(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));sc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Ze),null;case 4:return uc(),null;case 10:return kb(t.type._context),null;case 22:case 23:return $b(),null;case 24:return null;default:return null}}var Rp=!1,an=!1,fq=typeof WeakSet=="function"?WeakSet:Set,G=null;function Vu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function L1(e,t,n){try{n()}catch(r){ot(e,t,r)}}var uR=!1;function hq(e,t){if(y1=Nv,e=b2(),wb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,l=-1,h=0,p=0,v=e,m=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(c=a+i),v!==s||r!==0&&v.nodeType!==3||(l=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)m=v,v=y;for(;;){if(v===e)break t;if(m===n&&++h===i&&(c=a),m===s&&++p===r&&(l=a),(y=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=y}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_1={focusedElem:e,selectionRange:n},Nv=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var I=w.memoizedProps,C=w.memoizedState,b=t.stateNode,T=b.getSnapshotBeforeUpdate(t.elementType===t.type?I:Gr(t.type,I),C);b.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(x){ot(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return w=uR,uR=!1,w}function _f(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&L1(t,n,s)}i=i.next}while(i!==r)}}function Kg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function M1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _D(e){var t=e.alternate;t!==null&&(e.alternate=null,_D(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_i],delete t[Qf],delete t[b1],delete t[G5],delete t[Q5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wD(e){return e.tag===5||e.tag===3||e.tag===4}function cR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function F1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xv));else if(r!==4&&(e=e.child,e!==null))for(F1(e,t,n),e=e.sibling;e!==null;)F1(e,t,n),e=e.sibling}function U1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(U1(e,t,n),e=e.sibling;e!==null;)U1(e,t,n),e=e.sibling}var zt=null,Yr=!1;function So(e,t,n){for(n=n.child;n!==null;)ED(e,t,n),n=n.sibling}function ED(e,t,n){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(jg,n)}catch{}switch(n.tag){case 5:an||Vu(n,t);case 6:var r=zt,i=Yr;zt=null,So(e,t,n),zt=r,Yr=i,zt!==null&&(Yr?(e=zt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(Yr?(e=zt,n=n.stateNode,e.nodeType===8?Z_(e.parentNode,n):e.nodeType===1&&Z_(e,n),zf(e)):Z_(zt,n.stateNode));break;case 4:r=zt,i=Yr,zt=n.stateNode.containerInfo,Yr=!0,So(e,t,n),zt=r,Yr=i;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&L1(n,t,a),i=i.next}while(i!==r)}So(e,t,n);break;case 1:if(!an&&(Vu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){ot(n,t,c)}So(e,t,n);break;case 21:So(e,t,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,So(e,t,n),an=r):So(e,t,n);break;default:So(e,t,n)}}function lR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fq),t.forEach(function(r){var i=Eq.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:zt=c.stateNode,Yr=!1;break e;case 3:zt=c.stateNode.containerInfo,Yr=!0;break e;case 4:zt=c.stateNode.containerInfo,Yr=!0;break e}c=c.return}if(zt===null)throw Error(V(160));ED(s,a,i),zt=null,Yr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){ot(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bD(t,e),t=t.sibling}function bD(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qr(t,e),gi(e),r&4){try{_f(3,e,e.return),Kg(3,e)}catch(I){ot(e,e.return,I)}try{_f(5,e,e.return)}catch(I){ot(e,e.return,I)}}break;case 1:qr(t,e),gi(e),r&512&&n!==null&&Vu(n,n.return);break;case 5:if(qr(t,e),gi(e),r&512&&n!==null&&Vu(n,n.return),e.flags&32){var i=e.stateNode;try{Bf(i,"")}catch(I){ot(e,e.return,I)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&qO(i,s),u1(c,a);var h=u1(c,s);for(a=0;a<l.length;a+=2){var p=l[a],v=l[a+1];p==="style"?GO(i,v):p==="dangerouslySetInnerHTML"?WO(i,v):p==="children"?Bf(i,v):ab(i,p,v,h)}switch(c){case"input":r1(i,s);break;case"textarea":zO(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Wu(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Wu(i,!!s.multiple,s.defaultValue,!0):Wu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qf]=s}catch(I){ot(e,e.return,I)}}break;case 6:if(qr(t,e),gi(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(I){ot(e,e.return,I)}}break;case 3:if(qr(t,e),gi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zf(t.containerInfo)}catch(I){ot(e,e.return,I)}break;case 4:qr(t,e),gi(e);break;case 13:qr(t,e),gi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bb=ft())),r&4&&lR(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(an=(h=an)||p,qr(t,e),an=h):qr(t,e),gi(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(G=e,p=e.child;p!==null;){for(v=G=p;G!==null;){switch(m=G,y=m.child,m.tag){case 0:case 11:case 14:case 15:_f(4,m,m.return);break;case 1:Vu(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(I){ot(r,n,I)}}break;case 5:Vu(m,m.return);break;case 22:if(m.memoizedState!==null){hR(v);continue}}y!==null?(y.return=m,G=y):hR(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=v.stateNode,l=v.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=KO("display",a))}catch(I){ot(e,e.return,I)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(I){ot(e,e.return,I)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:qr(t,e),gi(e),r&4&&lR(e);break;case 21:break;default:qr(t,e),gi(e)}}function gi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wD(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bf(i,""),r.flags&=-33);var s=cR(e);U1(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=cR(e);F1(e,c,a);break;default:throw Error(V(161))}}catch(l){ot(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dq(e,t,n){G=e,TD(e)}function TD(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Rp;if(!a){var c=i.alternate,l=c!==null&&c.memoizedState!==null||an;c=Rp;var h=an;if(Rp=a,(an=l)&&!h)for(G=i;G!==null;)a=G,l=a.child,a.tag===22&&a.memoizedState!==null?dR(i):l!==null?(l.return=a,G=l):dR(i);for(;s!==null;)G=s,TD(s),s=s.sibling;G=i,Rp=c,an=h}fR(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):fR(e)}}function fR(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||Kg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!an)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Gr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&GA(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}GA(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&zf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}an||t.flags&512&&M1(t)}catch(m){ot(t,t.return,m)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function hR(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function dR(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kg(4,t)}catch(l){ot(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ot(t,i,l)}}var s=t.return;try{M1(t)}catch(l){ot(t,s,l)}break;case 5:var a=t.return;try{M1(t)}catch(l){ot(t,a,l)}}}catch(l){ot(t,t.return,l)}if(t===e){G=null;break}var c=t.sibling;if(c!==null){c.return=t.return,G=c;break}G=t.return}}var pq=Math.ceil,$v=lo.ReactCurrentDispatcher,Ub=lo.ReactCurrentOwner,kr=lo.ReactCurrentBatchConfig,Ce=0,Ut=null,gt=null,Qt=0,Jn=0,$u=hs(0),kt=0,th=null,wa=0,Gg=0,jb=0,wf=null,jn=null,Bb=0,lc=1/0,zi=null,qv=!1,j1=null,Qo=null,xp=!1,Vo=null,zv=0,Ef=0,B1=null,sv=-1,av=0;function Nn(){return Ce&6?ft():sv!==-1?sv:sv=ft()}function Yo(e){return e.mode&1?Ce&2&&Qt!==0?Qt&-Qt:X5.transition!==null?(av===0&&(av=s2()),av):(e=Me,e!==0||(e=window.event,e=e===void 0?16:d2(e.type)),e):1}function ti(e,t,n,r){if(50<Ef)throw Ef=0,B1=null,Error(V(185));xh(e,n,r),(!(Ce&2)||e!==Ut)&&(e===Ut&&(!(Ce&2)&&(Gg|=n),kt===4&&Lo(e,Qt)),zn(e,r),n===1&&Ce===0&&!(t.mode&1)&&(lc=ft()+500,zg&&ds()))}function zn(e,t){var n=e.callbackNode;X6(e,t);var r=Cv(e,e===Ut?Qt:0);if(r===0)n!==null&&bA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bA(n),t===1)e.tag===0?Y5(pR.bind(null,e)):P2(pR.bind(null,e)),W5(function(){!(Ce&6)&&ds()}),n=null;else{switch(a2(r)){case 1:n=hb;break;case 4:n=i2;break;case 16:n=kv;break;case 536870912:n=o2;break;default:n=kv}n=xD(n,ID.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ID(e,t){if(sv=-1,av=0,Ce&6)throw Error(V(327));var n=e.callbackNode;if(Xu()&&e.callbackNode!==n)return null;var r=Cv(e,e===Ut?Qt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hv(e,r);else{t=r;var i=Ce;Ce|=2;var s=kD();(Ut!==e||Qt!==t)&&(zi=null,lc=ft()+500,ca(e,t));do try{mq();break}catch(c){SD(e,c)}while(1);Sb(),$v.current=s,Ce=i,gt!==null?t=0:(Ut=null,Qt=0,t=kt)}if(t!==0){if(t===2&&(i=d1(e),i!==0&&(r=i,t=V1(e,i))),t===1)throw n=th,ca(e,0),Lo(e,r),zn(e,ft()),n;if(t===6)Lo(e,r);else{if(i=e.current.alternate,!(r&30)&&!vq(i)&&(t=Hv(e,r),t===2&&(s=d1(e),s!==0&&(r=s,t=V1(e,s))),t===1))throw n=th,ca(e,0),Lo(e,r),zn(e,ft()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Ks(e,jn,zi);break;case 3:if(Lo(e,r),(r&130023424)===r&&(t=Bb+500-ft(),10<t)){if(Cv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Nn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=E1(Ks.bind(null,e,jn,zi),t);break}Ks(e,jn,zi);break;case 4:if(Lo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ei(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pq(r/1960))-r,10<r){e.timeoutHandle=E1(Ks.bind(null,e,jn,zi),r);break}Ks(e,jn,zi);break;case 5:Ks(e,jn,zi);break;default:throw Error(V(329))}}}return zn(e,ft()),e.callbackNode===n?ID.bind(null,e):null}function V1(e,t){var n=wf;return e.current.memoizedState.isDehydrated&&(ca(e,t).flags|=256),e=Hv(e,t),e!==2&&(t=jn,jn=n,t!==null&&$1(t)),e}function $1(e){jn===null?jn=e:jn.push.apply(jn,e)}function vq(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ii(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lo(e,t){for(t&=~jb,t&=~Gg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ei(t),r=1<<n;e[n]=-1,t&=~r}}function pR(e){if(Ce&6)throw Error(V(327));Xu();var t=Cv(e,0);if(!(t&1))return zn(e,ft()),null;var n=Hv(e,t);if(e.tag!==0&&n===2){var r=d1(e);r!==0&&(t=r,n=V1(e,r))}if(n===1)throw n=th,ca(e,0),Lo(e,t),zn(e,ft()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ks(e,jn,zi),zn(e,ft()),null}function Vb(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(lc=ft()+500,zg&&ds())}}function Ea(e){Vo!==null&&Vo.tag===0&&!(Ce&6)&&Xu();var t=Ce;Ce|=1;var n=kr.transition,r=Me;try{if(kr.transition=null,Me=1,e)return e()}finally{Me=r,kr.transition=n,Ce=t,!(Ce&6)&&ds()}}function $b(){Jn=$u.current,He($u)}function ca(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,H5(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(bb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pv();break;case 3:uc(),He($n),He(dn),xb();break;case 5:Rb(r);break;case 4:uc();break;case 13:He(Ze);break;case 19:He(Ze);break;case 10:kb(r.type._context);break;case 22:case 23:$b()}n=n.return}if(Ut=e,gt=e=Xo(e.current,null),Qt=Jn=t,kt=0,th=null,jb=Gg=wa=0,jn=wf=null,ea!==null){for(t=0;t<ea.length;t++)if(n=ea[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ea=null}return e}function SD(e,t){do{var n=gt;try{if(Sb(),rv.current=Vv,Bv){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bv=!1}if(_a=0,Pt=It=nt=null,yf=!1,Jf=0,Ub.current=null,n===null||n.return===null){kt=1,th=t,gt=null;break}e:{var s=e,a=n.return,c=n,l=t;if(t=Qt,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,p=c,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=tR(a);if(y!==null){y.flags&=-257,nR(y,a,c,s,t),y.mode&1&&eR(s,h,t),t=y,l=h;var w=t.updateQueue;if(w===null){var I=new Set;I.add(l),t.updateQueue=I}else w.add(l);break e}else{if(!(t&1)){eR(s,h,t),qb();break e}l=Error(V(426))}}else if(Ge&&c.mode&1){var C=tR(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),nR(C,a,c,s,t),Tb(cc(l,c));break e}}s=l=cc(l,c),kt!==4&&(kt=2),wf===null?wf=[s]:wf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=uD(s,l,t);KA(s,b);break e;case 1:c=l;var T=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Qo===null||!Qo.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=cD(s,c,t);KA(s,x);break e}}s=s.return}while(s!==null)}ND(n)}catch(L){t=L,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(1)}function kD(){var e=$v.current;return $v.current=Vv,e===null?Vv:e}function qb(){(kt===0||kt===3||kt===2)&&(kt=4),Ut===null||!(wa&268435455)&&!(Gg&268435455)||Lo(Ut,Qt)}function Hv(e,t){var n=Ce;Ce|=2;var r=kD();(Ut!==e||Qt!==t)&&(zi=null,ca(e,t));do try{gq();break}catch(i){SD(e,i)}while(1);if(Sb(),Ce=n,$v.current=r,gt!==null)throw Error(V(261));return Ut=null,Qt=0,kt}function gq(){for(;gt!==null;)CD(gt)}function mq(){for(;gt!==null&&!$6();)CD(gt)}function CD(e){var t=RD(e.alternate,e,Jn);e.memoizedProps=e.pendingProps,t===null?ND(e):gt=t,Ub.current=null}function ND(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=lq(n,t),n!==null){n.flags&=32767,gt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,gt=null;return}}else if(n=cq(n,t,Jn),n!==null){gt=n;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);kt===0&&(kt=5)}function Ks(e,t,n){var r=Me,i=kr.transition;try{kr.transition=null,Me=1,yq(e,t,n,r)}finally{kr.transition=i,Me=r}return null}function yq(e,t,n,r){do Xu();while(Vo!==null);if(Ce&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(J6(e,s),e===Ut&&(gt=Ut=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xp||(xp=!0,xD(kv,function(){return Xu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kr.transition,kr.transition=null;var a=Me;Me=1;var c=Ce;Ce|=4,Ub.current=null,hq(e,n),bD(n,e),U5(_1),Nv=!!y1,_1=y1=null,e.current=n,dq(n),q6(),Ce=c,Me=a,kr.transition=s}else e.current=n;if(xp&&(xp=!1,Vo=e,zv=i),s=e.pendingLanes,s===0&&(Qo=null),W6(n.stateNode),zn(e,ft()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qv)throw qv=!1,e=j1,j1=null,e;return zv&1&&e.tag!==0&&Xu(),s=e.pendingLanes,s&1?e===B1?Ef++:(Ef=0,B1=e):Ef=0,ds(),null}function Xu(){if(Vo!==null){var e=a2(zv),t=kr.transition,n=Me;try{if(kr.transition=null,Me=16>e?16:e,Vo===null)var r=!1;else{if(e=Vo,Vo=null,zv=0,Ce&6)throw Error(V(331));var i=Ce;for(Ce|=4,G=e.current;G!==null;){var s=G,a=s.child;if(G.flags&16){var c=s.deletions;if(c!==null){for(var l=0;l<c.length;l++){var h=c[l];for(G=h;G!==null;){var p=G;switch(p.tag){case 0:case 11:case 15:_f(8,p,s)}var v=p.child;if(v!==null)v.return=p,G=v;else for(;G!==null;){p=G;var m=p.sibling,y=p.return;if(_D(p),p===h){G=null;break}if(m!==null){m.return=y,G=m;break}G=y}}}var w=s.alternate;if(w!==null){var I=w.child;if(I!==null){w.child=null;do{var C=I.sibling;I.sibling=null,I=C}while(I!==null)}}G=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,G=a;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_f(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,G=b;break e}G=s.return}}var T=e.current;for(G=T;G!==null;){a=G;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,G=S;else e:for(a=T;G!==null;){if(c=G,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Kg(9,c)}}catch(L){ot(c,c.return,L)}if(c===a){G=null;break e}var x=c.sibling;if(x!==null){x.return=c.return,G=x;break e}G=c.return}}if(Ce=i,ds(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(jg,e)}catch{}r=!0}return r}finally{Me=n,kr.transition=t}}return!1}function vR(e,t,n){t=cc(n,t),t=uD(e,t,1),e=Go(e,t,1),t=Nn(),e!==null&&(xh(e,1,t),zn(e,t))}function ot(e,t,n){if(e.tag===3)vR(e,e,n);else for(;t!==null;){if(t.tag===3){vR(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qo===null||!Qo.has(r))){e=cc(n,e),e=cD(t,e,1),t=Go(t,e,1),e=Nn(),t!==null&&(xh(t,1,e),zn(t,e));break}}t=t.return}}function _q(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nn(),e.pingedLanes|=e.suspendedLanes&n,Ut===e&&(Qt&n)===n&&(kt===4||kt===3&&(Qt&130023424)===Qt&&500>ft()-Bb?ca(e,0):jb|=n),zn(e,t)}function AD(e,t){t===0&&(e.mode&1?(t=Ep,Ep<<=1,!(Ep&130023424)&&(Ep=4194304)):t=1);var n=Nn();e=io(e,t),e!==null&&(xh(e,t,n),zn(e,n))}function wq(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),AD(e,n)}function Eq(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),AD(e,n)}var RD;RD=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$n.current)Bn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bn=!1,uq(e,t,n);Bn=!!(e.flags&131072)}else Bn=!1,Ge&&t.flags&1048576&&O2(t,Lv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ov(e,t),e=t.pendingProps;var i=oc(t,dn.current);Yu(t,n),i=Ob(null,t,r,e,i,n);var s=Db();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qn(r)?(s=!0,Ov(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nb(t),i.updater=Hg,t.stateNode=i,i._reactInternals=t,N1(t,r,e,n),t=x1(null,t,r,!0,s,n)):(t.tag=0,Ge&&s&&Eb(t),En(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ov(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Tq(r),e=Gr(r,e),i){case 0:t=R1(null,t,r,e,n);break e;case 1:t=oR(null,t,r,e,n);break e;case 11:t=rR(null,t,r,e,n);break e;case 14:t=iR(null,t,r,Gr(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gr(r,i),R1(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gr(r,i),oR(e,t,r,i,n);case 3:e:{if(dD(t),e===null)throw Error(V(387));r=t.pendingProps,s=t.memoizedState,i=s.element,F2(e,t),Uv(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=cc(Error(V(423)),t),t=sR(e,t,r,n,i);break e}else if(r!==i){i=cc(Error(V(424)),t),t=sR(e,t,r,n,i);break e}else for(nr=Ko(t.stateNode.containerInfo.firstChild),sr=t,Ge=!0,Jr=null,n=V2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sc(),r===i){t=oo(e,t,n);break e}En(e,t,r,n)}t=t.child}return t;case 5:return $2(t),e===null&&S1(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,w1(r,i)?a=null:s!==null&&w1(r,s)&&(t.flags|=32),hD(e,t),En(e,t,a,n),t.child;case 6:return e===null&&S1(t),null;case 13:return pD(e,t,n);case 4:return Ab(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ac(t,null,r,n):En(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gr(r,i),rR(e,t,r,i,n);case 7:return En(e,t,t.pendingProps,n),t.child;case 8:return En(e,t,t.pendingProps.children,n),t.child;case 12:return En(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Be(Mv,r._currentValue),r._currentValue=a,s!==null)if(ii(s.value,a)){if(s.children===i.children&&!$n.current){t=oo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var l=c.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ji(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?l.next=l:(l.next=p.next,p.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),k1(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(V(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),k1(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}En(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Yu(t,n),i=Ar(i),r=r(i),t.flags|=1,En(e,t,r,n),t.child;case 14:return r=t.type,i=Gr(r,t.pendingProps),i=Gr(r.type,i),iR(e,t,r,i,n);case 15:return lD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gr(r,i),ov(e,t),t.tag=1,qn(r)?(e=!0,Ov(t)):e=!1,Yu(t,n),j2(t,r,i),N1(t,r,i,n),x1(null,t,r,!0,e,n);case 19:return vD(e,t,n);case 22:return fD(e,t,n)}throw Error(V(156,t.tag))};function xD(e,t){return r2(e,t)}function bq(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(e,t,n,r){return new bq(e,t,n,r)}function zb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tq(e){if(typeof e=="function")return zb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cb)return 11;if(e===lb)return 14}return 2}function Xo(e,t){var n=e.alternate;return n===null?(n=wr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function uv(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")zb(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Pu:return la(n.children,i,s,t);case ub:a=8,i|=8;break;case Jw:return e=wr(12,n,t,i|2),e.elementType=Jw,e.lanes=s,e;case Zw:return e=wr(13,n,t,i),e.elementType=Zw,e.lanes=s,e;case e1:return e=wr(19,n,t,i),e.elementType=e1,e.lanes=s,e;case BO:return Qg(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UO:a=10;break e;case jO:a=9;break e;case cb:a=11;break e;case lb:a=14;break e;case xo:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=wr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function la(e,t,n,r){return e=wr(7,e,r,t),e.lanes=n,e}function Qg(e,t,n,r){return e=wr(22,e,r,t),e.elementType=BO,e.lanes=n,e.stateNode={isHidden:!1},e}function aw(e,t,n){return e=wr(6,e,null,t),e.lanes=n,e}function uw(e,t,n){return t=wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Iq(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$_(0),this.expirationTimes=$_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hb(e,t,n,r,i,s,a,c,l){return e=new Iq(e,t,n,c,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=wr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nb(s),e}function Sq(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function PD(e){if(!e)return is;e=e._reactInternals;e:{if(Ma(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(qn(n))return x2(e,n,t)}return t}function OD(e,t,n,r,i,s,a,c,l){return e=Hb(n,r,!0,e,i,s,a,c,l),e.context=PD(null),n=e.current,r=Nn(),i=Yo(n),s=Ji(r,i),s.callback=t??null,Go(n,s,i),e.current.lanes=i,xh(e,i,r),zn(e,r),e}function Yg(e,t,n,r){var i=t.current,s=Nn(),a=Yo(i);return n=PD(n),t.context===null?t.context=n:t.pendingContext=n,t=Ji(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Go(i,t,a),e!==null&&(ti(e,i,a,s),nv(e,i,a)),a}function Wv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wb(e,t){gR(e,t),(e=e.alternate)&&gR(e,t)}function kq(){return null}var DD=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kb(e){this._internalRoot=e}Xg.prototype.render=Kb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Yg(e,t,null,null)};Xg.prototype.unmount=Kb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ea(function(){Yg(null,e,null,null)}),t[ro]=null}};function Xg(e){this._internalRoot=e}Xg.prototype.unstable_scheduleHydration=function(e){if(e){var t=l2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Do.length&&t!==0&&t<Do[n].priority;n++);Do.splice(n,0,e),n===0&&h2(e)}};function Gb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mR(){}function Cq(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Wv(a);s.call(h)}}var a=OD(t,r,e,0,null,!1,!1,"",mR);return e._reactRootContainer=a,e[ro]=a.current,Kf(e.nodeType===8?e.parentNode:e),Ea(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var h=Wv(l);c.call(h)}}var l=Hb(e,0,!1,null,null,!1,!1,"",mR);return e._reactRootContainer=l,e[ro]=l.current,Kf(e.nodeType===8?e.parentNode:e),Ea(function(){Yg(t,l,n,r)}),l}function Zg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var l=Wv(a);c.call(l)}}Yg(t,a,e,i)}else a=Cq(n,t,e,i,r);return Wv(a)}u2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=uf(t.pendingLanes);n!==0&&(db(t,n|1),zn(t,ft()),!(Ce&6)&&(lc=ft()+500,ds()))}break;case 13:Ea(function(){var r=io(e,1);if(r!==null){var i=Nn();ti(r,e,1,i)}}),Wb(e,1)}};pb=function(e){if(e.tag===13){var t=io(e,134217728);if(t!==null){var n=Nn();ti(t,e,134217728,n)}Wb(e,134217728)}};c2=function(e){if(e.tag===13){var t=Yo(e),n=io(e,t);if(n!==null){var r=Nn();ti(n,e,t,r)}Wb(e,t)}};l2=function(){return Me};f2=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};l1=function(e,t,n){switch(t){case"input":if(r1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=qg(r);if(!i)throw Error(V(90));$O(r),r1(r,i)}}}break;case"textarea":zO(e,n);break;case"select":t=n.value,t!=null&&Wu(e,!!n.multiple,t,!1)}};XO=Vb;JO=Ea;var Nq={usingClientEntryPoint:!1,Events:[Oh,Mu,qg,QO,YO,Vb]},Ql={findFiberByHostInstance:Zs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Aq={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=t2(e),e===null?null:e.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||kq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{jg=Pp.inject(Aq),Ei=Pp}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nq;fr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gb(t))throw Error(V(200));return Sq(e,t,null,n)};fr.createRoot=function(e,t){if(!Gb(e))throw Error(V(299));var n=!1,r="",i=DD;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Hb(e,1,!1,null,null,n,!1,r,i),e[ro]=t.current,Kf(e.nodeType===8?e.parentNode:e),new Kb(t)};fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=t2(t),e=e===null?null:e.stateNode,e};fr.flushSync=function(e){return Ea(e)};fr.hydrate=function(e,t,n){if(!Jg(t))throw Error(V(200));return Zg(null,e,t,!0,n)};fr.hydrateRoot=function(e,t,n){if(!Gb(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=DD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=OD(t,null,e,1,n??null,i,!1,s,a),e[ro]=t.current,Kf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xg(t)};fr.render=function(e,t,n){if(!Jg(t))throw Error(V(200));return Zg(null,e,t,!1,n)};fr.unmountComponentAtNode=function(e){if(!Jg(e))throw Error(V(40));return e._reactRootContainer?(Ea(function(){Zg(null,null,e,!1,function(){e._reactRootContainer=null,e[ro]=null})}),!0):!1};fr.unstable_batchedUpdates=Vb;fr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jg(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Zg(e,t,n,!1,r)};fr.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=fr})(k6);var yR=Qw;Gw.createRoot=yR.createRoot,Gw.hydrateRoot=yR.hydrateRoot;const _R="/assets/logo-6884264d.png";class Rq extends Fc.Component{render(){return D(An,{children:D("div",{className:"aside-logo flex-column-auto px-9 mb-9 mb-lg-17 mx-auto",id:"kt_aside_logo",children:be("a",{href:"/",children:[D("img",{alt:"Logo",src:_R,className:"h-80px logo theme-light-show"}),D("img",{alt:"Logo",src:_R,className:"h-80px logo theme-dark-show"})]})})})}}const xq=e=>be("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[D("path",{d:"M20 7H3c-.6 0-1-.4-1-1V3c0-.6.4-1 1-1h17c.6 0 1 .4 1 1v3c0 .6-.4 1-1 1ZM7 9H3c-.6 0-1 .4-1 1v10c0 .6.4 1 1 1h4c.6 0 1-.4 1-1V10c0-.6-.4-1-1-1Z",fill:"currentColor"}),D("path",{opacity:.3,d:"M20 21h-9c-.6 0-1-.4-1-1V10c0-.6.4-1 1-1h9c.6 0 1 .4 1 1v10c0 .6-.4 1-1 1Z",fill:"currentColor"})]}),Pq=e=>be("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[D("path",{d:"M18 21.6c-1.4-1.2-8.9-1.3-11.7-.4-.6.2-1.2 0-1.6-.4L2 18c2.2-2.2 8.8-2.9 13.8-2.2.4 2.5 1.2 4.7 2.2 5.8Zm.8-18.8c-.4-.4-1-.6-1.6-.4-2.8.9-10.3.8-11.7-.4 1.3 1.3 1.9 3.5 2.2 5.7 1.3.2 2.6.3 4 .3 4.1 0 8.1-.8 9.8-2.5l-2.7-2.7Z",fill:"currentColor"}),D("path",{opacity:.3,d:"M21.2 17.3c.2.6 0 1.2-.4 1.6L18 21.6c-2.2-2.2-2.9-8.8-2.2-13.8 2.5-.4 4.6-1.1 5.7-2.2-1.1 1.4-1.3 8.9-.3 11.7ZM8 11.7C8 9 7.7 4.2 5.5 2L2.8 4.8c-.4.4-.6 1-.4 1.6.3 1 .6 2.8.7 5.3 0 3.8-.7 5.9-1 6.3 1.1-1.1 3.2-1.8 5.7-2.2.2-1.6.2-3.1.2-4.1Z",fill:"currentColor"})]}),Oq=e=>be("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[D("path",{d:"M22 7H2v4h20V7Z",fill:"currentColor"}),D("path",{opacity:.3,d:"M21 19H3c-.6 0-1-.4-1-1V6c0-.6.4-1 1-1h18c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1Zm-7-5c0-.6-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1Zm2 1.5c0 .8.7 1.5 1.5 1.5h1c.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5h-1c-.8 0-1.5.7-1.5 1.5Z",fill:"currentColor"})]}),Dq=e=>be("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[D("path",{d:"M11.293 2.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0L8.707 6.707a1 1 0 0 1 0-1.414l2.586-2.586ZM11.293 14.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0l-2.586-2.586a1 1 0 0 1 0-1.414l2.586-2.586Z",fill:"currentColor"}),D("path",{opacity:.3,d:"M5.293 8.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0l-2.586-2.586a1 1 0 0 1 0-1.414l2.586-2.586ZM17.293 8.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0l-2.586-2.586a1 1 0 0 1 0-1.414l2.586-2.586Z",fill:"currentColor"})]}),Lq=e=>be("svg",{width:24,height:25,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[D("path",{opacity:.3,d:"m8.9 21-1.7 1.7c-.4.4-1 .4-1.4 0L4.1 21h4.8ZM4 16.1l-1.7 1.7c-.4.4-.4 1 0 1.4L4 20.9v-4.8Zm15.3-6.9-3.5-3.5c-.4-.4-1-.4-1.4 0L9 11.1V21l10.3-10.3c.4-.4.4-1.1 0-1.5Z",fill:"currentColor"}),D("path",{d:"M21 15v5c0 .6-.4 1-1 1h-8.2l7-7H20c.6 0 1 .4 1 1Zm-11 6V4c0-.6-.4-1-1-1H4c-.6 0-1 .4-1 1v17c0 .6.4 1 1 1h5c.6 0 1-.4 1-1Zm-2.5-2.5c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1Z",fill:"currentColor"})]}),Mq=e=>be("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[D("path",{d:"m11.7 8-4.2 7.3-2.9 5c-1.1-1.9-1.5-2.6-2.3-4-.4-.6-.4-1.4 0-2L8.8 3l2.9 5Z",fill:"currentColor"}),D("path",{opacity:.3,d:"M11.7 8 8.8 3h4.6c.7 0 1.4.4 1.8 1l5.4 9.3h-5.8L11.7 8Zm-4.2 7.2-2.9 5h13c.7 0 1.4-.4 1.8-1 .8-1.5 1.2-2.2 2.3-4H7.5Z",fill:"currentColor"})]}),wR={dashboard:xq,browsePlan:Pq,history:Oq,subscription:Dq,token:Lq,tunnel:Mq};function Fq(e){const t=e.link,n=e.icon,r=e.caption,i=typeof wR[n]<"u",s=e.bullet||!1,a=e.hasChild||!1,c="";let l="",h,p="";return s&&(p=D("span",{className:"menu-bullet",children:D("span",{className:"bullet bullet-dot"})})),i&&(h=wR[n],l=D("span",{className:"menu-icon",children:D("span",{className:"svg-icon svg-icon-2",children:D(h,{viewBox:"0 0 24 24"})})})),a?D(An,{children:be("span",{className:"menu-link",children:[p,l,D("span",{className:"menu-title",children:r}),D("span",{className:"menu-arrow"})]})}):be(An,{children:[D("div",{className:"menu-item",children:be("a",{className:"menu-link",href:t,children:[p,l,D("span",{className:"menu-title",children:r})]})}),c]})}class Uq extends Fc.Component{render(){return D(An,{children:D("div",{className:"aside-menu flex-column-fluid ps-3 ps-lg-5 pe-1 mb-9",id:"kt_aside_menu",children:D("div",{className:"w-100 hover-scroll-overlay-y pe-2 me-2",id:"kt_aside_menu_wrapper","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-height":"auto","data-kt-scroll-dependencies":"#kt_aside_logo, #kt_aside_user, #kt_aside_footer","data-kt-scroll-wrappers":"#kt_aside, #kt_aside_menu, #kt_aside_menu_wrapper","data-kt-scroll-offset":"0",children:D("div",{className:"menu menu-column menu-rounded menu-sub-indention menu-active-bg fw-semibold",id:"#kt_aside_menu","data-kt-menu":"true",children:D(Fq,{link:"#dashboard",caption:"Dashboard",icon:"dashboard"})})})})})}}const jq=e=>be("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[D("rect",{opacity:.3,width:12,height:2,rx:1,transform:"matrix(-1 0 0 1 15.5 11)",fill:"currentColor"}),D("path",{d:"m13.631 11.693-1.755-1.463a1.04 1.04 0 1 1 1.358-1.578l2.925 2.6a1 1 0 0 1 0 1.495l-2.925 2.6a1.04 1.04 0 1 1-1.358-1.577l1.755-1.463a.4.4 0 0 0 0-.614Z",fill:"currentColor"}),D("path",{d:"M8 5v1a1 1 0 0 0 2 0 1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1 1 1 0 1 0-2 0v1a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-9a2 2 0 0 0-2 2Z",fill:"currentColor"})]});class Bq extends Fc.Component{render(){return D(An,{children:D("div",{className:"aside-footer flex-column-auto px-6 px-lg-9",id:"kt_aside_footer",children:D("div",{className:"d-flex flex-stack ms-7",children:be("a",{className:"btn btn-sm btn-icon btn-active-color-primary btn-icon-gray-600 btn-text-gray-600",href:"#logout",children:[D("span",{className:"svg-icon svg-icon-1 me-2",children:D(jq,{})}),D("span",{className:"d-flex flex-shrink-0 fw-bold",children:"Keluar"})]})})})})}}class Vq extends Fc.Component{render(){return D(An,{children:be("div",{id:"kt_aside",className:"aside pt-7 pb-4 pb-lg-7 pt-lg-17","data-kt-drawer":"true","data-kt-drawer-name":"aside","data-kt-drawer-activate":"{default: true, lg: false}","data-kt-drawer-overlay":"true","data-kt-drawer-width":"{default:'200px', '300px': '250px'}","data-kt-drawer-direction":"start","data-kt-drawer-toggle":"#kt_aside_toggle",children:[D(Rq,{}),D(Uq,{}),D(Bq,{})]})})}}function $q(){return D(An,{children:D("div",{className:"col-xl-full col-md-6 mt-2",children:D("div",{className:"card card-h-100",children:be("div",{className:"card-body",children:[D("div",{className:"row",children:D("span",{className:"text-muted mb-3 d-block text-truncate",children:"Langganan"})}),D("div",{className:"row",children:D("h4",{children:D("span",{children:"Gratis"})})})]})})})})}function qq(){return D(An,{children:D("div",{className:"footer py-4 d-flex flex-lg-column",id:"kt_footer",children:be("div",{className:"container-fluid d-flex flex-column flex-md-row flex-stack",children:[be("div",{className:"text-dark order-2 order-md-1",children:[D("span",{className:"text-gray-400 fw-semibold me-1",children:"Dibuat Oleh"}),D("a",{href:"#",target:"_blank",className:"text-muted text-hover-primary fw-semibold me-2 fs-6",children:"cristminix <cristminix@gmail.com>"})]}),be("ul",{className:"menu menu-gray-600 menu-hover-primary fw-semibold order-1",children:[D("li",{className:"menu-item",children:D("a",{href:"#documents",target:"_blank",className:"menu-link px-2",children:"Dokumentasi"})}),D("li",{className:"menu-item",children:D("a",{href:"#",className:"menu-link px-5"})})]})]})})})}const zq="/assets/favicon-18674101.ico",LD=e=>D("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:D("path",{d:"M11.99 5.626a6.376 6.376 0 1 0 6.376 6.376 6.383 6.383 0 0 0-6.375-6.376ZM22.126 10.877h-1.499a1.125 1.125 0 1 0 0 2.25h1.499a1.125 1.125 0 1 0 0-2.25ZM11.99 19.5a1.127 1.127 0 0 0-1.124 1.125v1.5a1.124 1.124 0 0 0 2.249 0v-1.5A1.126 1.126 0 0 0 11.99 19.5ZM4.497 12.002a1.126 1.126 0 0 0-1.124-1.125H1.874a1.125 1.125 0 1 0 0 2.25h1.499a1.126 1.126 0 0 0 1.124-1.125ZM11.99 4.5a1.126 1.126 0 0 0 1.125-1.125v-1.5a1.124 1.124 0 1 0-2.249 0v1.5a1.126 1.126 0 0 0 1.125 1.126ZM18.886 6.697l1.06-1.06a1.125 1.125 0 1 0-1.59-1.59l-1.06 1.06a1.125 1.125 0 1 0 1.59 1.59ZM18.886 17.307a1.125 1.125 0 1 0-1.59 1.59l1.06 1.061a1.124 1.124 0 1 0 1.59-1.59l-1.06-1.06ZM5.095 17.307l-1.06 1.061a1.124 1.124 0 1 0 1.59 1.59l1.06-1.06a1.126 1.126 0 0 0-.363-1.836 1.125 1.125 0 0 0-1.227.245ZM5.095 6.697a1.124 1.124 0 1 0 1.59-1.59l-1.06-1.06a1.124 1.124 0 1 0-1.59 1.59l1.06 1.06Z",fill:"currentColor"})}),MD=e=>be("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[D("path",{d:"M19.065 5.438a.502.502 0 1 0 0-1.005.502.502 0 0 0 0 1.005ZM20.07 9.489a.502.502 0 1 0 0-1.005.502.502 0 0 0 0 1.005ZM12.034 20.571c3.66 0 6.909-2.366 8.083-5.837a.503.503 0 0 0-.791-.552 5.957 5.957 0 0 1-3.777 1.334c-3.323 0-6.06-2.704-6.06-6.027 0-2.078 1.088-4.018 2.856-5.131.19-.12.255-.35.193-.565a.53.53 0 0 0-.505-.364C7.327 3.429 3.43 7.292 3.43 12s3.897 8.571 8.604 8.571Z",fill:"currentColor"}),D("path",{d:"M13.038 7.48c.83 0 1.507.676 1.507 1.507a.502.502 0 1 0 1.004 0c0-.831.676-1.507 1.507-1.507a.502.502 0 1 0 0-1.004c-.831 0-1.507-.71-1.507-1.54a.502.502 0 1 0-1.004 0c0 .83-.676 1.54-1.507 1.54a.502.502 0 1 0 0 1.004Z",fill:"currentColor"})]}),Hq=e=>D("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:D("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.344 3.946v11.272c0 .901.737 1.638 1.638 1.638h5.669v2.603H6.157c-.768 0-1.397.503-1.397 1.117v1.116h14.48v-1.116c0-.614-.628-1.117-1.397-1.117H15.35v-2.603h5.669c.901 0 1.638-.737 1.638-1.638V3.946c0-.9-.737-1.638-1.638-1.638H2.982c-.901 0-1.638.737-1.638 1.638Zm11.56 5.956c.337.086.656.22.948.393l1.187-.86.95.95-.86 1.188c.174.292.308.61.394.948l1.447.232v.656h-2.985a1.985 1.985 0 0 0-3.97 0H7.03v-.656l1.447-.232c.086-.337.22-.656.393-.948l-.86-1.188.95-.95 1.188.86c.292-.174.611-.307.949-.393l.231-1.447h1.344l.231 1.447Zm3.231-1.964a.828.828 0 1 1 0-1.657.828.828 0 0 1 0 1.657ZM2.714 14.096V3.906c0-.126.102-.228.227-.228H21.06c.125 0 .227.102.227.227v10.191H2.714Z",fill:"currentColor"})});function Wq(){return D(An,{children:be("div",{className:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-title-gray-700 menu-icon-muted menu-active-bg menu-state-color fw-semibold py-4 fs-base w-175px","data-kt-menu":"true","data-kt-element":"theme-mode-menu",children:[D("div",{className:"menu-item px-3 my-0",children:be("a",{href:"#",className:"menu-link px-3 py-2","data-kt-element":"mode","data-kt-value":"light",children:[D("span",{className:"menu-icon","data-kt-element":"icon",children:D("span",{className:"svg-icon svg-icon-3",children:D(LD,{viewBox:"0 0 24 24"})})}),D("span",{className:"menu-title",children:"Light"})]})}),D("div",{className:"menu-item px-3 my-0",children:be("a",{href:"#",className:"menu-link px-3 py-2","data-kt-element":"mode","data-kt-value":"dark",children:[D("span",{className:"menu-icon","data-kt-element":"icon",children:D("span",{className:"svg-icon svg-icon-3",children:D(MD,{viewBox:"0 0 24 24"})})}),D("span",{className:"menu-title",children:"Dark"})]})}),D("div",{className:"menu-item px-3 my-0",children:be("a",{href:"#",className:"menu-link px-3 py-2","data-kt-element":"mode","data-kt-value":"system",children:[D("span",{className:"menu-icon","data-kt-element":"icon",children:D("span",{className:"svg-icon svg-icon-3",children:D(Hq,{viewBox:"0 0 24 24"})})}),D("span",{className:"menu-title",children:"System"})]})})]})})}const Kq=e=>be("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[D("path",{d:"M21 7H3c-.6 0-1-.4-1-1V4c0-.6.4-1 1-1h18c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1Z",fill:"currentColor"}),D("path",{opacity:.3,d:"M21 14H3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h18c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1Zm1 6v-2c0-.6-.4-1-1-1H3c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h18c.6 0 1-.4 1-1Z",fill:"currentColor"})]});function Gq(e){const t=e.title;return D(An,{children:D("div",{id:"kt_header",className:"header",children:be("div",{className:"container-fluid d-flex align-items-center flex-wrap justify-content-between",id:"kt_header_container",children:[D("div",{className:"page-title d-flex flex-column align-items-start justify-content-center flex-wrap me-2 pb-5 pb-lg-0 pt-7 pt-lg-0","data-kt-swapper":"true","data-kt-swapper-mode":"prepend","data-kt-swapper-parent":"{default: '#kt_content_container', lg: '#kt_header_container'}",children:D("h1",{className:"d-flex flex-column text-dark fw-bold my-0 fs-1",children:t})}),be("div",{className:"d-flex d-lg-none align-items-center ms-n3 me-2",children:[D("div",{className:"btn btn-icon btn-active-icon-primary",id:"kt_aside_toggle",children:D("span",{className:"svg-icon svg-icon-1 mt-1",children:D(Kq,{viewBox:"0 0 24 24"})})}),D("a",{href:"/",className:"d-flex align-items-center",children:D("img",{alt:"Logo",src:zq,className:"h-30px"})})]}),D("div",{className:"d-flex align-items-center flex-shrink-0",children:be("div",{className:"d-flex align-items-center ms-3 ms-lg-4",children:[be("a",{href:"#",className:"btn btn-icon btn-color-gray-700 btn-active-color-primary btn-outline w-40px h-40px","data-kt-menu-trigger":"{default:'click', lg: 'hover'}","data-kt-menu-attach":"parent","data-kt-menu-placement":"bottom-end",children:[D("span",{className:"svg-icon theme-light-show svg-icon-2",children:D(LD,{viewBox:"0 0 24 24"})}),D("span",{className:"svg-icon theme-dark-show svg-icon-2",children:D(MD,{viewBox:"0 0 24 24"})})]}),D(Wq,{})]})})]})})})}const Qq=Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cw=Qq.ReactCurrentDispatcher,Yq=()=>Ni.useReducer(()=>({}))[1],Xq=e=>()=>{const t=`Hook "${e}" no possible to using inside useBetween scope.`;throw console.error(t),new Error(t)},q1=(e,t)=>Object.is(e,t),Yl=(e,t)=>!e||!t||e.length!==t.length||e.some((n,r)=>!q1(n,t[r])),Jq=()=>typeof window>"u",ER=new Map;let bf=[],cv=0,qu=[],$o=[],Tf=()=>{},lw=Jq(),Zq;const ko=()=>{const e=cv++;return bf[e]=bf[e]||{}},FD={useState(e){const t=ko(),n=Tf;return t.initialized||(t.state=typeof e=="function"?e():e,t.set=r=>{if(typeof r=="function")return t.set(r(t.state));q1(r,t.state)||(t.state=r,n())},t.initialized=!0),[t.state,t.set]},useReducer(e,t,n){const r=ko(),i=Tf;return r.initialized||(r.state=n?n(t):t,r.dispatch=s=>{const a=e(r.state,s);q1(a,r.state)||(r.state=a,i())},r.initialized=!0),[r.state,r.dispatch]},useEffect(e,t){if(lw)return;const n=ko();n.initialized?Yl(n.deps,t)&&(n.deps=t,qu.push([n,t,e])):(n.deps=t,n.initialized=!0,qu.push([n,t,e]))},useLayoutEffect(e,t){if(lw)return;const n=ko();n.initialized?Yl(n.deps,t)&&(n.deps=t,$o.push([n,t,e])):(n.deps=t,n.initialized=!0,$o.push([n,t,e]))},useCallback(e,t){const n=ko();return n.initialized?Yl(n.deps,t)&&(n.deps=t,n.fn=e):(n.fn=e,n.deps=t,n.initialized=!0),n.fn},useMemo(e,t){const n=ko();return n.initialized?Yl(n.deps,t)&&(n.deps=t,n.state=e()):(n.deps=t,n.state=e(),n.initialized=!0),n.state},useRef(e){const t=ko();return t.initialized||(t.state={current:e},t.initialized=!0),t.state},useImperativeHandle(e,t,n){if(lw)return;const r=ko();r.initialized?Yl(r.deps,n)&&(r.deps=n,$o.push([r,n,()=>{typeof e=="function"?e(t()):e.current=t()}])):(r.deps=n,r.initialized=!0,$o.push([r,n,()=>{typeof e=="function"?e(t()):e.current=t()}]))}};["readContext","useContext","useDebugValue","useResponder","useDeferredValue","useTransition"].forEach(e=>FD[e]=Xq(e));const ez=(e,t)=>{const n=[];let r=[],i,s=[],a=!1;t&&t.mock&&(i=t.mock,a=!0);const c=()=>{r.slice().forEach(y=>y())},l=()=>{if(a)return;const y=cw.current,w=[cv,qu,$o,bf,Tf];let I=!1,C=!0;if(cv=0,qu=[],$o=[],bf=n,Tf=()=>{C?I=!0:l()},cw.current=FD,i=e(Zq),[$o,qu].forEach(b=>b.forEach(([T,S,x])=>{if(T.deps=S,T.unsub){const P=T.unsub;s=s.filter($=>$!==P),P()}const L=x();typeof L=="function"?(s.push(L),T.unsub=L):T.unsub=null})),[cv,qu,$o,bf,Tf]=w,cw.current=y,C=!1,!I){c();return}l()};return{init:()=>l(),get:()=>i,sub:y=>{r.indexOf(y)===-1&&r.push(y)},unsub:y=>{r=r.filter(w=>w!==y)},unsubs:()=>s,mock:y=>{a=!0,i=y,c()},unmock:()=>{a=!1,l()}}},tz=e=>{let t=ER.get(e);return t||(t=ez(e),ER.set(e,t),t.init()),t},UD=e=>{const t=Yq();let n=tz(e);return n.sub(t),Ni.useEffect(()=>(n.sub(t),()=>n.unsub(t)),[n,t]),n.get()};var z1=function(e,t){return z1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},z1(e,t)};function K(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");z1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ne=function(){return ne=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ne.apply(this,arguments)};function A(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(p){try{h(r.next(p))}catch(v){a(v)}}function l(p){try{h(r.throw(p))}catch(v){a(v)}}function h(p){p.done?s(p.value):i(p.value).then(c,l)}h((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(p){return l([h,p])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function jt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function de(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=function(e,t){if(!e)throw Bc(t)},Bc=function(e){return new Error("Firebase Database ("+jD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BD=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},nz=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],c=e[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},em={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,c=a?e[i+1]:0,l=i+2<e.length,h=l?e[i+2]:0,p=s>>2,v=(s&3)<<4|c>>4,m=(c&15)<<2|h>>6,y=h&63;l||(y=64,a||(m=64)),r.push(n[p],n[v],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(BD(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):nz(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,c=a?n[e.charAt(i)]:0;++i;var l=i<e.length,h=l?n[e.charAt(i)]:64;++i;var p=i<e.length,v=p?n[e.charAt(i)]:64;if(++i,s==null||c==null||h==null||v==null)throw Error();var m=s<<2|c>>4;if(r.push(m),h!==64){var y=c<<4&240|h>>2;if(r.push(y),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},VD=function(e){var t=BD(e);return em.encodeByteArray(t,!0)},bR=function(e){return VD(e).replace(/\./g,"")},TR=function(e){try{return em.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(e){return nh(void 0,e)}function nh(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!rz(r)||(e[r]=nh(e[r],t[r]));return e}function rz(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ne({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[bR(JSON.stringify(n)),bR(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ba())}function qD(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iz(){return typeof self=="object"&&self.self===self}function Xb(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function zD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oz(){return ba().indexOf("Electron/")>=0}function sz(){var e=ba();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function az(){return ba().indexOf("MSAppHost/")>=0}function HD(){return jD.NODE_ADMIN===!0}function uz(){return!qD()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lh(){return"indexedDB"in self&&indexedDB!=null}function Jb(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function WD(){return!(!navigator||!navigator.cookieEnabled)}function cz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lz="FirebaseError",Vc=function(e){K(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=lz,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,fo.prototype.create),s}return t}(Error),fo=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],c=a?fz(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new Vc(s,l,i);return h},e}();function fz(e,t){return e.replace(hz,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var hz=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(e){return JSON.parse(e)}function St(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zb=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=rh(TR(s[0])||""),n=rh(TR(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},dz=function(e){var t=Zb(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},pz=function(e){var t=Zb(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vz=function(e){var t=Zb(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ta(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function H1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Kv(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(e){for(var t=[],n=function(l,h){Array.isArray(h)?h.forEach(function(p){t.push(encodeURIComponent(l)+"="+encodeURIComponent(p))}):t.push(encodeURIComponent(l)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],c=s[1];n(a,c)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mz=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],p=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^c&(l^h),m=1518500249):(v=c^l^h,m=1859775393):i<60?(v=c&l|h&(c|l),m=2400959708):(v=c^l^h,m=3395469782);var s=(a<<5|a>>>27)+v+p+m+r[i]&4294967295;p=h,h=l,l=(c<<30|c>>>2)&4294967295,c=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function yz(e,t){var n=new _z(e,t);return n.subscribe.bind(n)}var _z=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wz(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=fw),s.error===void 0&&(s.error=fw),s.complete===void 0&&(s.complete=fw);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function wz(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function fw(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Hn(e,t){return e+" failed: "+t+" argument "}function Ot(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Hn(e,t)+"must be a valid function.")}function IR(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Hn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ez=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,q(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},tm=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bz=1e3,Tz=2,Iz=4*60*60*1e3,Sz=.5;function W1(e,t,n){t===void 0&&(t=bz),n===void 0&&(n=Tz);var r=t*Math.pow(n,e),i=Math.round(Sz*r*(Math.random()-.5)*2);return Math.min(Iz,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e){return e&&e._delegate?e._delegate:e}var pn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KD=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Mt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(Cz(t))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}try{for(var i=jt(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Kt(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var p=this.getOrInitializeService({instanceIdentifier:h});l.resolve(p)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Gs),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(de(de([],Kt(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Kt(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Gs),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Gs),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var l=jt(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var p=Kt(h.value,2),v=p[0],m=p[1],y=this.normalizeInstanceIdentifier(v);a===y&&m.resolve(c)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return c},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=jt(s),c=a.next();!c.done;c=a.next()){var l=c.value;try{l(t,n)}catch{}}}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kz(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Gs),this.component?this.component.multipleInstances?t:Gs:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function kz(e){return e===Gs?void 0:e}function Cz(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GD=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new KD(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Kr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hs,eT=[],me;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(me||(me={}));var QD={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},Nz=me.INFO,Az=(Hs={},Hs[me.DEBUG]="log",Hs[me.VERBOSE]="log",Hs[me.INFO]="info",Hs[me.WARN]="warn",Hs[me.ERROR]="error",Hs),Rz=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=Az[t];if(s)console[s].apply(console,Kr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Fa=function(){function e(t){this.name=t,this._logLevel=Nz,this._logHandler=Rz,this._userLogHandler=null,eT.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in me))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?QD[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Kr([this,me.DEBUG],t)),this._logHandler.apply(this,Kr([this,me.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Kr([this,me.VERBOSE],t)),this._logHandler.apply(this,Kr([this,me.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Kr([this,me.INFO],t)),this._logHandler.apply(this,Kr([this,me.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Kr([this,me.WARN],t)),this._logHandler.apply(this,Kr([this,me.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Kr([this,me.ERROR],t)),this._logHandler.apply(this,Kr([this,me.ERROR],t))},e}();function xz(e){eT.forEach(function(t){t.setLogLevel(e)})}function Pz(e,t){for(var n=function(a){var c=null;t&&t.level&&(c=QD[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];var m=p.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(c??l.logLevel)&&e({level:me[h].toLowerCase(),message:m,args:p,type:l.name})}},r=0,i=eT;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co,Oz=(Co={},Co["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Co["bad-app-name"]="Illegal App name: '{$appName}",Co["duplicate-app"]="Firebase App named '{$appName}' already exists",Co["app-deleted"]="Firebase App named '{$appName}' already deleted",Co["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Co["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Co),Cu=new fo("app","Firebase",Oz),YD="@firebase/app",Dz="0.6.30",Lz="@firebase/analytics",Mz="@firebase/app-check",Fz="@firebase/auth",Uz="@firebase/database",jz="@firebase/functions",Bz="@firebase/installations",Vz="@firebase/messaging",$z="@firebase/performance",qz="@firebase/remote-config",zz="@firebase/storage",Hz="@firebase/firestore",Wz="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,Gv="[DEFAULT]",Kz=(on={},on[YD]="fire-core",on[Lz]="fire-analytics",on[Mz]="fire-app-check",on[Fz]="fire-auth",on[Uz]="fire-rtdb",on[jz]="fire-fn",on[Bz]="fire-iid",on[Vz]="fire-fcm",on[$z]="fire-perf",on[qz]="fire-rc",on[zz]="fire-gcs",on[Hz]="fire-fst",on["fire-js"]="fire-js",on[Wz]="fire-js-all",on);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fc=new Fa("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lv=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=$D(t),this.container=new GD(n.name),this._addComponent(new pn("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Gv),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Gv),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){fc.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Cu.create("app-deleted",{appName:this.name_})},e}();lv.prototype.name&&lv.prototype.options||lv.prototype.delete||console.log("dc");var Gz="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:xz,onLog:p,apps:null,SDK_VERSION:Gz,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(m){delete t[m]}function s(m){if(m=m||Gv,!ur(t,m))throw Cu.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var I=y;I.name===void 0&&(I.name=Gv);var C=I.name;if(typeof C!="string"||!C)throw Cu.create("bad-app-name",{appName:String(C)});if(ur(t,C))throw Cu.create("duplicate-app",{appName:C});var b=new e(m,I,r);return t[C]=b,b}function c(){return Object.keys(t).map(function(m){return t[m]})}function l(m){var y=m.name;if(n.has(y))return fc.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var w=function(T){if(T===void 0&&(T=s()),typeof T[y]!="function")throw Cu.create("invalid-app-argument",{appName:y});return T[y]()};m.serviceProps!==void 0&&nh(w,m.serviceProps),r[y]=w,e.prototype[y]=function(){for(var T=[],S=0;S<arguments.length;S++)T[S]=arguments[S];var x=this._getService.bind(this,y);return x.apply(this,m.multipleInstances?T:[])}}for(var I=0,C=Object.keys(t);I<C.length;I++){var b=C[I];t[b]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,w){var I,C=(I=Kz[m])!==null&&I!==void 0?I:m;w&&(C+="-"+w);var b=C.match(/\s|\//),T=y.match(/\s|\//);if(b||T){var S=['Unable to register library "'+C+'" with version "'+y+'":'];b&&S.push('library name "'+C+'" contains illegal characters (whitespace or "/")'),b&&T&&S.push("and"),T&&S.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),fc.warn(S.join(" "));return}l(new pn(C+"-version",function(){return{library:C,version:y}},"VERSION"))}function p(m,y){if(m!==null&&typeof m!="function")throw Cu.create("invalid-log-argument");Pz(m,y)}function v(m,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){var e=Qz(lv);e.INTERNAL=ne(ne({},e.INTERNAL),{createFirebaseNamespace:XD,extendNamespace:t,createSubscribe:yz,ErrorFactory:fo,deepExtend:nh});function t(n){nh(e,n)}return e}var tT=XD();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yz=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(Xz(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function Xz(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(e,t){e.INTERNAL.registerComponent(new pn("platform-logger",function(n){return new Yz(n)},"PRIVATE")),e.registerVersion(YD,Dz,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(iz()&&self.firebase!==void 0){fc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var SR=self.firebase.SDK_VERSION;SR&&SR.indexOf("LITE")>=0&&fc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var Zz=tT.initializeApp;tT.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qD()&&fc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),Zz.apply(void 0,e)};var J=tT;Jz(J);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var g=o[d];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(E){this.b=0,this.c=void 0,this.a=[];var k=this.f();try{E(k.resolve,k.reject)}catch(M){k.reject(M)}}function f(){this.a=null}function d(E){return E instanceof u?E:new u(function(k){k(E)})}if(o)return o;f.prototype.b=function(E){if(this.a==null){this.a=[];var k=this;this.c(function(){k.g()})}this.a.push(E)};var g=r.setTimeout;f.prototype.c=function(E){g(E,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var k=0;k<E.length;++k){var M=E[k];E[k]=null;try{M()}catch(U){this.f(U)}}}this.a=null},f.prototype.f=function(E){this.c(function(){throw E})},u.prototype.f=function(){function E(U){return function(oe){M||(M=!0,U.call(k,oe))}}var k=this,M=!1;return{resolve:E(this.m),reject:E(this.g)}},u.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof u)this.s(E);else{e:switch(typeof E){case"object":var k=E!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.v(E):this.h(E)}},u.prototype.v=function(E){var k=void 0;try{k=E.then}catch(M){this.g(M);return}typeof k=="function"?this.u(k,E):this.h(E)},u.prototype.g=function(E){this.i(2,E)},u.prototype.h=function(E){this.i(1,E)},u.prototype.i=function(E,k){if(this.b!=0)throw Error("Cannot settle("+E+", "+k+"): Promise already settled in state"+this.b);this.b=E,this.c=k,this.l()},u.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)_.b(this.a[E]);this.a=null}};var _=new f;return u.prototype.s=function(E){var k=this.f();E.Ra(k.resolve,k.reject)},u.prototype.u=function(E,k){var M=this.f();try{E.call(k,M.resolve,M.reject)}catch(U){M.reject(U)}},u.prototype.then=function(E,k){function M(Ne,Rt){return typeof Ne=="function"?function($i){try{U(Ne($i))}catch(M_){oe(M_)}}:Rt}var U,oe,Oe=new u(function(Ne,Rt){U=Ne,oe=Rt});return this.Ra(M(E,U),M(k,oe)),Oe},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.Ra=function(E,k){function M(){switch(U.b){case 1:E(U.c);break;case 2:k(U.c);break;default:throw Error("Unexpected state: "+U.b)}}var U=this;this.a==null?_.b(M):this.a.push(M)},u.resolve=d,u.reject=function(E){return new u(function(k,M){M(E)})},u.race=function(E){return new u(function(k,M){for(var U=a(E),oe=U.next();!oe.done;oe=U.next())d(oe.value).Ra(k,M)})},u.all=function(E){var k=a(E),M=k.next();return M.done?d([]):new u(function(U,oe){function Oe($i){return function(M_){Ne[$i]=M_,Rt--,Rt==0&&U(Ne)}}var Ne=[],Rt=0;do Ne.push(void 0),Rt++,d(M.value).Ra(Oe(Ne.length-1),oe),M=k.next();while(!M.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function I(o){return y(o)=="function"}function C(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function b(o){return Object.prototype.hasOwnProperty.call(o,T)&&o[T]||(o[T]=++S)}var T="closure_uid_"+(1e9*Math.random()>>>0),S=0;function x(o,u,f){return o.call.apply(o.bind,arguments)}function L(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function P(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?P=x:P=L,P.apply(null,arguments)}function $(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function F(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function ce(o){return o}function R(o,u,f){this.code=Dr+o,this.message=u||ws[o]||"",this.a=f||null}F(R,Error),R.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},R.prototype.toJSON=function(){return this.w()};function Vt(o){var u=o&&o.code;return u?new R(u.substring(Dr.length),o.message,o.serverResponse):null}var Dr="auth/",ws={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ya={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Es(o){for(var u in Ya)if(Ya[u].id===o)return o=Ya[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Mi;Mi=Es("__EID__")?"__EID__":void 0;function Xa(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function H(o){if(Error.captureStackTrace)Error.captureStackTrace(this,H);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}F(H,Error),H.prototype.name="CustomError";function se(o,u){o=o.split("%s");for(var f="",d=o.length-1,g=0;g<d;g++)f+=o[g]+(g<u.length?u[g]:"%s");H.call(this,f+o[d])}F(se,H),se.prototype.name="AssertionError";function ae(o,u){throw new se("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function $e(o,u){this.c=o,this.f=u,this.b=0,this.a=null}$e.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function at(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function bs(){this.b=this.a=null}var ai=new $e(function(){return new Lr},function(o){o.reset()});bs.prototype.add=function(o,u){var f=ai.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function ol(){var o=QS,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function Lr(){this.next=this.b=this.a=null}Lr.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},Lr.prototype.reset=function(){this.next=this.b=this.a=null};var Ts=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Xe=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,g=typeof o=="string"?o.split(""):o,_=0;_<d;_++)_ in g&&u.call(f,g[_],_,o)};function ZU(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var ej=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],g=0,_=typeof o=="string"?o.split(""):o,E=0;E<f;E++)if(E in _){var k=_[E];u.call(void 0,k,E,o)&&(d[g++]=k)}return d},dd=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),g=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in g&&(d[_]=u.call(void 0,g[_],_,o));return d},tj=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o))return!0;return!1};function nj(o){e:{for(var u=LB,f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o)){u=g;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function Fi(o,u){return 0<=Ts(o,u)}function pd(o,u){u=Ts(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function Mr(o,u){var f=0;ZU(o,function(d,g){u.call(void 0,d,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function ay(o){return Array.prototype.concat.apply([],arguments)}function Is(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var IS=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},rj=/&/g,ij=/</g,oj=/>/g,sj=/"/g,aj=/'/g,uj=/\x00/g,cj=/[\x00&<>"']/;function je(o,u){return o.indexOf(u)!=-1}function uy(o,u){return o<u?-1:o>u?1:0}var Ja;e:{var SS=l.navigator;if(SS){var kS=SS.userAgent;if(kS){Ja=kS;break e}}Ja=""}function Et(o){return je(Ja,o)}function CS(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function Ss(o){for(var u in o)return!1;return!0}function go(o){var u={},f;for(f in o)u[f]=o[f];return u}var NS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dn(o,u){for(var f,d,g=1;g<arguments.length;g++){d=arguments[g];for(f in d)o[f]=d[f];for(var _=0;_<NS.length;_++)f=NS[_],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function AS(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||l,d.Element&&d.Location){var g=d;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(C(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;ae("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function ui(o,u){this.a=o===vd&&u||"",this.b=RS}ui.prototype.ta=!0,ui.prototype.sa=function(){return this.a},ui.prototype.toString=function(){return"Const{"+this.a+"}"};function cy(o){return o instanceof ui&&o.constructor===ui&&o.b===RS?o.a:(ae("expected object of type Const, got '"+o+"'"),"type_error:Const")}var RS={},vd={},gd;function xS(){if(gd===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:ce,createScript:ce,createScriptURL:ce})}catch(f){l.console&&l.console.error(f.message)}gd=o}else gd=o}return gd}function Za(o,u){this.a=u===OS?o:""}Za.prototype.ta=!0,Za.prototype.sa=function(){return this.a.toString()},Za.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function PS(o){return o instanceof Za&&o.constructor===Za?o.a:(ae("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function ly(o,u){var f=cy(o);if(!fj.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(lj,function(d,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[g],d instanceof ui?cy(d):encodeURIComponent(String(d))}),hj(o)}var lj=/%{(\w+)}/g,fj=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,OS={};function hj(o){var u=xS();return o=u?u.createScriptURL(o):o,new Za(o,OS)}function Ln(o,u){this.a=u===sl?o:""}Ln.prototype.ta=!0,Ln.prototype.sa=function(){return this.a.toString()},Ln.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function md(o){return o instanceof Ln&&o.constructor===Ln?o.a:(ae("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var dj=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,pj=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,DS=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function LS(o){if(o instanceof Ln)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),DS.test(o))o=new Ln(o,sl);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(pj);o=u&&dj.test(u[1])?new Ln(o,sl):null}return o}function MS(o){return o instanceof Ln?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),DS.test(o)||(o="about:invalid#zClosurez"),new Ln(o,sl))}var sl={},FS=new Ln("about:invalid#zClosurez",sl);function eu(o,u,f){this.a=f===US?o:""}eu.prototype.ta=!0,eu.prototype.sa=function(){return this.a.toString()},eu.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function vj(o){return o instanceof eu&&o.constructor===eu?o.a:(ae("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var US={};function gj(o,u){AS(o,"HTMLScriptElement"),o.src=PS(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=v(u.document):(p===null&&(p=v(l.document)),u=p),u&&o.setAttribute("nonce",u)}function jS(o,u,f,d){return o=o instanceof Ln?o:MS(o),u=u||l,f=f instanceof ui?cy(f):f||"",u.open(md(o),f,d,void 0)}function BS(o,u){for(var f=o.split("%s"),d="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)d+=f.shift()+g.shift();return d+f.join("%s")}function fy(o){return cj.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(rj,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(ij,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(oj,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(sj,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(aj,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(uj,"&#0;"))),o}function hy(o){return hy[" "](o),o}hy[" "]=m;function mj(o,u){var f=Ej;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var yj=Et("Opera"),Fr=Et("Trident")||Et("MSIE"),VS=Et("Edge"),_j=VS||Fr,$S=Et("Gecko")&&!(je(Ja.toLowerCase(),"webkit")&&!Et("Edge"))&&!(Et("Trident")||Et("MSIE"))&&!Et("Edge"),wj=je(Ja.toLowerCase(),"webkit")&&!Et("Edge");function qS(){var o=l.document;return o?o.documentMode:void 0}var yd;e:{var dy="",py=function(){var o=Ja;if($S)return/rv:([^\);]+)(\)|;)/.exec(o);if(VS)return/Edge\/([\d\.]+)/.exec(o);if(Fr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(wj)return/WebKit\/(\S+)/.exec(o);if(yj)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(py&&(dy=py?py[1]:""),Fr){var vy=qS();if(vy!=null&&vy>parseFloat(dy)){yd=String(vy);break e}}yd=dy}var Ej={};function zS(o){return mj(o,function(){for(var u=0,f=IS(String(yd)).split("."),d=IS(String(o)).split("."),g=Math.max(f.length,d.length),_=0;u==0&&_<g;_++){var E=f[_]||"",k=d[_]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],E[0].length==0&&k[0].length==0)break;u=uy(E[1].length==0?0:parseInt(E[1],10),k[1].length==0?0:parseInt(k[1],10))||uy(E[2].length==0,k[2].length==0)||uy(E[2],k[2]),E=E[3],k=k[3]}while(u==0)}return 0<=u})}var gy;if(l.document&&Fr){var HS=qS();gy=HS||parseInt(yd,10)||void 0}else gy=void 0;var mo=gy;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var bj=!Fr||9<=Number(mo);function al(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function WS(o,u){CS(u,function(f,d){f&&typeof f=="object"&&f.ta&&(f=f.sa()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:KS.hasOwnProperty(d)?o.setAttribute(KS[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var KS={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Tj(o,u,f){var d=arguments,g=document,_=String(d[0]),E=d[1];if(!bj&&E&&(E.name||E.type)){if(_=["<",_],E.name&&_.push(' name="',fy(E.name),'"'),E.type){_.push(' type="',fy(E.type),'"');var k={};Dn(k,E),delete k.type,E=k}_.push(">"),_=_.join("")}return _=_d(g,_),E&&(typeof E=="string"?_.className=E:Array.isArray(E)?_.className=E.join(" "):WS(_,E)),2<d.length&&Ij(g,_,d),_}function Ij(o,u,f){function d(k){k&&u.appendChild(typeof k=="string"?o.createTextNode(k):k)}for(var g=2;g<f.length;g++){var _=f[g];if(!w(_)||C(_)&&0<_.nodeType)d(_);else{e:{if(_&&typeof _.length=="number"){if(C(_)){var E=typeof _.item=="function"||typeof _.item=="string";break e}if(I(_)){E=typeof _.item=="function";break e}}E=!1}Xe(E?Is(_):_,d)}}}function _d(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function GS(o){l.setTimeout(function(){throw o},0)}var my;function Sj(){var o=l.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Et("Presto")&&(o=function(){var g=_d(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var _=g.contentWindow;g=_.document,g.open(),g.close();var E="callImmediate"+Math.random(),k=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;g=P(function(M){(k=="*"||M.origin==k)&&M.data==E&&this.port1.onmessage()},this),_.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(E,k)}}}),typeof o<"u"&&!Et("Trident")&&!Et("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Hb;f.Hb=null,g()}},function(g){d.next={Hb:g},d=d.next,u.port2.postMessage(0)}}return function(g){l.setTimeout(g,0)}}function wd(o,u){Ed||kj(),yy||(Ed(),yy=!0),QS.add(o,u)}var Ed;function kj(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);Ed=function(){o.then(YS)}}else Ed=function(){var u=YS;!I(l.setImmediate)||l.Window&&l.Window.prototype&&!Et("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(my||(my=Sj()),my(u)):l.setImmediate(u)}}var yy=!1,QS=new bs;function YS(){for(var o;o=ol();){try{o.a.call(o.b)}catch(u){GS(u)}at(ai,o)}yy=!1}function ye(o,u){if(this.a=ks,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(d){Cs(f,ul,d)},function(d){if(!(d instanceof tu))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}Cs(f,Ui,d)})}catch(d){Cs(this,Ui,d)}}var ks=0,ul=2,Ui=3;function XS(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}XS.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var JS=new $e(function(){return new XS},function(o){o.reset()});function _y(o,u,f){var d=JS.get();return d.g=o,d.b=u,d.f=f,d}function te(o){if(o instanceof ye)return o;var u=new ye(m);return Cs(u,ul,o),u}function We(o){return new ye(function(u,f){f(o)})}function ZS(o,u,f){rk(o,u,f,null)||wd($(u,o))}function Cj(o){return new ye(function(u,f){var d=o.length,g=[];if(d)for(var _=function(U,oe){d--,g[U]=oe,d==0&&u(g)},E=function(U){f(U)},k=0,M;k<o.length;k++)M=o[k],ZS(M,$(_,k),E);else u(g)})}function ek(o){return new ye(function(u){var f=o.length,d=[];if(f)for(var g=function(k,M,U){f--,d[k]=M?{Qb:!0,value:U}:{Qb:!1,reason:U},f==0&&u(d)},_=0,E;_<o.length;_++)E=o[_],ZS(E,$(g,_,!0),$(g,_,!1));else u(d)})}ye.prototype.then=function(o,u,f){return nk(this,I(o)?o:null,I(u)?u:null,f)},ye.prototype.$goog_Thenable=!0,e=ye.prototype,e.oa=function(o,u){return o=_y(o,o,u),o.c=!0,wy(this,o),this},e.o=function(o,u){return nk(this,null,o,u)},e.cancel=function(o){if(this.a==ks){var u=new tu(o);wd(function(){tk(this,u)},this)}};function tk(o,u){if(o.a==ks)if(o.c){var f=o.c;if(f.b){for(var d=0,g=null,_=null,E=f.b;E&&(E.c||(d++,E.a==o&&(g=E),!(g&&1<d)));E=E.next)g||(_=E);g&&(f.a==ks&&d==1?tk(f,u):(_?(d=_,d.next==f.f&&(f.f=d),d.next=d.next.next):ok(f),sk(f,g,Ui,u)))}o.c=null}else Cs(o,Ui,u)}function wy(o,u){o.b||o.a!=ul&&o.a!=Ui||ik(o),o.f?o.f.next=u:o.b=u,o.f=u}function nk(o,u,f,d){var g=_y(null,null,null);return g.a=new ye(function(_,E){g.g=u?function(k){try{var M=u.call(d,k);_(M)}catch(U){E(U)}}:_,g.b=f?function(k){try{var M=f.call(d,k);M===void 0&&k instanceof tu?E(k):_(M)}catch(U){E(U)}}:E}),g.a.c=o,wy(o,g),g.a}e.$c=function(o){this.a=ks,Cs(this,ul,o)},e.ad=function(o){this.a=ks,Cs(this,Ui,o)};function Cs(o,u,f){o.a==ks&&(o===f&&(u=Ui,f=new TypeError("Promise cannot resolve to itself")),o.a=1,rk(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,ik(o),u!=Ui||f instanceof tu||Aj(o,f)))}function rk(o,u,f,d){if(o instanceof ye)return wy(o,_y(u||m,f||null,d)),!0;if(Xa(o))return o.then(u,f,d),!0;if(C(o))try{var g=o.then;if(I(g))return Nj(o,g,u,f,d),!0}catch(_){return f.call(d,_),!0}return!1}function Nj(o,u,f,d,g){function _(M){k||(k=!0,d.call(g,M))}function E(M){k||(k=!0,f.call(g,M))}var k=!1;try{u.call(o,E,_)}catch(M){_(M)}}function ik(o){o.h||(o.h=!0,wd(o.gc,o))}function ok(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=ok(this);)sk(this,o,this.a,this.i);this.h=!1};function sk(o,u,f,d){if(f==Ui&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,ak(u,f,d);else try{u.c?u.g.call(u.f):ak(u,f,d)}catch(g){uk.call(null,g)}at(JS,u)}function ak(o,u,f){u==ul?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function Aj(o,u){o.g=!0,wd(function(){o.g&&uk.call(null,u)})}var uk=GS;function tu(o){H.call(this,o)}F(tu,H),tu.prototype.name="cancel";function bd(){this.ya=this.ya,this.pa=this.pa}var Rj=0;bd.prototype.ya=!1;function ck(o){!o.ya&&(o.ya=!0,o.Da(),Rj!=0)&&b(o)}bd.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var xj=Object.freeze||function(o){return o},lk=!Fr||9<=Number(mo),Pj=Fr&&!zS("9"),Oj=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",m,u),l.removeEventListener("test",m,u)}catch{}return o}();function Mn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Mn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ns(o,u){if(Mn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if($S){e:{try{hy(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Dj[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}F(Ns,Mn);var Dj=xj({2:"touch",3:"pen",4:"mouse"});Ns.prototype.preventDefault=function(){Ns.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,Pj)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Ns.prototype.g=function(){return this.a};var cl="closure_listenable_"+(1e6*Math.random()|0),Lj=0;function Mj(o,u,f,d,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Wa=g,this.key=++Lj,this.wa=this.Qa=!1}function Td(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function Id(o){this.src=o,this.a={},this.b=0}Id.prototype.add=function(o,u,f,d,g){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var E=by(o,u,d,g);return-1<E?(u=o[E],f||(u.Qa=!1)):(u=new Mj(u,this.src,_,!!d,g),u.Qa=f,o.push(u)),u};function Ey(o,u){var f=u.type;f in o.a&&pd(o.a[f],u)&&(Td(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function by(o,u,f,d){for(var g=0;g<o.length;++g){var _=o[g];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==d)return g}return-1}var Ty="closure_lm_"+(1e6*Math.random()|0),Iy={};function dr(o,u,f,d,g){if(d&&d.once)Sy(o,u,f,d,g);else if(Array.isArray(u))for(var _=0;_<u.length;_++)dr(o,u[_],f,d,g);else f=Cy(f),o&&o[cl]?gk(o,u,f,C(d)?!!d.capture:!!d,g):fk(o,u,f,!1,d,g)}function fk(o,u,f,d,g,_){if(!u)throw Error("Invalid event type");var E=C(g)?!!g.capture:!!g,k=Sd(o);if(k||(o[Ty]=k=new Id(o)),f=k.add(u,f,d,E,_),!f.proxy)if(d=Fj(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)Oj||(g=E),g===void 0&&(g=!1),o.addEventListener(u.toString(),d,g);else if(o.attachEvent)o.attachEvent(dk(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function Fj(){var o=Uj,u=lk?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Sy(o,u,f,d,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)Sy(o,u[_],f,d,g);else f=Cy(f),o&&o[cl]?Ny(o,u,f,C(d)?!!d.capture:!!d,g):fk(o,u,f,!0,d,g)}function Qn(o,u,f,d,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)Qn(o,u[_],f,d,g);else d=C(d)?!!d.capture:!!d,f=Cy(f),o&&o[cl]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=by(_,f,d,g),-1<f&&(Td(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=Sd(o))&&(u=o.a[u.toString()],o=-1,u&&(o=by(u,f,d,g)),(f=-1<o?u[o]:null)&&hk(f))}function hk(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[cl])Ey(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(dk(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=Sd(u))?(Ey(f,o),f.b==0&&(f.src=null,u[Ty]=null)):Td(o)}}}function dk(o){return o in Iy?Iy[o]:Iy[o]="on"+o}function pk(o,u,f,d){var g=!0;if((o=Sd(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=vk(_,d),g=g&&_!==!1)}return g}function vk(o,u){var f=o.listener,d=o.Wa||o.src;return o.Qa&&hk(o),f.call(d,u)}function Uj(o,u){if(o.wa)return!0;if(!lk){if(!u)e:{u=["window","event"];for(var f=l,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new Ns(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var g=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{g=!0}(g||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],g=u.b;g;g=g.parentNode)d.push(g);for(o=o.type,g=d.length-1;0<=g;g--){u.b=d[g];var _=pk(d[g],o,!0,u);f=f&&_}for(g=0;g<d.length;g++)u.b=d[g],_=pk(d[g],o,!1,u),f=f&&_}return f}return vk(o,new Ns(u,this))}function Sd(o){return o=o[Ty],o instanceof Id?o:null}var ky="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cy(o){return I(o)?o:(o[ky]||(o[ky]=function(u){return o.handleEvent(u)}),o[ky])}function mn(){bd.call(this),this.v=new Id(this),this.bc=this,this.hb=null}F(mn,bd),mn.prototype[cl]=!0,mn.prototype.addEventListener=function(o,u,f,d){dr(this,o,u,f,d)},mn.prototype.removeEventListener=function(o,u,f,d){Qn(this,o,u,f,d)},mn.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var d=o.type||o;if(typeof o=="string")o=new Mn(o,f);else if(o instanceof Mn)o.target=o.target||f;else{var g=o;o=new Mn(d,f),Dn(o,g)}if(g=!0,u)for(var _=u.length-1;0<=_;_--){var E=o.b=u[_];g=kd(E,d,!0,o)&&g}if(E=o.b=f,g=kd(E,d,!0,o)&&g,g=kd(E,d,!1,o)&&g,u)for(_=0;_<u.length;_++)E=o.b=u[_],g=kd(E,d,!1,o)&&g;return g},mn.prototype.Da=function(){if(mn.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)Td(f[d]);delete o.a[u],o.b--}}this.hb=null};function gk(o,u,f,d,g){o.v.add(String(u),f,!1,d,g)}function Ny(o,u,f,d,g){o.v.add(String(u),f,!0,d,g)}function kd(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,_=0;_<u.length;++_){var E=u[_];if(E&&!E.wa&&E.capture==f){var k=E.listener,M=E.Wa||E.src;E.Qa&&Ey(o.v,E),g=k.call(M,d)!==!1&&g}}return g&&!d.defaultPrevented}function Ay(o,u,f){if(I(o))f&&(o=P(o,f));else if(o&&typeof o.handleEvent=="function")o=P(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function nu(o){var u=null;return new ye(function(f,d){u=Ay(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function mk(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function yk(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function jj(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")Xe(o,u,void 0);else for(var f=yk(o),d=mk(o),g=d.length,_=0;_<g;_++)u.call(void 0,d[_],f&&f[_],o)}function ru(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof ru)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}e=ru.prototype,e.X=function(){Ry(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return Ry(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Ry(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];As(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)d=o.a[u],As(g,d)||(o.a[f++]=d,g[d]=1),u++;o.a.length=f}}e.get=function(o,u){return As(this.b,o)?this.b[o]:u},e.set=function(o,u){As(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var g=f[d],_=this.get(g);o.call(u,_,g,this)}};function As(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var _k=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bj(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),g=null;if(0<=d){var _=o[f].substring(0,d);g=o[f].substring(d+1)}else _=o[f];u(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function yo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof yo?(this.i=u!==void 0?u:o.i,ll(this,o.c),this.l=o.l,this.a=o.a,fl(this,o.g),this.f=o.f,xy(this,Tk(o.b)),this.h=o.h):o&&(f=String(o).match(_k))?(this.i=!!u,ll(this,f[1]||"",!0),this.l=hl(f[2]||""),this.a=hl(f[3]||"",!0),fl(this,f[4]),this.f=hl(f[5]||"",!0),xy(this,f[6]||"",!0),this.h=hl(f[7]||"")):(this.i=!!u,this.b=new Rs(null,this.i))}yo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(dl(u,wk,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(dl(u,wk,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(dl(f,f.charAt(0)=="/"?qj:$j,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",dl(f,Hj)),o.join("")},yo.prototype.resolve=function(o){var u=new yo(this),f=!!o.c;f?ll(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)fl(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var g=u.f.lastIndexOf("/");g!=-1&&(d=u.f.substr(0,g+1)+d)}if(g=d,g==".."||g==".")d="";else if(je(g,"./")||je(g,"/.")){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],E=0;E<g.length;){var k=g[E++];k=="."?d&&E==g.length&&_.push(""):k==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),d&&E==g.length&&_.push("")):(_.push(k),d=!0)}d=_.join("/")}else d=g}return f?u.f=d:f=o.b.toString()!=="",f?xy(u,Tk(o.b)):f=!!o.h,f&&(u.h=o.h),u};function ll(o,u,f){o.c=f?hl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function fl(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function xy(o,u,f){u instanceof Rs?(o.b=u,Wj(o.b,o.i)):(f||(u=dl(u,zj)),o.b=new Rs(u,o.i))}function ut(o,u,f){o.b.set(u,f)}function pr(o,u){return o.b.get(u)}function Fn(o){return o instanceof yo?new yo(o):new yo(o,void 0)}function Cd(o,u,f,d){var g=new yo(null,void 0);return o&&ll(g,o),u&&(g.a=u),f&&fl(g,f),d&&(g.f=d),g}function hl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function dl(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,Vj),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Vj(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var wk=/[#\/\?@]/g,$j=/[#\?:]/g,qj=/[#\?]/g,zj=/[#\?@]/g,Hj=/#/g;function Rs(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function _o(o){o.a||(o.a=new ru,o.b=0,o.c&&Bj(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function Ek(o){var u=yk(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Rs(null,void 0);o=mk(o);for(var d=0;d<u.length;d++){var g=u[d],_=o[d];Array.isArray(_)?bk(f,g,_):f.add(g,_)}return f}e=Rs.prototype,e.add=function(o,u){_o(this),this.c=null,o=iu(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function ci(o,u){_o(o),u=iu(o,u),As(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,As(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Ry(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Py(o,u){return _o(o),u=iu(o,u),As(o.a.b,u)}e.forEach=function(o,u){_o(this),this.a.forEach(function(f,d){Xe(f,function(g){o.call(u,g,d,this)},this)},this)},e.Y=function(){_o(this);for(var o=this.a.X(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var g=o[d],_=0;_<g.length;_++)f.push(u[d]);return f},e.X=function(o){_o(this);var u=[];if(typeof o=="string")Py(this,o)&&(u=ay(u,this.a.get(iu(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=ay(u,o[f])}return u},e.set=function(o,u){return _o(this),this.c=null,o=iu(this,o),Py(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function bk(o,u,f){ci(o,u),0<f.length&&(o.c=null,o.a.set(iu(o,u),Is(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],g=encodeURIComponent(String(d));d=this.X(d);for(var _=0;_<d.length;_++){var E=g;d[_]!==""&&(E+="="+encodeURIComponent(String(d[_]))),o.push(E)}}return this.c=o.join("&")};function Tk(o){var u=new Rs;return u.c=o.c,o.a&&(u.a=new ru(o.a),u.b=o.b),u}function iu(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function Wj(o,u){u&&!o.f&&(_o(o),o.c=null,o.a.forEach(function(f,d){var g=d.toLowerCase();d!=g&&(ci(this,d),bk(this,g,f))},o)),o.f=u}function Ik(o){var u=[];return Oy(new Kj,o,u),u.join("")}function Kj(){}function Oy(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var g="",_=0;_<u;_++)f.push(g),Oy(o,d[_],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(_=u[d],typeof _!="function"&&(f.push(g),kk(d,f),f.push(":"),Oy(o,_,f),g=","));f.push("}");return}}switch(typeof u){case"string":kk(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Sk={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Gj=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function kk(o,u){u.push('"',o.replace(Gj,function(f){var d=Sk[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),Sk[f]=d),d}),'"')}function Dy(){var o=$t();return Fr&&!!mo&&mo==11||/Edge\/\d+/.test(o)}function pl(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function Ck(o,u){u=u||l.window;var f="about:blank";o&&(f=md(LS(o)||FS)),u.location.href=f}function Nk(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<Nk(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function Qj(){var o=$t();return o=ou(o)!=Pk?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Fr||!mo||9<mo}function Ak(o){return o=(o||$t()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function xs(o){o=o||l.window;try{o.close()}catch{}}function Rk(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=$t().toLowerCase(),d&&(u.target=d,je(f,"crios/")&&(u.target="_blank")),ou($t())==Fy&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof Ln?f:LS(typeof f.href<"u"?f.href:String(f))||FS,f=o.target||f.target,g=[];for(E in o)switch(E){case"width":case"height":case"top":case"left":g.push(E+"="+o[E]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(E+"="+(o[E]?1:0))}var E=g.join(",");if((Et("iPhone")&&!Et("iPod")&&!Et("iPad")||Et("iPad")||Et("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(E=_d(document,"A"),AS(E,"HTMLAnchorElement"),u=u instanceof Ln?u:MS(u),E.href=md(u),E.setAttribute("target",f),o.noreferrer&&E.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),E.dispatchEvent(o),E={}):o.noreferrer?(E=jS("",d,f,E),o=md(u),E&&(_j&&je(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),E.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+fy(o)+'">',o=(d=xS())?d.createHTML(o):o,o=new eu(o,null,US),d=E.document)&&(d.write(vj(o)),d.close())):(E=jS(u,d,f,E))&&o.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function Yj(o){return new ye(function(u){function f(){nu(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var Xj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jj=/^[^@]+@[^@]+$/;function Nd(){var o=null;return new ye(function(u){l.document.readyState=="complete"?u():(o=function(){u()},Sy(window,"load",o))}).o(function(u){throw Qn(window,"load",o),u})}function Zj(){return Ly(void 0)?Nd().then(function(){return new ye(function(o,u){var f=l.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):We(Error("Cordova must run in an Android or iOS file scheme."))}function Ly(o){return o=o||$t(),!(au()!=="file:"&&au()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function My(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function Ur(){return typeof l.WorkerGlobalScope<"u"&&typeof l.importScripts=="function"}function li(){return J.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":J.INTERNAL.hasOwnProperty("node")?"Node":Ur()?"Worker":"Browser"}function xk(){var o=li();return o==="ReactNative"||o==="Node"}function eB(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Fy="Firefox",Pk="Chrome";function ou(o){var u=o.toLowerCase();if(je(u,"opera/")||je(u,"opr/")||je(u,"opios/"))return"Opera";if(je(u,"iemobile"))return"IEMobile";if(je(u,"msie")||je(u,"trident/"))return"IE";if(je(u,"edge/"))return"Edge";if(je(u,"firefox/"))return Fy;if(je(u,"silk/"))return"Silk";if(je(u,"blackberry"))return"Blackberry";if(je(u,"webos"))return"Webos";if(!je(u,"safari/")||je(u,"chrome/")||je(u,"crios/")||je(u,"android"))if(!je(u,"chrome/")&&!je(u,"crios/")||je(u,"edge/")){if(je(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return Pk;else return"Safari";return"Other"}var Ok={md:"FirebaseCore-web",od:"FirebaseUI-web"};function su(o,u){u=u||[];var f=[],d={},g;for(g in Ok)d[Ok[g]]=!0;for(g=0;g<u.length;g++)typeof d[u[g]]<"u"&&(delete d[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=li(),f==="Browser"?(d=$t(),f=ou(d)):f==="Worker"&&(d=$t(),f=ou(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function $t(){return l.navigator&&l.navigator.userAgent||""}function Ke(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Uy(){try{var o=l.localStorage,u=Os();if(o)return o.setItem(u,"1"),o.removeItem(u),Dy()?!!l.indexedDB:!0}catch{return Ur()&&!!l.indexedDB}return!1}function Ps(){return(Ad()||au()==="chrome-extension:"||Ly())&&!xk()&&Uy()&&!Ur()}function Ad(){return au()==="http:"||au()==="https:"}function au(){return l.location&&l.location.protocol||null}function vl(o){return o=o||$t(),!(Ak(o)||ou(o)==Fy)}function gl(o){return typeof o>"u"?null:Ik(o)}function Dk(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function uu(o){if(o!==null)return JSON.parse(o)}function Os(o){return o||Math.floor(1e9*Math.random()).toString()}function Lk(o){return o=o||$t(),!(ou(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function Mk(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function wo(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=$t(),u=li(),this.b=Ak(o)||u==="ReactNative"}wo.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&(Ad()||au()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function jy(){var o=l.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function tB(){var o=l.document,u=null;return jy()||!o?te():new ye(function(f){u=function(){jy()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function ml(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function Fk(){return!(!Ke("fireauth.oauthhelper",l)&&!Ke("fireauth.iframe",l))}function nB(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function rB(){var o=l.navigator;return o&&o.serviceWorker?te().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):te(null)}var Uk={};function By(o){Uk[o]||(Uk[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var Vy;try{var $y={};Object.defineProperty($y,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($y,"abcd",{configurable:!0,enumerable:!0,value:2}),Vy=$y.abcd==2}catch{Vy=!1}function X(o,u,f){Vy?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function yn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&X(o,f,u[f])}function fi(o){var u={};return yn(u,o),u}function iB(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function oB(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function qy(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)X(u,f,qy(o[f]))}return u}function zy(o){var u=o&&(o[Gy]?"phone":null);if(u&&o&&o[Ky]){X(this,"uid",o[Ky]),X(this,"displayName",o[jk]||null);var f=null;o[Wy]&&(f=new Date(o[Wy]).toUTCString()),X(this,"enrollmentTime",f),X(this,"factorId",u)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}zy.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Hy(o){try{var u=new yl(o)}catch{u=null}return u}var jk="displayName",Wy="enrolledAt",Ky="mfaEnrollmentId",Gy="phoneInfo";function yl(o){zy.call(this,o),X(this,"phoneNumber",o[Gy])}F(yl,zy),yl.prototype.w=function(){var o=yl.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function sB(o){var u={},f=o[aB],d=o[cB],g=o[lB];if(o=Hy(o[uB]),!g||g!=Rd&&g!=_l&&!f||g==_l&&!d||g==Qy&&!o)throw Error("Invalid checkActionCode response!");g==_l?(u[Vk]=f||null,u[$k]=f||null,u[Bk]=d):(u[Vk]=d||null,u[$k]=d||null,u[Bk]=f||null),u[fB]=o||null,X(this,dB,g),X(this,hB,qy(u))}var Qy="REVERT_SECOND_FACTOR_ADDITION",Rd="EMAIL_SIGNIN",_l="VERIFY_AND_CHANGE_EMAIL",aB="email",uB="mfaInfo",cB="newEmail",lB="requestType",Bk="email",Vk="fromEmail",fB="multiFactorInfo",$k="previousEmail",hB="data",dB="operation";function Yy(o){o=Fn(o);var u=pr(o,qk)||null,f=pr(o,zk)||null,d=pr(o,Hk)||null;if(d=d&&mB[d]||null,!u||!f||!d)throw new R("argument-error",qk+", "+zk+"and "+Hk+" are required in a valid action code URL.");yn(this,{apiKey:u,operation:d,code:f,continueUrl:pr(o,pB)||null,languageCode:pr(o,vB)||null,tenantId:pr(o,gB)||null})}var qk="apiKey",zk="oobCode",pB="continueUrl",vB="languageCode",Hk="mode",gB="tenantId",mB={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Qy,signIn:Rd,verifyAndChangeEmail:_l,verifyEmail:"VERIFY_EMAIL"};function Wk(o){try{return new Yy(o)}catch{return null}}function xd(o){var u=o[yB];if(typeof u>"u")throw new R("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new R("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[Kk];if(f&&typeof f=="object"){u=f[Jk];var d=f[Yk];if(f=f[Xk],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new R("argument-error",Yk+" property must be a boolean when specified.");if(this.g=!!d,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new R("argument-error",Xk+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new R("argument-error",Jk+" property must be a non empty string when specified.");if(typeof d<"u"||typeof f<"u")throw new R("missing-android-pkg-name")}}else if(typeof f<"u")throw new R("argument-error",Kk+" property must be a non null object when specified.");if(this.f=null,(u=o[Qk])&&typeof u=="object"){if(u=u[Zk],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new R("argument-error",Zk+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new R("argument-error",Qk+" property must be a non null object when specified.");if(u=o[Xy],typeof u<"u"&&typeof u!="boolean")throw new R("argument-error",Xy+" property must be a boolean when specified.");if(this.c=!!u,o=o[Gk],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new R("argument-error",Gk+" property must be a non empty string when specified.");this.i=o||null}var Kk="android",Gk="dynamicLinkDomain",Xy="handleCodeInApp",Qk="iOS",yB="url",Yk="installApp",Xk="minimumVersion",Jk="packageName",Zk="bundleId";function Pd(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function _B(o){return dd(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var wl=null;function wB(o){var u=[];return EB(o,function(f){u.push(f)}),u}function EB(o,u){function f(M){for(;d<o.length;){var U=o.charAt(d++),oe=wl[U];if(oe!=null)return oe;if(!/^[\s\xa0]*$/.test(U))throw Error("Unknown base64 encoding at char: "+U)}return M}bB();for(var d=0;;){var g=f(-1),_=f(0),E=f(64),k=f(64);if(k===64&&g===-1)break;u(g<<2|_>>4),E!=64&&(u(_<<4&240|E>>2),k!=64&&u(E<<6&192|k))}}function bB(){if(!wl){wl={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),g=0;g<d.length;g++){var _=d[g];wl[_]===void 0&&(wl[_]=g)}}}function Od(o){var u=eC(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Od.prototype.T=function(){return this.f},Od.prototype.l=function(){return this.c},Od.prototype.toString=function(){return this.h};function Dd(o){try{return new Od(o)}catch{return null}}function eC(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=wB(o);for(o=[],f=u=0;u<d.length;){var g=d[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var _=d[u++];o[f++]=String.fromCharCode((g&31)<<6|_&63)}else if(239<g&&365>g){_=d[u++];var E=d[u++],k=d[u++],M=((g&7)<<18|(_&63)<<12|(E&63)<<6|k&63)-65536;o[f++]=String.fromCharCode(55296+(M>>10)),o[f++]=String.fromCharCode(56320+(M&1023))}else _=d[u++],E=d[u++],o[f++]=String.fromCharCode((g&15)<<12|(_&63)<<6|E&63)}return JSON.parse(o.join(""))}catch{}return null}var tC="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ld=["client_id","response_type","scope","redirect_uri","state"],Jy={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Ld},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Ld},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Ld},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:tC},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Zy(o){for(var u in Jy)if(Jy[u].fa==o)return Jy[u];return null}function nC(o){var u={};u["facebook.com"]=iC,u["google.com"]=sC,u["github.com"]=oC,u["twitter.com"]=aC;var f=o&&o[rC];try{if(f)return u[f]?new u[f](o):new hi(o);if(typeof o[e0]<"u")return new t0(o)}catch{}return null}var e0="idToken",rC="providerId";function t0(o){var u=o[rC];if(!u&&o[e0]){var f=Dd(o[e0]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),X(this,"providerId",u),X(this,"isNewUser",f)}function hi(o){t0.call(this,o),o=uu(o.rawUserInfo||"{}"),X(this,"profile",qy(o||{}))}F(hi,t0);function iC(o){if(hi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}F(iC,hi);function oC(o){if(hi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");X(this,"username",this.profile&&this.profile.login||null)}F(oC,hi);function sC(o){if(hi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}F(sC,hi);function aC(o){if(hi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");X(this,"username",o.screenName||null)}F(aC,hi);function uC(o){var u=Fn(o),f=pr(u,"link"),d=pr(Fn(f),"link");return u=pr(u,"deep_link_id"),pr(Fn(u),"link")||u||d||f||o}function Md(o,u){if(!o&&!u)throw new R("internal-error","Internal assert: no raw session string available");if(o&&u)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?El:Fd}var El="enroll",Fd="signin";Md.prototype.Ha=function(){return this.a?te(this.a):te(this.b)},Md.prototype.w=function(){return this.type==El?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function cu(){}cu.prototype.ka=function(){},cu.prototype.b=function(){},cu.prototype.c=function(){},cu.prototype.w=function(){};function lu(o,u){return o.then(function(f){if(f[Vr]){var d=Dd(f[Vr]);if(!d||u!=d.i)throw new R("user-mismatch");return f}throw new R("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Dr+"user-not-found"?new R("user-mismatch"):f})}function Ds(o,u){if(u)this.a=u;else throw new R("internal-error","failed to construct a credential");X(this,"providerId",o),X(this,"signInMethod",o)}Ds.prototype.ka=function(o){return S0(o,n0(this))},Ds.prototype.b=function(o,u){var f=n0(this);return f.idToken=u,k0(o,f)},Ds.prototype.c=function(o,u){return lu(C0(o,n0(this)),u)};function n0(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Ds.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function TB(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Ds(o.providerId,o.pendingToken)}catch{}return null}function ji(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&X(this,"idToken",u.idToken),u.accessToken&&X(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&X(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)X(this,"accessToken",u.oauthToken),X(this,"secret",u.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");X(this,"providerId",o),X(this,"signInMethod",f)}ji.prototype.ka=function(o){return S0(o,r0(this))},ji.prototype.b=function(o,u){var f=r0(this);return f.idToken=u,k0(o,f)},ji.prototype.c=function(o,u){var f=r0(this);return lu(C0(o,f),u)};function r0(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:Ek(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}ji.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function IB(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new ji(o.providerId,u,o.signInMethod)}catch{}}return null}function Ls(o,u){this.Qc=u||[],yn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(Zy(o)||{}).Ja||null,this.pb=null}Ls.prototype.Ka=function(o){return this.Jb=go(o),this};function cC(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');Ls.call(this,o,[])}F(cC,Ls);function Yn(o){Ls.call(this,o,Ld),this.a=[]}F(Yn,Ls),Yn.prototype.Ca=function(o){return Fi(this.a,o)||this.a.push(o),this},Yn.prototype.Rb=function(){return Is(this.a)},Yn.prototype.credential=function(o,u){var f;if(C(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new ji(this.providerId,f,this.providerId)};function Ms(){Yn.call(this,"facebook.com")}F(Ms,Yn),X(Ms,"PROVIDER_ID","facebook.com"),X(Ms,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function lC(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return C(o)&&(u=o.accessToken),new Ms().credential({accessToken:u})}function Fs(){Yn.call(this,"github.com")}F(Fs,Yn),X(Fs,"PROVIDER_ID","github.com"),X(Fs,"GITHUB_SIGN_IN_METHOD","github.com");function fC(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return C(o)&&(u=o.accessToken),new Fs().credential({accessToken:u})}function Us(){Yn.call(this,"google.com"),this.Ca("profile")}F(Us,Yn),X(Us,"PROVIDER_ID","google.com"),X(Us,"GOOGLE_SIGN_IN_METHOD","google.com");function hC(o,u){var f=o;return C(o)&&(f=o.idToken,u=o.accessToken),new Us().credential({idToken:f,accessToken:u})}function fu(){Ls.call(this,"twitter.com",tC)}F(fu,Ls),X(fu,"PROVIDER_ID","twitter.com"),X(fu,"TWITTER_SIGN_IN_METHOD","twitter.com");function dC(o,u){var f=o;if(C(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ji("twitter.com",f,"twitter.com")}function Eo(o,u,f){this.a=o,this.f=u,X(this,"providerId","password"),X(this,"signInMethod",f===vr.EMAIL_LINK_SIGN_IN_METHOD?vr.EMAIL_LINK_SIGN_IN_METHOD:vr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Eo.prototype.ka=function(o){return this.signInMethod==vr.EMAIL_LINK_SIGN_IN_METHOD?_e(o,uV,{email:this.a,oobCode:this.f}):_e(o,VC,{email:this.a,password:this.f})},Eo.prototype.b=function(o,u){return this.signInMethod==vr.EMAIL_LINK_SIGN_IN_METHOD?_e(o,cV,{idToken:u,email:this.a,oobCode:this.f}):_e(o,BC,{idToken:u,email:this.a,password:this.f})},Eo.prototype.c=function(o,u){return lu(this.ka(o),u)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function SB(o){return o&&o.email&&o.password?new Eo(o.email,o.password,o.signInMethod):null}function vr(){yn(this,{providerId:"password",isOAuthProvider:!1})}function pC(o,u){if(u=i0(u),!u)throw new R("argument-error","Invalid email link!");return new Eo(o,u.code,vr.EMAIL_LINK_SIGN_IN_METHOD)}function i0(o){return o=uC(o),(o=Wk(o))&&o.operation===Rd?o:null}yn(vr,{PROVIDER_ID:"password"}),yn(vr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),yn(vr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function bo(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new R("internal-error");this.a=o,X(this,"providerId","phone"),this.fa="phone",X(this,"signInMethod","phone")}bo.prototype.ka=function(o){return o.gb(bl(this))},bo.prototype.b=function(o,u){var f=bl(this);return f.idToken=u,_e(o,AV,f)},bo.prototype.c=function(o,u){var f=bl(this);return f.operation="REAUTH",o=_e(o,RV,f),lu(o,u)},bo.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function kB(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Xe(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new bo(u)}return null}function bl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Bi(o){try{this.a=o||J.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}yn(this,{providerId:"phone",isOAuthProvider:!1})}Bi.prototype.gb=function(o,u){var f=this.a.a;return te(u.verify()).then(function(d){if(typeof d!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=C(o)?o.session:null,_=C(o)?o.phoneNumber:o,E;return g&&g.type==El?E=g.Ha().then(function(k){return ZB(f,{idToken:k,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:d}})}):g&&g.type==Fd?E=g.Ha().then(function(k){return eV(f,{mfaPendingCredential:k,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):E=JB(f,{phoneNumber:_,recaptchaToken:d}),E.then(function(k){return typeof u.reset=="function"&&u.reset(),k},function(k){throw typeof u.reset=="function"&&u.reset(),k});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function vC(o,u){if(!o)throw new R("missing-verification-id");if(!u)throw new R("missing-verification-code");return new bo({fb:o,eb:u})}yn(Bi,{PROVIDER_ID:"phone"}),yn(Bi,{PHONE_SIGN_IN_METHOD:"phone"});function o0(o){if(o.temporaryProof&&o.phoneNumber)return new bo({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,g=o&&o.nonce,_=o&&o.oauthIdToken,E=o&&o.pendingToken;try{switch(u){case"google.com":return hC(_,f);case"facebook.com":return lC(f);case"github.com":return fC(f);case"twitter.com":return dC(f,d);default:return f||d||_||E?E?u.indexOf("saml.")==0?new Ds(u,E):new ji(u,{pendingToken:E,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Yn(u).credential({idToken:_,accessToken:f,rawNonce:g}):null}}catch{return null}}function s0(o){if(!o.isOAuthProvider)throw new R("invalid-oauth-provider")}function jr(o,u,f,d,g,_,E){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=_||null,this.h=E||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}jr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},jr.prototype.T=function(){return this.h},jr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function gC(o){return o=o||{},o.type?new jr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&Vt(o.error),o.postBody,o.tenantId):null}function CB(){this.b=null,this.a=[]}var a0=null;function NB(o){var u=a0;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=Ke("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function u0(o){var u="unauthorized-domain",f=void 0,d=Fn(o);o=d.a,d=d.c,d=="chrome-extension"?f=BS("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=BS("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",R.call(this,u,f)}F(u0,R);function Tl(o,u,f){R.call(this,o,f),o=u||{},o.Kb&&X(this,"email",o.Kb),o.ea&&X(this,"phoneNumber",o.ea),o.credential&&X(this,"credential",o.credential),o.$b&&X(this,"tenantId",o.$b)}F(Tl,R),Tl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Dn(o,u),o},Tl.prototype.toJSON=function(){return this.w()};function Ud(o){if(o.code){var u=o.code||"";u.indexOf(Dr)==0&&(u=u.substring(Dr.length));var f={credential:o0(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new R(u,o.message||void 0);return new Tl(u,f,o.message)}return null}function Il(){}Il.prototype.c=null;function mC(o){return o.c||(o.c=o.b())}var c0;function jd(){}F(jd,Il),jd.prototype.a=function(){var o=yC(this);return o?new ActiveXObject(o):new XMLHttpRequest},jd.prototype.b=function(){var o={};return yC(this)&&(o[0]=!0,o[1]=!0),o};function yC(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}c0=new jd;function Bd(){}F(Bd,Il),Bd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new _C;throw Error("Unsupported browser")},Bd.prototype.b=function(){return{}};function _C(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=P(this.qc,this),this.a.onerror=P(this.Tb,this),this.a.onprogress=P(this.rc,this),this.a.ontimeout=P(this.vc,this)}e=_C.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,l0(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",l0(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,l0(this,1)};function l0(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function f0(o,u,f){this.reset(o,u,f,void 0,void 0)}f0.prototype.a=null,f0.prototype.reset=function(o,u,f,d,g){delete this.a};function h0(o){this.f=o,this.b=this.c=this.a=null}function Sl(o,u){this.name=o,this.value=u}Sl.prototype.toString=function(){return this.name};var wC=new Sl("SEVERE",1e3),d0=new Sl("WARNING",900),AB=new Sl("CONFIG",700),RB=new Sl("FINE",500);function EC(o){return o.c?o.c:o.a?EC(o.a):(ae("Root logger has no level set."),null)}h0.prototype.log=function(o,u,f){if(o.value>=EC(this).value)for(I(u)&&(u=u()),o=new f0(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var p0={},Vd=null;function v0(o){Vd||(Vd=new h0(""),p0[""]=Vd,Vd.c=AB);var u;if(!(u=p0[o])){u=new h0(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=v0(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,p0[o]=u}return u}function gr(o,u){o&&o.log(RB,u,void 0)}function $d(o){this.f=o}F($d,Il),$d.prototype.a=function(){return new qd(this.f)},$d.prototype.b=function(o){return function(){return o}}({});function qd(o){mn.call(this),this.u=o,this.h=void 0,this.readyState=g0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=v0("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}F(qd,mn);var g0=0;e=qd.prototype,e.open=function(o,u){if(this.readyState!=g0)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Cl(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,kl(this)),this.readyState=g0},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Cl(this)),this.a&&(this.readyState=3,Cl(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof l.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,bC(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function bC(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?kl(this):Cl(this),this.readyState==3&&bC(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,kl(this))},e.sc=function(o){this.a&&(this.response=o,kl(this))},e.Va=function(o){var u=this.i;u&&u.log(d0,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&kl(this)};function kl(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Cl(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(d0,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(d0,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Cl(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(qd.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Nl(o){mn.call(this),this.headers=new ru,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=TC,this.u=this.S=!1}F(Nl,mn);var TC="";Nl.prototype.b=v0("goog.net.XhrIo");var xB=/^https?$/i,PB=["POST","PUT"];function OB(o,u,f,d,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():c0.a(),o.C=o.D?mC(o.D):mC(c0),o.a.onreadystatechange=P(o.Wb,o);try{gr(o.b,Vi(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(E){gr(o.b,Vi(o,"Error opening Xhr: "+E.message)),IC(o,E);return}u=d||"";var _=new ru(o.headers);g&&jj(g,function(E,k){_.set(k,E)}),g=nj(_.Y()),d=l.FormData&&u instanceof l.FormData,!Fi(PB,f)||g||d||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(E,k){this.a.setRequestHeader(k,E)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{CC(o),0<o.g&&(o.u=DB(o.a),gr(o.b,Vi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=P(o.Ma,o)):o.s=Ay(o.Ma,o.g,o)),gr(o.b,Vi(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(E){gr(o.b,Vi(o,"Send error: "+E.message)),IC(o,E)}}function DB(o){return Fr&&zS(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function LB(o){return o.toLowerCase()=="content-type"}e=Nl.prototype,e.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",gr(this.b,Vi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function IC(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,SC(o),zd(o)}function SC(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(gr(this.b,Vi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),zd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),zd(this,!0)),Nl.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?kC(this):this.Jc())},e.Jc=function(){kC(this)};function kC(o){if(o.c&&typeof c<"u"){if(o.C[1]&&Al(o)==4&&Hd(o)==2)gr(o.b,Vi(o,"Local request error detected and ignored"));else if(o.i&&Al(o)==4)Ay(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),Al(o)==4){gr(o.b,Vi(o,"Request complete")),o.c=!1;try{var u=Hd(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var g;if(g=u===0){var _=String(o.l).match(_k)[1]||null;if(!_&&l.self&&l.self.location){var E=l.self.location.protocol;_=E.substr(0,E.length-1)}g=!xB.test(_?_.toLowerCase():"")}d=g}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var k=2<Al(o)?o.a.statusText:""}catch(M){gr(o.b,"Can not get status: "+M.message),k=""}o.h=k+" ["+Hd(o)+"]",SC(o)}}finally{zd(o)}}}}function zd(o,u){if(o.a){CC(o);var f=o.a,d=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(g){(o=o.b)&&o.log(wC,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function CC(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function Al(o){return o.a?o.a.readyState:0}function Hd(o){try{return 2<Al(o)?o.a.status:-1}catch{return-1}}function MB(o){try{return o.a?o.a.responseText:""}catch(u){return gr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case TC:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(wC,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return gr(this.b,"Can not get response: "+u.message),null}};function Vi(o,u){return u+" ["+o.P+" "+o.l+" "+Hd(o)+"]"}function js(o){var u=jB;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}js.prototype.cancel=function(o){if(this.a)this.c instanceof js&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new xl,Wd(this),Rl(this,!1,o))}},js.prototype.m=function(o,u){this.i=!1,Rl(this,o,u)};function Rl(o,u,f){o.a=!0,o.c=f,o.f=!u,AC(o)}function Wd(o){if(o.a){if(!o.v)throw new Kd;o.v=!1}}function FB(o,u){m0(o,null,u,void 0)}function m0(o,u,f,d){o.g.push([u,f,d]),o.a&&AC(o)}js.prototype.then=function(o,u,f){var d,g,_=new ye(function(E,k){d=E,g=k});return m0(this,d,function(E){E instanceof xl?_.cancel():g(E)}),_.then(o,u,f)},js.prototype.$goog_Thenable=!0;function NC(o){return tj(o.g,function(u){return I(u[1])})}function AC(o){if(o.h&&o.a&&NC(o)){var u=o.h,f=Gd[u];f&&(l.clearTimeout(f.a),delete Gd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),_=g[0],E=g[1];if(g=g[2],_=o.f?E:_)try{var k=_.call(g||o.s,u);k!==void 0&&(o.f=o.f&&(k==u||k instanceof Error),o.c=u=k),(Xa(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(d=!0,o.i=!0)}catch(M){u=M,o.f=!0,NC(o)||(f=!0)}}o.c=u,d&&(k=P(o.m,o,!0),d=P(o.m,o,!1),u instanceof js?(m0(u,k,d),u.C=!0):u.then(k,d)),f&&(u=new RC(u),Gd[u.a]=u,o.h=u.a)}function Kd(){H.call(this)}F(Kd,H),Kd.prototype.message="Deferred has already fired",Kd.prototype.name="AlreadyCalledError";function xl(){H.call(this)}F(xl,H),xl.prototype.message="Deferred was canceled",xl.prototype.name="CanceledError";function RC(o){this.a=l.setTimeout(P(this.c,this),0),this.b=o}RC.prototype.c=function(){throw delete Gd[this.a],this.b};var Gd={};function y0(o){var u={},f=u.document||document,d=PS(o).toString(),g=_d(document,"SCRIPT"),_={Xb:g,Ma:void 0},E=new js(_),k=null,M=u.timeout!=null?u.timeout:5e3;return 0<M&&(k=window.setTimeout(function(){Qd(g,!0);var U=new _0(VB,"Timeout reached for loading script "+d);Wd(E),Rl(E,!1,U)},M),_.Ma=k),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(Qd(g,u.xd||!1,k),Wd(E),Rl(E,!0,null))},g.onerror=function(){Qd(g,!0,k);var U=new _0(BB,"Error while loading script "+d);Wd(E),Rl(E,!1,U)},_=u.attributes||{},Dn(_,{type:"text/javascript",charset:"UTF-8"}),WS(g,_),gj(g,o),UB(f).appendChild(g),E}function UB(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function jB(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Qd(o,!0,this.Ma)}}function Qd(o,u,f){f!=null&&l.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var BB=0,VB=1;function _0(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),H.call(this,f),this.code=o}F(_0,H);function Yd(o){this.f=o}F(Yd,Il),Yd.prototype.a=function(){return new this.f},Yd.prototype.b=function(){return{}};function Br(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||$B,this.g=go(o.secureTokenHeaders||qB),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||zB,this.a=go(o.firebaseHeaders||HB),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=li()=="Node",f=l.XMLHttpRequest||f&&J.INTERNAL.node&&J.INTERNAL.node.XMLHttpRequest,!f&&!Ur())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Ur()?this.f=new $d(self):xk()?this.f=new Yd(f):this.f=new Bd,this.b=null}var w0,Vr="idToken",$B=new wo(3e4,6e4),qB={"Content-Type":"application/x-www-form-urlencoded"},zB=new wo(3e4,6e4),HB={"Content-Type":"application/json"};function xC(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function Xd(o,u){u&&(o.l=E0("https://securetoken.googleapis.com/v1/token",u),o.h=E0("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=E0("https://identitytoolkit.googleapis.com/v2/",u))}function E0(o,u){return o=Fn(o),u=Fn(u.url),o.f=o.a+o.f,ll(o,u.c),o.a=u.a,fl(o,u.g),o.toString()}function PC(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Br.prototype.T=function(){return this.b};function OC(o,u,f,d,g,_,E){Qj()||Ur()?o=P(o.u,o):(w0||(w0=new ye(function(k,M){KB(k,M)})),o=P(o.s,o)),o(u,f,d,g,_,E)}Br.prototype.u=function(o,u,f,d,g,_){if(Ur()&&(typeof l.fetch>"u"||typeof l.Headers>"u"||typeof l.Request>"u"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new Nl(this.f);if(_){E.g=Math.max(0,_);var k=setTimeout(function(){E.dispatchEvent("timeout")},_)}gk(E,"complete",function(){k&&clearTimeout(k);var M=null;try{M=JSON.parse(MB(this))||null}catch{M=null}u&&u(M)}),Ny(E,"ready",function(){k&&clearTimeout(k),ck(this)}),Ny(E,"timeout",function(){k&&clearTimeout(k),ck(this),u&&u(null)}),OB(E,o,f,d,g)};var WB=new ui(vd,"https://apis.google.com/js/client.js?onload=%{onload}"),DC="__fcb"+Math.floor(1e6*Math.random()).toString();function KB(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[DC]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=ly(WB,{onload:DC});FB(y0(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Br.prototype.s=function(o,u,f,d,g){var _=this;w0.then(function(){window.gapi.client.setApiKey(_.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:g,authType:"none",callback:function(k){window.gapi.auth.setToken(E),u&&u(k)}})}).o(function(E){u&&u({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function GB(o,u){return new ye(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?OC(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?d(A0(g)):g.access_token&&g.refresh_token?f(g):d(new R("internal-error")):d(new R("network-request-failed"))},"POST",Ek(u).toString(),o.g,o.m.get()):d(new R("internal-error"))})}function LC(o,u,f,d,g,_,E){var k=Fn(u+f);ut(k,"key",o.c),E&&ut(k,"cb",Date.now().toString());var M=d=="GET";if(M)for(var U in g)g.hasOwnProperty(U)&&ut(k,U,g[U]);return new ye(function(oe,Oe){OC(o,k.toString(),function(Ne){Ne?Ne.error?Oe(A0(Ne,_||{})):oe(Ne):Oe(new R("network-request-failed"))},d,M?void 0:Ik(Dk(g)),o.a,o.v.get())})}function Bs(o){if(o=o.email,typeof o!="string"||!Jj.test(o))throw new R("invalid-email")}function MC(o){"email"in o&&Bs(o)}function QB(o,u){return _e(o,oV,{identifier:u,continueUri:Ad()?pl():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function YB(o){return _e(o,mV,{}).then(function(u){return u.authorizedDomains||[]})}function Un(o){if(!o[Vr])throw o.mfaPendingCredential?new R("multi-factor-auth-required",null,go(o)):new R("internal-error")}function b0(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new R("internal-error")}else{if(!o.sessionInfo)throw new R("missing-verification-id");if(!o.code)throw new R("missing-verification-code")}}Br.prototype.Ab=function(){return _e(this,EV,{})},Br.prototype.Cb=function(o,u){return _e(this,jC,{idToken:o,email:u})},Br.prototype.Db=function(o,u){return _e(this,BC,{idToken:o,password:u})};var XB={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Br.prototype,e.Eb=function(o,u){var f={idToken:o},d=[];return CS(XB,function(g,_){var E=u[_];E===null?d.push(g):_ in u&&(f[_]=E)}),d.length&&(f.deleteAttribute=d),_e(this,jC,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Dn(o,u),_e(this,gV,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Dn(o,u),_e(this,dV,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Dn(o,u),_e(this,pV,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Dn(o,f),_e(this,vV,o)};function JB(o,u){return _e(o,wV,u)}e.gb=function(o){return _e(this,NV,o)};function ZB(o,u){return _e(o,bV,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function FC(o){if(!o.phoneVerificationInfo)throw new R("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new R("missing-verification-code")}function eV(o,u){return _e(o,TV,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function tV(o,u,f){return _e(o,aV,{idToken:u,deleteProvider:f})}function T0(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new R("internal-error")}function I0(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Rs(o.postBody),Py(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function UC(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Ud(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Ud(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Ud(o)):o.errorMessage&&(u=$C(o.errorMessage)),u)throw u;Un(o)}function S0(o,u){return u.returnIdpCredential=!0,_e(o,IV,u)}function k0(o,u){return u.returnIdpCredential=!0,_e(o,kV,u)}function C0(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,_e(o,SV,u)}function N0(o){if(!o.oobCode)throw new R("invalid-action-code")}e.ob=function(o,u){return _e(this,_V,{oobCode:o,newPassword:u})},e.Sa=function(o){return _e(this,rV,{oobCode:o})},e.kb=function(o){return _e(this,nV,{oobCode:o})};var nV={endpoint:"setAccountInfo",A:N0,Z:"email",B:!0},rV={endpoint:"resetPassword",A:N0,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},iV={endpoint:"signupNewUser",A:function(o){if(Bs(o),!o.password)throw new R("weak-password")},G:Un,V:!0,B:!0},oV={endpoint:"createAuthUri",B:!0},sV={endpoint:"deleteAccount",O:["idToken"]},aV={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new R("internal-error")}},uV={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Bs,G:Un,V:!0,B:!0},cV={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Bs,G:Un,V:!0},lV={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:FC,G:Un,B:!0,Na:!0},fV={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:FC,G:Un,B:!0,Na:!0},hV={endpoint:"getAccountInfo"},dV={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new R("internal-error");Bs(o)},Z:"email",B:!0},pV={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},vV={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},gV={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new R("internal-error");Bs(o)},Z:"email",B:!0},mV={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},yV={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new R("internal-error")}},_V={endpoint:"resetPassword",A:N0,Z:"email",B:!0},wV={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},jC={endpoint:"setAccountInfo",O:["idToken"],A:MC,V:!0},BC={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(MC(o),!o.password)throw new R("weak-password")},G:Un,V:!0},EV={endpoint:"signupNewUser",G:Un,V:!0,B:!0},bV={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new R("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},TV={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},IV={endpoint:"verifyAssertion",A:T0,Za:I0,G:UC,V:!0,B:!0},SV={endpoint:"verifyAssertion",A:T0,Za:I0,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(o.errorMessage)throw $C(o.errorMessage);Un(o)},V:!0,B:!0},kV={endpoint:"verifyAssertion",A:function(o){if(T0(o),!o.idToken)throw new R("internal-error")},Za:I0,G:UC,V:!0},CV={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new R("invalid-custom-token")},G:Un,V:!0,B:!0},VC={endpoint:"verifyPassword",A:function(o){if(Bs(o),!o.password)throw new R("wrong-password")},G:Un,V:!0,B:!0},NV={endpoint:"verifyPhoneNumber",A:b0,G:Un,B:!0},AV={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new R("internal-error");b0(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Ud(o);Un(o)}},RV={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:b0,G:Un,B:!0},xV={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Vr]^!!o.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function _e(o,u,f){if(!oB(f,u.O))return We(new R("internal-error"));var d=!!u.Na,g=u.Vb||"POST",_;return te(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),d?LC(o,o.i,u.endpoint,g,f,u.Ib,u.mb||!1):LC(o,o.h,u.endpoint,g,f,u.Ib,u.mb||!1)}).then(function(E){return _=E,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new R("internal-error");return _[u.Z]})}function $C(o){return A0({error:{errors:[{message:o}],code:400,message:o}})}function A0(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new R(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Dn(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in d)if(f.indexOf(g)===0)return new R(d[g],u);return!u&&o&&(u=gl(o)),new R("internal-error",u)}function PV(o){this.b=o,this.a=null,this.sb=OV(this)}function OV(o){return jV().then(function(){return new ye(function(u,f){Ke("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Ke("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function g(){clearTimeout(_),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},UV.get());d.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function DV(o,u){return o.sb.then(function(){return new ye(function(f){o.a.send(u.type,u,f,Ke("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function LV(o,u){o.sb.then(function(){o.a.register("authEvent",u,Ke("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var MV=new ui(vd,"https://apis.google.com/js/api.js?onload=%{onload}"),FV=new wo(3e4,6e4),UV=new wo(5e3,15e3),Jd=null;function jV(){return Jd||(Jd=new ye(function(o,u){function f(){Mk(),Ke("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){Mk(),u(Error("Network Error"))},timeout:FV.get()})}if(Ke("gapi.iframes.Iframe"))o();else if(Ke("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[d]=function(){Ke("gapi.load")?f():u(Error("Network Error"))},d=ly(MV,{onload:d}),te(y0(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Jd=null,o}))}function qC(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=Fn(this.g.url),o=Cd(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Cd("https",this.l,null,"/__/auth/iframe"),this.a=o,ut(this.a,"apiKey",this.h),ut(this.a,"appName",this.i),this.b=null,this.c=[]}qC.prototype.toString=function(){return this.f?ut(this.a,"v",this.f):ci(this.a.b,"v"),this.b?ut(this.a,"eid",this.b):ci(this.a.b,"eid"),this.c.length?ut(this.a,"fw",this.c.join(",")):ci(this.a.b,"fw"),this.a.toString()};function R0(o,u,f,d,g,_){this.u=o,this.s=u,this.c=f,this.m=d,this.v=_,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}R0.prototype.zb=function(o){return this.h=o,this},R0.prototype.toString=function(){if(this.v){var o=Fn(this.v.url);o=Cd(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Cd("https",this.u,null,"/__/auth/handler");if(ut(o,"apiKey",this.s),ut(o,"appName",this.c),ut(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=J.app(this.c).auth().la()}catch{f=null}u.pb=f,ut(o,"providerId",this.a.providerId),f=this.a,u=Dk(f.Jb);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=go(u);for(var g=0;g<d.length;g++){var _=d[g];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),Ss(u)||ut(o,"customParameters",gl(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&ut(o,"scopes",f.join(","))),this.l?ut(o,"redirectUrl",this.l):ci(o.b,"redirectUrl"),this.g?ut(o,"eventId",this.g):ci(o.b,"eventId"),this.i?ut(o,"v",this.i):ci(o.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!pr(o,E)&&ut(o,E,this.b[E]);return this.h?ut(o,"tid",this.h):ci(o.b,"tid"),this.f?ut(o,"eid",this.f):ci(o.b,"eid"),E=x0(this.c),E.length&&ut(o,"fw",E.join(",")),o.toString()};function x0(o){try{return J.app(o).auth().Ga()}catch{return[]}}function zC(o,u,f,d,g,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=d||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function HC(o){var u=pl();return YB(o).then(function(f){e:{var d=Fn(u),g=d.c;d=d.a;for(var _=0;_<f.length;_++){var E=f[_],k=d,M=g;if(E.indexOf("chrome-extension://")==0?k=Fn(E).a==k&&M=="chrome-extension":M!="http"&&M!="https"?k=!1:Xj.test(E)?k=k==E:(E=E.split(".").join("\\."),k=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(k)),k){f=!0;break e}}f=!1}if(!f)throw new u0(pl())})}function WC(o){return o.m||(o.m=Nd().then(function(){if(!o.u){var u=o.c,f=o.i,d=x0(o.b),g=new qC(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=Is(d||[]),o.u=g.toString()}o.v=new PV(o.u),BV(o)})),o.m}e=zC.prototype,e.Pb=function(o,u,f){var d=new R("popup-closed-by-user"),g=new R("web-storage-unsupported"),_=this,E=!1;return this.ma().then(function(){VV(_).then(function(k){k||(o&&xs(o),u(g),E=!0)})}).o(function(){}).then(function(){if(!E)return Yj(o)}).then(function(){if(!E)return nu(f).then(function(){u(d)})})},e.Yb=function(){var o=$t();return!vl(o)&&!Lk(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,d,g,_,E,k){if(!o)return We(new R("popup-blocked"));if(E&&!vl())return this.ma().o(function(U){xs(o),g(U)}),d(),te();this.a||(this.a=HC(KC(this)));var M=this;return this.a.then(function(){var U=M.ma().o(function(oe){throw xs(o),g(oe),oe});return d(),U}).then(function(){if(s0(f),!E){var U=Pl(M.s,M.g,M.b,u,f,null,_,M.c,void 0,M.i,k,M.f);Ck(U,o)}}).o(function(U){throw U.code=="auth/network-request-failed"&&(M.a=null),U})};function KC(o){return o.l||(o.C=o.c?su(o.c,x0(o.b)):null,o.l=new Br(o.g,Es(o.i),o.C),o.f&&Xd(o.l,o.f)),o.l}e.Ob=function(o,u,f,d){this.a||(this.a=HC(KC(this)));var g=this;return this.a.then(function(){s0(u);var _=Pl(g.s,g.g,g.b,o,u,pl(),f,g.c,void 0,g.i,d,g.f);Ck(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(g.a=null),_})},e.ma=function(){var o=this;return WC(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new R("network-request-failed")})},e.ac=function(){return!0};function Pl(o,u,f,d,g,_,E,k,M,U,oe,Oe){return o=new R0(o,u,f,d,g,Oe),o.l=_,o.g=E,o.i=k,o.b=go(M||null),o.f=U,o.zb(oe).toString()}function BV(o){if(!o.v)throw Error("IfcHandler must be initialized!");LV(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=gC(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",te(f)}return f.status="ERROR",te(f)})}function VV(o){var u={type:"webStorageSupport"};return WC(o).then(function(){return DV(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){Mr(this.h,function(u){return u==o})};function GC(o){if(this.a=o||J.INTERNAL.reactNative&&J.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=GC.prototype,e.get=function(o){return te(this.a.getItem(o)).then(function(u){return u&&uu(u)})},e.set=function(o,u){return te(this.a.setItem(o,gl(u)))},e.U=function(o){return te(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function QC(o){this.b=o,this.a={},this.f=P(this.c,this)}var YC=[];function $V(){var o=Ur()?self:null;if(Xe(YC,function(f){f.b==o&&(u=f)}),!u){var u=new QC(o);YC.push(u)}return u}QC.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];Xe(d,function(_){g.push(te().then(function(){return _(o.origin,o.data.data)}))}),ek(g).then(function(_){var E=[];Xe(_,function(k){E.push({fulfilled:k.Qb,value:k.value,reason:k.reason?k.reason.message:void 0})}),Xe(E,function(k){for(var M in k)typeof k[M]>"u"&&delete k[M]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:E})})}};function XC(o,u,f){Ss(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function JC(o){this.a=o}JC.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function ZC(o){this.c=o,this.b=!1,this.a=[]}function eN(o,u,f,d){var g,_=f||{},E,k,M,U=null;if(o.b)return We(Error("connection_unavailable"));var oe=d?800:50,Oe=typeof MessageChannel<"u"?new MessageChannel:null;return new ye(function(Ne,Rt){Oe?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),Oe.port1.start(),k=setTimeout(function(){Rt(Error("unsupported_event"))},oe),E=function($i){$i.data.eventId===g&&($i.data.status==="ack"?(clearTimeout(k),M=setTimeout(function(){Rt(Error("timeout"))},3e3)):$i.data.status==="done"?(clearTimeout(M),typeof $i.data.response<"u"?Ne($i.data.response):Rt(Error("unknown_error"))):(clearTimeout(k),clearTimeout(M),Rt(Error("invalid_response"))))},U={messageChannel:Oe,onMessage:E},o.a.push(U),Oe.port1.addEventListener("message",E),o.c.postMessage({eventType:u,eventId:g,data:_},[Oe.port2])):Rt(Error("connection_unavailable"))}).then(function(Ne){return P0(o,U),Ne}).o(function(Ne){throw P0(o,U),Ne})}function P0(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),Mr(o.a,function(g){return g==u})}}ZC.prototype.close=function(){for(;0<this.a.length;)P0(this,this.a[0]);this.b=!0};function tN(){if(!L0())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Ur()&&self?(this.v=$V(),XC(this.v,"keyChanged",function(u,f){return iN(o).then(function(d){return 0<d.length&&Xe(o.a,function(g){g(d)}),{keyProcessed:Fi(d,f.key)}})}),XC(this.v,"ping",function(){return te(["keyChanged"])})):rB().then(function(u){(o.h=u)&&(o.g=new ZC(new JC(u)),eN(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&Fi(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var O0;function qV(o){return new ye(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(g){f(Error(g.target.error))}})}function nN(o){return new ye(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},d.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},d.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):qV(o).then(function(){return nN(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function D0(o){return o.i||(o.i=nN(o)),o.i}function Zd(o,u){function f(g,_){D0(o).then(u).then(g).o(function(E){if(3<++d)_(E);else return D0(o).then(function(k){return k.close(),o.i=void 0,f(g,_)}).o(function(k){_(k)})})}var d=0;return new ye(f)}function L0(){try{return!!l.indexedDB}catch{return!1}}function Ol(o){return o.objectStore("firebaseLocalStorage")}function Dl(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function hu(o){return new ye(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}e=tN.prototype,e.set=function(o,u){var f=this,d=!1;return Zd(this,function(g){return g=Ol(Dl(g,!0)),hu(g.get(o))}).then(function(g){return Zd(f,function(_){if(_=Ol(Dl(_,!0)),g)return g.value=u,hu(_.put(g));f.b++,d=!0;var E={};return E.fbase_key=o,E.value=u,hu(_.add(E))})}).then(function(){return f.c[o]=u,rN(f,o)}).oa(function(){d&&f.b--})};function rN(o,u){return o.g&&o.h&&nB()===o.h?eN(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):te()}e.get=function(o){return Zd(this,function(u){return hu(Ol(Dl(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return Zd(this,function(d){return f=!0,u.b++,hu(Ol(Dl(d,!0)).delete(o))}).then(function(){return delete u.c[o],rN(u,o)}).oa(function(){f&&u.b--})};function iN(o){return D0(o).then(function(u){var f=Ol(Dl(u,!1));return f.getAll?hu(f.getAll()):new ye(function(d,g){var _=[],E=f.openCursor();E.onsuccess=function(k){(k=k.target.result)?(_.push(k.value),k.continue()):d(_)},E.onerror=function(k){g(k.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=Nk(o.c,f),o.c=f}return d})}e.ca=function(o){this.a.length==0&&zV(this),this.a.push(o)},e.ia=function(o){Mr(this.a,function(u){return u==o}),this.a.length==0&&oN(this)};function zV(o){function u(){o.f=setTimeout(function(){o.l=iN(o).then(function(f){0<f.length&&Xe(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}oN(o),u()}function oN(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function sN(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=te().then(function(){if(L0()){var d=Os(),g="__sak"+d;return O0||(O0=new tN),f=O0,f.set(g,d).then(function(){return f.get(g)}).then(function(_){if(_!==d)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(g){Xe(u.a,function(_){_(g)})}),d})}e=sN.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){Mr(this.a,function(u){return u==o})};function Ll(){this.a={},this.type="inMemory"}e=Ll.prototype,e.get=function(o){return te(this.a[o])},e.set=function(o,u){return this.a[o]=u,te()},e.U=function(o){return delete this.a[o],te()},e.ca=function(){},e.ia=function(){};function ep(){if(!HV())throw li()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=aN()||J.INTERNAL.node.localStorage,this.type="localStorage"}function aN(){try{var o=l.localStorage,u=Os();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function HV(){var o=li()=="Node";if(o=aN()||o&&J.INTERNAL.node&&J.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=ep.prototype,e.get=function(o){var u=this;return te().then(function(){var f=u.a.getItem(o);return uu(f)})},e.set=function(o,u){var f=this;return te().then(function(){var d=gl(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return te().then(function(){u.a.removeItem(o)})},e.ca=function(o){l.window&&dr(l.window,"storage",o)},e.ia=function(o){l.window&&Qn(l.window,"storage",o)};function M0(){this.type="nullStorage"}e=M0.prototype,e.get=function(){return te(null)},e.set=function(){return te()},e.U=function(){return te()},e.ca=function(){},e.ia=function(){};function F0(){if(!WV())throw li()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=uN()||J.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function uN(){try{var o=l.sessionStorage,u=Os();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function WV(){var o=li()=="Node";if(o=uN()||o&&J.INTERNAL.node&&J.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=F0.prototype,e.get=function(o){var u=this;return te().then(function(){var f=u.a.getItem(o);return uu(f)})},e.set=function(o,u){var f=this;return te().then(function(){var d=gl(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return te().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function KV(){var o={};o.Browser=GV,o.Node=QV,o.ReactNative=YV,o.Worker=XV,this.a=o[li()]}var U0,GV={F:ep,cb:F0},QV={F:ep,cb:F0},YV={F:GC,cb:M0},XV={F:ep,cb:M0},du={rd:"local",NONE:"none",td:"session"};function JV(o){var u=new R("invalid-persistence-type"),f=new R("unsupported-persistence-type");e:{for(d in du)if(du[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(li()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!L0()&&o!=="none")throw f;break;default:if(!Uy()&&o!=="none")throw f}}function cN(){var o=!!(!Lk($t())&&My()),u=vl(),f=Uy();this.m=o,this.h=u,this.l=f,this.a={},U0||(U0=new KV),o=U0;try{this.g=!Dy()&&Fk()||!l.indexedDB?new o.a.F:new sN(Ur()?new Ll:new o.a.F)}catch{this.g=new Ll,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new Ll}this.v=new Ll,this.f=P(this.Zb,this),this.b={}}var j0;function Ml(){return j0||(j0=new cN),j0}function Vs(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function pu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function ZV(o,u,f){var d=pu(u,f),g=Vs(o,u.F);return o.get(u,f).then(function(_){var E=null;try{E=uu(l.localStorage.getItem(d))}catch{}if(E&&!_)return l.localStorage.removeItem(d),o.set(u,E,f);E&&_&&g.type!="localStorage"&&l.localStorage.removeItem(d)})}e=cN.prototype,e.get=function(o,u){return Vs(this,o.F).get(pu(o,u))};function vu(o,u,f){return f=pu(u,f),u.F=="local"&&(o.b[f]=null),Vs(o,u.F).U(f)}e.set=function(o,u,f){var d=pu(o,f),g=this,_=Vs(this,o.F);return _.set(d,u).then(function(){return _.get(d)}).then(function(E){o.F=="local"&&(g.b[d]=E)})},e.addListener=function(o,u,f){o=pu(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),Ss(this.a)&&(Vs(this,"local").ca(this.f),this.h||(Dy()||!Fk())&&l.indexedDB||!this.l||e$(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=pu(o,u),this.a[o]&&(Mr(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),Ss(this.a)&&(Vs(this,"local").ia(this.f),B0(this))};function e$(o){B0(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new Ns({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Zb(f))}},1e3)}function B0(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d>"u"&&(d=null);var g=l.localStorage.getItem(f);g!==d&&(this.b[f]=g,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Vs(this,"local").ia(this.f):B0(this),this.m){if(f=l.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?l.localStorage.setItem(u,d):l.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==l.localStorage.getItem(u))&&(_.b[u]=l.localStorage.getItem(u),_.nb(u))},Fr&&mo&&mo==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Xe(o,P(this.nb,this))},e.nb=function(o){this.a[o]&&Xe(this.a[o],function(u){u()})};function t$(o){this.a=o,this.b=Ml()}var V0={name:"authEvent",F:"local"};function n$(o){return o.b.get(V0,o.a).then(function(u){return gC(u)})}function r$(){this.a=Ml()}function i$(){this.b=-1}function tp(o,u){this.b=lN,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),np===void 0&&(l.Int32Array?np=new Int32Array(dN):np=dN),this.reset()}var np;F(tp,i$);for(var lN=64,o$=lN-1,fN=[],$0=0;$0<o$;$0++)fN[$0]=0;var hN=ay(128,fN);tp.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):Is(this.h)};function q0(o){for(var u=o.f,f=o.l,d=0,g=0;g<u.length;)f[d++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*d;for(u=16;64>u;u++){g=f[u-15]|0,d=f[u-2]|0;var _=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,E=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=_+E|0}d=o.a[0]|0,g=o.a[1]|0;var k=o.a[2]|0,M=o.a[3]|0,U=o.a[4]|0,oe=o.a[5]|0,Oe=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Ne=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&g^d&k^g&k)|0;E=U&oe^~U&Oe,_=_+((U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))|0,E=E+(np[u]|0)|0,E=_+(E+(f[u]|0)|0)|0,_=Oe,Oe=oe,oe=U,U=M+E|0,M=k,k=g,g=d,d=E+Ne|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+k|0,o.a[3]=o.a[3]+M|0,o.a[4]=o.a[4]+U|0,o.a[5]=o.a[5]+oe|0,o.a[6]=o.a[6]+Oe|0,o.a[7]=o.a[7]+_|0}function z0(o,u,f){f===void 0&&(f=u.length);var d=0,g=o.c;if(typeof u=="string")for(;d<f;)o.f[g++]=u.charCodeAt(d++),g==o.b&&(q0(o),g=0);else if(w(u))for(;d<f;){var _=u[d++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[g++]=_,g==o.b&&(q0(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var dN=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pN(){tp.call(this,8,s$)}F(pN,tp);var s$=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vN(o,u,f,d,g,_){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=g||null,this.s=_,this.h=u+":"+f,this.C=new r$,this.g=new t$(this.h),this.f=null,this.b=[],this.a=this.c=null}function rp(o){return new R("invalid-cordova-configuration",o)}e=vN.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=Zj().then(function(){if(typeof Ke("universalLinks.subscribe",l)!="function")throw rp("cordova-universal-links-plugin-fix is not installed");if(typeof Ke("BuildInfo.packageName",l)>"u")throw rp("cordova-plugin-buildinfo is not installed");if(typeof Ke("cordova.plugins.browsertab.openUrl",l)!="function")throw rp("cordova-plugin-browsertab is not installed");if(typeof Ke("cordova.InAppBrowser.open",l)!="function")throw rp("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function a$(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function u$(o){var u=new pN;z0(u,o),o=[];var f=8*u.g;56>u.c?z0(u,hN,56-u.c):z0(u,hN,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(q0(u),d=f=0;d<u.i;d++)for(var g=24;0<=g;g-=8)o[f++]=u.a[d]>>g&255;return _B(o)}e.Pb=function(o,u){return u(new R("operation-not-supported-in-this-environment")),te()},e.Nb=function(){return We(new R("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,d){if(this.c)return We(new R("redirect-operation-pending"));var g=this,_=l.document,E=null,k=null,M=null,U=null;return this.c=te().then(function(){return s0(u),mN(g)}).then(function(){return c$(g,o,u,f,d)}).then(function(){return new ye(function(oe,Oe){k=function(){var Ne=Ke("cordova.plugins.browsertab.close",l);return oe(),typeof Ne=="function"&&Ne(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(k),M=function(){E||(E=nu(2e3).then(function(){Oe(new R("redirect-cancelled-by-user"))}))},U=function(){jy()&&M()},_.addEventListener("resume",M,!1),$t().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",U,!1)}).o(function(oe){return H0(g).then(function(){throw oe})})}).oa(function(){M&&_.removeEventListener("resume",M,!1),U&&_.removeEventListener("visibilitychange",U,!1),E&&E.cancel(),k&&g.Ta(k),g.c=null})};function c$(o,u,f,d,g){var _=a$(),E=new jr(u,d,null,_,new R("no-auth-event"),null,g),k=Ke("BuildInfo.packageName",l);if(typeof k!="string")throw new R("invalid-cordova-configuration");var M=Ke("BuildInfo.displayName",l),U={};if($t().toLowerCase().match(/iphone|ipad|ipod/))U.ibi=k;else if($t().toLowerCase().match(/android/))U.apn=k;else return We(new R("operation-not-supported-in-this-environment"));M&&(U.appDisplayName=M),_=u$(_),U.sessionId=_;var oe=Pl(o.v,o.i,o.l,u,f,null,d,o.m,U,o.u,g,o.s);return o.ma().then(function(){var Oe=o.h;return o.C.a.set(V0,E.w(),Oe)}).then(function(){var Oe=Ke("cordova.plugins.browsertab.isAvailable",l);if(typeof Oe!="function")throw new R("invalid-cordova-configuration");var Ne=null;Oe(function(Rt){if(Rt){if(Ne=Ke("cordova.plugins.browsertab.openUrl",l),typeof Ne!="function")throw new R("invalid-cordova-configuration");Ne(oe)}else{if(Ne=Ke("cordova.InAppBrowser.open",l),typeof Ne!="function")throw new R("invalid-cordova-configuration");Rt=$t(),o.a=Ne(oe,Rt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Rt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function gN(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function mN(o){return o.f||(o.f=o.ma().then(function(){return new ye(function(u){function f(d){return u(d),o.Ta(f),!1}o.Ea(f),l$(o)})})),o.f}function H0(o){var u=null;return n$(o.g).then(function(f){return u=f,f=o.g,vu(f.b,V0,f.a)}).then(function(){return u})}function l$(o){function u(E){d=!0,g&&g.cancel(),H0(o).then(function(k){var M=f;if(k&&E&&E.url){var U=null;M=uC(E.url),M.indexOf("/__/auth/callback")!=-1&&(U=Fn(M),U=uu(pr(U,"firebaseError")||null),U=(U=typeof U=="object"?Vt(U):null)?new jr(k.c,k.b,null,null,U,null,k.T()):new jr(k.c,k.b,M,k.f,null,null,k.T())),M=U||f}gN(o,M)})}var f=new jr("unknown",null,null,null,new R("no-auth-event")),d=!1,g=nu(500).then(function(){return H0(o).then(function(){d||gN(o,f)})}),_=l.handleOpenURL;l.handleOpenURL=function(E){if(E.toLowerCase().indexOf(Ke("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:E}),typeof _=="function")try{_(E)}catch(k){console.error(k)}},a0||(a0=new CB),NB(u)}e.Ea=function(o){this.b.push(o),mN(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new jr("unknown",null,null,null,new R("no-auth-event")),o(u))})},e.Ta=function(o){Mr(this.b,function(u){return u==o})};function f$(o){this.a=o,this.b=Ml()}var W0={name:"pendingRedirect",F:"session"};function h$(o){return o.b.set(W0,"pending",o.a)}function K0(o){return vu(o.b,W0,o.a)}function d$(o){return o.b.get(W0,o.a).then(function(u){return u=="pending"})}function ip(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=P(this.s,this),this.b=new sp,this.C=new CN,this.g=new f$(IN(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=yN(this.D,this.v,this.m,Mi,this.J)}function yN(o,u,f,d,g){var _=J.SDK_VERSION||null;return Ly()?new vN(o,u,f,_,d,g):new zC(o,u,f,_,d,g)}ip.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=yN(this.D,this.v,this.m,null,this.J),this.i={}};function _N(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function wN(o){o.a.Yb()&&_N(o).o(function(u){var f=new jr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Q0(u)&&o.s(f)}),o.a.Ub()||SN(o.b)}function op(o,u){Fi(o.h,u)||o.h.push(u),o.f||d$(o.g).then(function(f){f?K0(o.g).then(function(){_N(o).o(function(d){var g=new jr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Q0(d)&&o.s(g)})}):wN(o)}).o(function(){wN(o)})}function G0(o,u){Mr(o.h,function(f){return f==u})}ip.prototype.s=function(o){if(!o)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return SN(this.b),u};var p$=new wo(2e3,1e4),v$=new wo(3e4,6e4);ip.prototype.ra=function(){return this.b.ra()};function EN(o,u,f,d,g,_,E){return o.a.Nb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,_,E)}function Q0(o){return!!(o&&o.code=="auth/cordova-not-ready")}function bN(o,u,f,d,g){var _;return h$(o.g).then(function(){return o.a.Ob(u,f,d,g).o(function(E){if(Q0(E))throw new R("operation-not-supported-in-this-environment");return _=E,K0(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new ye(function(){}):K0(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function TN(o,u,f,d,g){return o.a.Pb(d,function(_){u.na(f,null,_,g)},p$.get())}var Y0={};function IN(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function X0(o,u,f,d){var g=IN(u,f,d);return Y0[g]||(Y0[g]=new ip(o,u,f,d)),Y0[g]}function sp(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}sp.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},sp.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!_),f!="unknown"||g||_?o.a?($s(this,!0,null,o.a),te()):u.Fa(f,d)?g$(this,o,u):We(new R("invalid-auth-event")):($s(this,!1,null,null),te())}else We(new R("invalid-auth-event"))};function SN(o){o.g||(o.g=!0,$s(o,!1,null,null))}function ap(o){o.g&&!o.i&&$s(o,!1,null,null)}function g$(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,g=u.f,_=u.i,E=u.T(),k=!!u.c.match(/Redirect$/);f(d,g,E,_).then(function(M){$s(o,k,M,null)}).o(function(M){$s(o,k,null,M)})}function m$(o,u){if(o.b=function(){return We(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function kN(o,u){if(o.b=function(){return te(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function $s(o,u,f,d){u?d?m$(o,d):kN(o,f):kN(o,{user:null}),o.f=[],o.c=[]}sp.prototype.ra=function(){var o=this;return new ye(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),y$(o))})};function y$(o){var u=new R("timeout");o.a&&o.a.cancel(),o.a=nu(v$.get()).then(function(){o.b||(o.g=!0,$s(o,!0,null,u))})}function CN(){}CN.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),te()):u.Fa(f,d)?_$(o,u):We(new R("invalid-auth-event"))}else We(new R("invalid-auth-event"))};function _$(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(d,g,null,f)}).o(function(g){u.na(d,null,g,f)})}function NN(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function J0(o,u){this.a=u,X(this,"verificationId",o)}J0.prototype.confirm=function(o){return o=vC(this.verificationId,o),this.a(o)};function Z0(o,u,f,d){return new Bi(o).gb(u,f).then(function(g){return new J0(g,d)})}function w$(o){var u=eC(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");yn(this,{token:o,expirationTime:ml(1e3*u.exp),authTime:ml(1e3*u.auth_time),issuedAtTime:ml(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function e_(o,u,f){var d=u&&u[RN];if(!d)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=go(u),this.g=f,this.c=new Md(null,d),this.b=[];var g=this;Xe(u[AN]||[],function(_){(_=Hy(_))&&g.b.push(_)}),X(this,"auth",this.a),X(this,"session",this.c),X(this,"hints",this.b)}var AN="mfaInfo",RN="mfaPendingCredential";e_.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var d=go(u.f);return delete d[AN],delete d[RN],Dn(d,f),u.g(d)})};function t_(o,u,f,d){R.call(this,"multi-factor-auth-required",d,u),this.b=new e_(o,u,f),X(this,"resolver",this.b)}F(t_,R);function xN(o,u,f){if(o&&C(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new t_(u,o.serverResponse,f,o.message)}catch{}return null}function PN(){}PN.prototype.tb=function(o,u,f){return u.type==El?E$(this,o,u,f):b$(this,o,u)};function E$(o,u,f,d){return f.Ha().then(function(g){return g={idToken:g},typeof d<"u"&&(g.displayName=d),Dn(g,{phoneVerificationInfo:bl(o.a)}),_e(u,lV,g)})}function b$(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},Dn(d,{phoneVerificationInfo:bl(o.a)}),_e(u,fV,d)})}function n_(o){X(this,"factorId",o.fa),this.a=o}F(n_,PN);function ON(o){if(n_.call(this,o),this.a.fa!=Bi.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}F(ON,n_);function gu(o,u){Mn.call(this,o);for(var f in u)this[f]=u[f]}F(gu,Mn);function r_(o,u){this.a=o,this.b=[],this.c=P(this.yc,this),dr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Xe(u.multiFactor.enrolledFactors,function(d){var g=null,_={};if(d){d.uid&&(_[Ky]=d.uid),d.displayName&&(_[jk]=d.displayName),d.enrollmentTime&&(_[Wy]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(_[Gy]=d.phoneNumber);try{g=new yl(_)}catch{}d=g}else d=null;d&&f.push(d)}),up(this,f)}function T$(o){var u=[];return Xe(o.mfaInfo||[],function(f){(f=Hy(f))&&u.push(f)}),u}e=r_.prototype,e.yc=function(o){up(this,T$(o.hd))};function up(o,u){o.b=u,X(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new Md(o,null)})},e.fc=function(o,u){var f=this,d=this.a.a;return this.Sb().then(function(g){return o.tb(d,g,u)}).then(function(g){return di(f.a,g),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(g){return _e(d,xV,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var _=ej(u.b,function(E){return E.uid!=f});return up(u,_),di(u.a,g),u.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:dd(this.b,function(o){return o.w()})}}};function i_(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}i_.prototype.start=function(){this.a=this.c,o_(this,!0)};function I$(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function o_(o,u){o.stop(),o.b=nu(I$(o,u)).then(function(){return tB()}).then(function(){return o.h()}).then(function(){o_(o,!0)}).o(function(f){o.i(f)&&o_(o,!1)})}i_.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function s_(o){this.f=o,this.b=this.a=null,this.c=Date.now()}s_.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function DN(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function LN(o,u){o.b=Dd(u[Vr]||""),o.a=u.refreshToken,u=u.expiresIn,DN(o,typeof u<"u"?Number(u):void 0)}function S$(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function k$(o,u){return GB(o.f,u).then(function(f){return o.b=Dd(f.access_token),o.a=f.refresh_token,DN(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}s_.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?We(new R("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?k$(this,{grant_type:"refresh_token",refresh_token:this.a}):te(null):te({accessToken:this.b.toString(),refreshToken:this.a})};function cp(o,u){this.a=o||null,this.b=u||null,yn(this,{lastSignInTime:ml(u||null),creationTime:ml(o||null)})}function C$(o){return new cp(o.a,o.b)}cp.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function N$(o,u,f,d,g,_){yn(this,{uid:o,displayName:d||null,photoURL:g||null,email:f||null,phoneNumber:_||null,providerId:u})}function Xn(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=J.SDK_VERSION?su(J.SDK_VERSION):null;this.a=new Br(this.l,Es(Mi),d),(this.u=o.emulatorConfig||null)&&Xd(this.a,this.u),this.h=new s_(this.a),d_(this,u[Vr]),LN(this.h,u),X(this,"refreshToken",this.h.a),FN(this,f||{}),mn.call(this),this.P=!1,this.s&&Ps()&&(this.b=X0(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=A$(this),this.ba=P(this.ib,this);var g=this;this.za=null,this.Pa=function(_){g.xa(_.h)},this.qa=null,this.Ba=function(_){a_(g,_.c)},this.$=null,this.aa=[],this.Oa=function(_){Fl(g,_.f)},this.ja=null,this.S=new r_(this,f),X(this,"multiFactor",this.S)}F(Xn,mn),Xn.prototype.xa=function(o){this.za=o,xC(this.a,o)};function a_(o,u){o.u=u,Xd(o.a,u),o.b&&(u=o.b,o.b=X0(o.s,o.l,o.m,o.u),o.P&&(G0(u,o),op(o.b,o)))}Xn.prototype.la=function(){return this.za};function u_(o,u){o.qa&&Qn(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&dr(u,"languageCodeChanged",o.Pa)}function c_(o,u){o.$&&Qn(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&dr(u,"emulatorConfigChanged",o.Ba)}function Fl(o,u){o.aa=u,PC(o.a,J.SDK_VERSION?su(J.SDK_VERSION,o.aa):null)}Xn.prototype.Ga=function(){return Is(this.aa)};function l_(o,u){o.ja&&Qn(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&dr(u,"frameworkChanged",o.Oa)}Xn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function f_(o){try{return J.app(o.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function A$(o){return new i_(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function MN(o){o.J||o.D.b||(o.D.start(),Qn(o,"tokenChanged",o.ba),dr(o,"tokenChanged",o.ba))}function h_(o){Qn(o,"tokenChanged",o.ba),o.D.stop()}function d_(o,u){o.Aa=u,X(o,"_lat",u)}function R$(o,u){Mr(o.W,function(f){return f==u})}function qs(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return ek(u).then(function(){return o})}function Ul(o){o.b&&!o.P&&(o.P=!0,op(o.b,o))}function FN(o,u){yn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new cp(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}X(Xn.prototype,"providerId","firebase");function UN(){}function p_(o){return te().then(function(){if(o.J)throw new R("app-deleted")})}function v_(o){return dd(o.providerData,function(u){return u.providerId})}function g_(o,u){u&&(jN(o,u.providerId),o.providerData.push(u))}function jN(o,u){Mr(o.providerData,function(f){return f.providerId==u})}function To(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&X(o,u,f)}function lp(o,u){o!=u&&(yn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?X(o,"metadata",C$(u.metadata)):X(o,"metadata",new cp),Xe(u.providerData,function(f){g_(o,f)}),S$(o.h,u.h),X(o,"refreshToken",o.h.a),up(o.S,u.S.b))}e=Xn.prototype,e.reload=function(){var o=this;return bt(this,p_(this).then(function(){return m_(o).then(function(){return qs(o)}).then(UN)}))};function m_(o){return o.I().then(function(u){var f=o.isAnonymous;return x$(o,u).then(function(){return f||To(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new w$(u)})},e.I=function(o){var u=this;return bt(this,p_(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new R("internal-error");return f.accessToken!=u.Aa&&(d_(u,f.accessToken),u.dispatchEvent(new gu("tokenChanged"))),To(u,"refreshToken",f.refreshToken),f.accessToken}))};function di(o,u){u[Vr]&&o.Aa!=u[Vr]&&(LN(o.h,u),o.dispatchEvent(new gu("tokenChanged")),d_(o,u[Vr]),To(o,"refreshToken",o.h.a))}function x$(o,u){return _e(o.a,hV,{idToken:u}).then(P(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new R("internal-error");o=o[0],FN(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=P$(o),f=0;f<u.length;f++)g_(this,u[f]);To(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new gu("userReloaded",{hd:o}))};function P$(o){return(o=o.providerUserInfo)&&o.length?dd(o,function(u){return new N$(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return By("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return bt(this,o.c(this.a,this.uid).then(function(d){return di(u,d),f=jl(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function fp(o,u){return m_(o).then(function(){if(Fi(v_(o),u))return qs(o).then(function(){throw new R("provider-already-linked")})})}e.Cc=function(o){return By("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return bt(this,fp(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=jl(u,d,"link"),BN(u,d)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return bt(this,fp(this,"phone").then(function(){return Z0(f_(f),o,u,P(f.rb,f))}))},e.Mc=function(o,u){var f=this;return bt(this,te().then(function(){return Z0(f_(f),o,u,P(f.ub,f))}),!0)};function jl(o,u,f){var d=o0(u);return u=nC(u),fi({user:o,credential:d,additionalUserInfo:u,operationType:f})}function BN(o,u){return di(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return bt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return di(u,f),u.reload()}))},e.ed=function(o){var u=this;return bt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return di(u,f),u.reload()}))},e.Db=function(o){var u=this;return bt(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return di(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return p_(this);var u=this;return bt(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return di(u,f),To(u,"displayName",f.displayName||null),To(u,"photoURL",f.photoUrl||null),Xe(u.providerData,function(d){d.providerId==="password"&&(X(d,"displayName",u.displayName),X(d,"photoURL",u.photoURL))}),qs(u)}).then(UN))},e.cd=function(o){var u=this;return bt(this,m_(this).then(function(f){return Fi(v_(u),o)?tV(u.a,f,[o]).then(function(d){var g={};return Xe(d.providerUserInfo||[],function(_){g[_.providerId]=!0}),Xe(v_(u),function(_){g[_]||jN(u,_)}),g[Bi.PROVIDER_ID]||X(u,"phoneNumber",null),qs(u)}):qs(u).then(function(){throw new R("no-such-provider")})}))},e.delete=function(){var o=this;return bt(this,this.I().then(function(u){return _e(o.a,sV,{idToken:u})}).then(function(){o.dispatchEvent(new gu("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");u_(o,null),c_(o,null),l_(o,null),o.N=[],o.J=!0,h_(o),X(o,"refreshToken",null),o.b&&G0(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?P(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?P(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?P(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?P(this.Mb,this):null},e.Ec=function(o){var u=this;return VN(this,"linkViaPopup",o,function(){return fp(u,o.providerId).then(function(){return qs(u)})},!1)},e.Nc=function(o){return VN(this,"reauthViaPopup",o,function(){return te()},!0)};function VN(o,u,f,d,g){if(!Ps())return We(new R("operation-not-supported-in-this-environment"));if(o.i&&!g)return We(o.i);var _=Zy(f.providerId),E=Os(o.uid+":::"),k=null;(!vl()||My())&&o.s&&f.isOAuthProvider&&(k=Pl(o.s,o.l,o.m,u,f,null,E,J.SDK_VERSION||null,null,null,o.tenantId,o.u));var M=Rk(k,_&&_.va,_&&_.ua);return d=d().then(function(){if(qN(o),!g)return o.I().then(function(){})}).then(function(){return EN(o.b,M,u,f,E,!!k,o.tenantId)}).then(function(){return new ye(function(U,oe){o.na(u,null,new R("cancelled-popup-request"),o.g||null),o.f=U,o.C=oe,o.g=E,o.c=TN(o.b,o,u,M,E)})}).then(function(U){return M&&xs(M),U?fi(U):null}).o(function(U){throw M&&xs(M),U}),bt(o,d,g)}e.Fc=function(o){var u=this;return $N(this,"linkViaRedirect",o,function(){return fp(u,o.providerId)},!1)},e.Oc=function(o){return $N(this,"reauthViaRedirect",o,function(){return te()},!0)};function $N(o,u,f,d,g){if(!Ps())return We(new R("operation-not-supported-in-this-environment"));if(o.i&&!g)return We(o.i);var _=null,E=Os(o.uid+":::");return d=d().then(function(){if(qN(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=E,qs(o)}).then(function(k){return o.ha&&(k=o.ha,k=k.b.set(y_,o.w(),k.a)),k}).then(function(){return bN(o.b,u,f,E,o.tenantId)}).o(function(k){if(_=k,o.ha)return HN(o.ha);throw _}).then(function(){if(_)throw _}),bt(o,d,g)}function qN(o){if(!o.b||!o.P)throw o.b&&!o.P?new R("internal-error"):new R("auth-domain-config-required")}e.Lb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(E){return k0(g.a,{requestUri:o,postBody:d,sessionId:u,idToken:E})}).then(function(E){return _=jl(g,E,"link"),BN(g,E)}).then(function(){return _}),bt(this,f)},e.Mb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null,E=te().then(function(){return lu(C0(g.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),g.uid)}).then(function(k){return _=jl(g,k,"reauthenticate"),di(g,k),g.i=null,g.reload()}).then(function(){return _});return bt(this,E,!0)},e.vb=function(o){var u=this,f=null;return bt(this,this.I().then(function(d){return f=d,typeof o>"u"||Ss(o)?{}:Pd(new xd(o))}).then(function(d){return u.a.vb(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,d=null;return bt(this,this.I().then(function(g){return d=g,typeof u>"u"||Ss(u)?{}:Pd(new xd(u))}).then(function(g){return f.a.Fb(d,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function bt(o,u,f){var d=O$(o,u,f);return o.N.push(d),d.oa(function(){pd(o.N,d)}),d.o(function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=xN(g.w(),f_(o),P(o.jc,o))),_||g})}e.jc=function(o){var u=null,f=this;return o=lu(te(o),f.uid).then(function(d){return u=jl(f,d,"reauthenticate"),di(f,d),f.i=null,f.reload()}).then(function(){return u}),bt(this,o,!0)};function O$(o,u,f){return o.i&&!f?(u.cancel(),We(o.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new gu("userInvalidated")),o.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Dn(o,this.metadata.w()),Xe(this.providerData,function(u){o.providerData.push(iB(u))}),Dn(o,this.S.w()),o};function zN(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Vr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var g=new Xn(u,f,o);return o.providerData&&Xe(o.providerData,function(_){_&&g_(g,fi(_))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function D$(o,u,f,d){var g=new Xn(o,u);return f&&(g.ha=f),d&&Fl(g,d),g.reload().then(function(){return g})}function L$(o,u,f,d){var g=o.h,_={};return _[Vr]=g.b&&g.b.toString(),_.refreshToken=g.a,u=new Xn(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),d&&Fl(u,d),lp(u,o),u}function M$(o){this.a=o,this.b=Ml()}var y_={name:"redirectUser",F:"session"};function HN(o){return vu(o.b,y_,o.a)}function F$(o,u){return o.b.get(y_,o.a).then(function(f){return f&&u&&(f.authDomain=u),zN(f||{})})}function __(o){this.a=o,this.b=Ml(),this.c=null,this.f=U$(this),this.b.addListener(pi("local"),this.a,P(this.g,this))}__.prototype.g=function(){var o=this,u=pi("local");mu(this,function(){return te().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return w_(o,"local").then(function(){o.c=u})})})};function w_(o,u){var f=[],d;for(d in du)du[d]!==u&&f.push(vu(o.b,pi(du[d]),o.a));return f.push(vu(o.b,E_,o.a)),Cj(f)}function U$(o){var u=pi("local"),f=pi("session"),d=pi("none");return ZV(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(d,o.a).then(function(_){return _?d:o.b.get(u,o.a).then(function(E){return E?u:o.b.get(E_,o.a).then(function(k){return k?pi(k):u})})})}).then(function(g){return o.c=g,w_(o,g.F)}).o(function(){o.c||(o.c=u)})}var E_={name:"persistence",F:"session"};function pi(o){return{name:"authUser",F:o}}__.prototype.yb=function(o){var u=null,f=this;return JV(o),mu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,w_(f,o)}).then(function(){if(f.c=pi(o),u)return f.b.set(f.c,u,f.a)}):te()})};function j$(o){return mu(o,function(){return o.b.set(E_,o.c.F,o.a)})}function WN(o,u){return mu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function KN(o){return mu(o,function(){return vu(o.b,o.c,o.a)})}function GN(o,u,f){return mu(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),zN(d||{})})})}function mu(o,u){return o.f=o.f.then(u,u),o.f}function $r(o){if(this.l=!1,X(this,"settings",new NN),X(this,"app",o),Fe(this).options&&Fe(this).options.apiKey)o=J.SDK_VERSION?su(J.SDK_VERSION):null,this.a=new Br(Fe(this).options&&Fe(this).options.apiKey,Es(Mi),o);else throw new R("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=J.INTERNAL.createSubscribe(P(this.zc,this)),this.W=void 0,this.ib=J.INTERNAL.createSubscribe(P(this.Ac,this)),yu(this,null),this.i=new __(Fe(this).options.apiKey+":"+Fe(this).name),this.D=new M$(Fe(this).options.apiKey+":"+Fe(this).name),this.$=it(this,H$(this)),this.h=it(this,W$(this)),this.ba=!1,this.ja=P(this.Zc,this),this.Ba=P(this.da,this),this.qa=P(this.mc,this),this.za=P(this.wc,this),this.Aa=P(this.xc,this),this.b=null,$$(this),this.INTERNAL={},this.INTERNAL.delete=P(this.delete,this),this.INTERNAL.logFramework=P(this.Gc,this),this.u=0,mn.call(this),V$(this),this.J=[],this.R=null}F($r,mn);function QN(o){Mn.call(this,"languageCodeChanged"),this.h=o}F(QN,Mn);function YN(o){Mn.call(this,"emulatorConfigChanged"),this.c=o}F(YN,Mn);function XN(o){Mn.call(this,"frameworkChanged"),this.f=o}F(XN,Mn),e=$r.prototype,e.yb=function(o){return o=this.i.yb(o),it(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,xC(this.a,this.aa),this.dispatchEvent(new QN(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=l.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,B$(u),this.R={url:o,ec:u},this.settings.jb=!0,Xd(this.a,this.R),this.dispatchEvent(new YN(this.R))}};function B$(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&Nd().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),PC(this.a,J.SDK_VERSION?su(J.SDK_VERSION,this.J):null),this.dispatchEvent(new XN(this.J))},e.Ga=function(){return Is(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function V$(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=Fn(this.R.url);u=fi({protocol:u.c,host:u.a,port:u.g,options:fi({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Fe(this).options.apiKey,authDomain:Fe(this).options.authDomain,appName:Fe(this).name,currentUser:fe(this)&&fe(this).w()}};function b_(o){return o.Oa||We(new R("auth-domain-config-required"))}function $$(o){var u=Fe(o).options.authDomain,f=Fe(o).options.apiKey;u&&Ps()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=X0(u,f,Fe(o).name,o.R),op(o.b,o),fe(o)&&Ul(fe(o)),o.m){Ul(o.m);var d=o.m;d.xa(o.la()),u_(d,o),d=o.m,Fl(d,o.J),l_(d,o),d=o.m,a_(d,o.R),c_(d,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?P(this.ic,this):null},e.ic=function(o,u,f,d){var g=this,_={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return zs(g,S0(g.a,_))})},e.Xc=function(o){if(!Ps())return We(new R("operation-not-supported-in-this-environment"));var u=this,f=Zy(o.providerId),d=Os(),g=null;(!vl()||My())&&Fe(this).options.authDomain&&o.isOAuthProvider&&(g=Pl(Fe(this).options.authDomain,Fe(this).options.apiKey,Fe(this).name,"signInViaPopup",o,null,d,J.SDK_VERSION||null,null,null,this.T(),this.R));var _=Rk(g,f&&f.va,f&&f.ua);return f=b_(this).then(function(E){return EN(E,_,"signInViaPopup",o,d,!!g,u.T())}).then(function(){return new ye(function(E,k){u.na("signInViaPopup",null,new R("cancelled-popup-request"),u.g),u.f=E,u.C=k,u.g=d,u.c=TN(u.b,u,"signInViaPopup",_,d)})}).then(function(E){return _&&xs(_),E?fi(E):null}).o(function(E){throw _&&xs(_),E}),it(this,f)},e.Yc=function(o){if(!Ps())return We(new R("operation-not-supported-in-this-environment"));var u=this,f=b_(this).then(function(){return j$(u.i)}).then(function(){return bN(u.b,"signInViaRedirect",o,void 0,u.T())});return it(this,f)};function JN(o){if(!Ps())return We(new R("operation-not-supported-in-this-environment"));var u=b_(o).then(function(){return o.b.ra()}).then(function(f){return f?fi(f):null});return it(o,u)}e.ra=function(){var o=this;return JN(this).then(function(u){return o.b&&ap(o.b.b),u}).o(function(u){throw o.b&&ap(o.b.b),u})},e.dd=function(o){if(!o)return We(new R("null-user"));if(this.S!=o.tenantId)return We(new R("tenant-id-mismatch"));var u=this,f={};f.apiKey=Fe(this).options.apiKey,f.authDomain=Fe(this).options.authDomain,f.appName=Fe(this).name;var d=L$(o,f,u.D,u.Ga());return it(this,this.h.then(function(){if(Fe(u).options.apiKey!=o.l)return d.reload()}).then(function(){return fe(u)&&o.uid==fe(u).uid?(lp(fe(u),o),u.da(o)):(yu(u,d),Ul(d),u.da(d))}).then(function(){Bl(u)}))};function q$(o,u){var f={};return f.apiKey=Fe(o).options.apiKey,f.authDomain=Fe(o).options.authDomain,f.appName=Fe(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return D$(f,u,o.D,o.Ga())}).then(function(d){return fe(o)&&d.uid==fe(o).uid?(lp(fe(o),d),o.da(d)):(yu(o,d),Ul(d),o.da(d))}).then(function(){Bl(o)})}function yu(o,u){fe(o)&&(R$(fe(o),o.Ba),Qn(fe(o),"tokenChanged",o.qa),Qn(fe(o),"userDeleted",o.za),Qn(fe(o),"userInvalidated",o.Aa),h_(fe(o))),u&&(u.W.push(o.Ba),dr(u,"tokenChanged",o.qa),dr(u,"userDeleted",o.za),dr(u,"userInvalidated",o.Aa),0<o.u&&MN(u)),X(o,"currentUser",u),u&&(u.xa(o.la()),u_(u,o),Fl(u,o.J),l_(u,o),a_(u,o.R),c_(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&ap(o.b.b),fe(o)?(yu(o,null),KN(o.i).then(function(){Bl(o)})):te()});return it(this,u)};function z$(o){var u=F$(o.D,Fe(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),HN(o.D)});return it(o,u)}function H$(o){var u=Fe(o).options.authDomain,f=z$(o).then(function(){return GN(o.i,u,o.R)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return WN(o.i,d).then(function(){return d})}).o(function(g){return g.code=="auth/network-request-failed"?d:KN(o.i)})):null}).then(function(d){yu(o,d||null)});return it(o,f)}function W$(o){return o.$.then(function(){return JN(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(pi("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return GN(this.i,Fe(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=fe(o)&&u){f=fe(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return lp(fe(o),u),fe(o).I();(fe(o)||u)&&(yu(o,u),u&&(Ul(u),u.ha=o.D),o.b&&op(o.b,o),Bl(o))}})},e.da=function(o){return WN(this.i,o)},e.mc=function(){Bl(this),this.da(fe(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function zs(o,u){var f=null,d=null;return it(o,u.then(function(g){return f=o0(g),d=nC(g),q$(o,g)},function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=xN(g.w(),o,P(o.kc,o))),_||g}).then(function(){return fi({user:fe(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return zs(u,te(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(fe(u))})},e.Ac=function(o){var u=this;K$(this,function(){o.next(fe(u))})},e.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(fe(d)):typeof o.next=="function"&&o.next(fe(d))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof o=="function"?o(fe(d)):typeof o.next=="function"&&o.next(fe(d))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return fe(u)?fe(u).I(o).then(function(d){return{accessToken:d}}):null});return it(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return zs(u,_e(u.a,CV,{token:o}))}).then(function(f){var d=f.user;return To(d,"isAnonymous",!1),u.da(d),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return zs(f,_e(f.a,VC,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return zs(f,_e(f.a,iV,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return zs(u,o.ka(u.a))})},e.Sc=function(o){return By("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=fe(o);if(u&&u.isAnonymous){var f=fi({providerId:null,isNewUser:!1});return fi({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return zs(o,o.a.Ab()).then(function(d){var g=d.user;return To(g,"isAnonymous",!0),o.da(g),d})})};function Fe(o){return o.app}function fe(o){return o.currentUser}e.getUid=function(){return fe(this)&&fe(this).uid||null};function hp(o){return fe(o)&&fe(o)._lat||null}function Bl(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](hp(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](hp(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&fe(this)&&MN(fe(this))},e.Pc=function(o){var u=this;Xe(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&fe(this)&&h_(fe(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),it(this,this.h.then(function(){u.l||Fi(u.s,o)&&o(hp(u))}))},e.removeAuthTokenListener=function(o){Mr(this.s,function(u){return u==o})};function K$(o,u){o.N.push(u),it(o,o.h.then(function(){!o.l&&Fi(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(hp(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(pi("local"),o.a,this.ja)),this.b&&(G0(this.b,this),ap(this.b.b)),Promise.resolve()};function it(o,u){return o.P.push(u),u.oa(function(){pd(o.P,u)}),u}e.hc=function(o){return it(this,QB(this.a,o))},e.Bc=function(o){return!!i0(o)},e.xb=function(o,u){var f=this;return it(this,te().then(function(){var d=new xd(u);if(!d.c)throw new R("argument-error",Xy+" must be true when sending sign in link to email");return Pd(d)}).then(function(d){return f.a.xb(o,d)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return it(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return it(this,this.a.Sa(o).then(function(u){return new sB(u)}))},e.kb=function(o){return it(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return it(this,te().then(function(){return typeof u>"u"||Ss(u)?{}:Pd(new xd(u))}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},e.Wc=function(o,u){return it(this,Z0(this,o,u,P(this.ab,this)))},e.Vc=function(o,u){var f=this;return it(this,te().then(function(){var d=u||pl(),g=pC(o,d);if(d=i0(d),!d)throw new R("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new R("tenant-id-mismatch");return f.ab(g)}))};function Vl(){}Vl.prototype.render=function(){},Vl.prototype.reset=function(){},Vl.prototype.getResponse=function(){},Vl.prototype.execute=function(){};function _u(){this.a={},this.b=1e12}var T_=null;_u.prototype.render=function(o,u){return this.a[this.b.toString()]=new dp(o,u),this.b++},_u.prototype.reset=function(o){var u=I_(this,o);o=ZN(o),u&&o&&(u.delete(),delete this.a[o])},_u.prototype.getResponse=function(o){return(o=I_(this,o))?o.getResponse():null},_u.prototype.execute=function(o){(o=I_(this,o))&&o.execute()};function I_(o,u){return(u=ZN(u))&&o.a[u]||null}function ZN(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function dp(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=al(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():dr(this.f,"click",this.i)}dp.prototype.getResponse=function(){return S_(this),this.b},dp.prototype.execute=function(){S_(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=eB();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},dp.prototype.delete=function(){S_(this),this.g=!0,clearTimeout(this.a),this.a=null,Qn(this.f,"click",this.i)};function S_(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function k_(){}X(k_,"FACTOR_ID","phone");function C_(){}C_.prototype.g=function(){return T_||(T_=new _u),te(T_)},C_.prototype.c=function(){};var N_=null;function A_(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var G$=new ui(vd,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Q$=new wo(3e4,6e4);A_.prototype.g=function(o){var u=this;return new ye(function(f,d){var g=setTimeout(function(){d(new R("network-request-failed"))},Q$.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var E=l.grecaptcha.render;l.grecaptcha.render=function(k,M){return k=E(k,M),u.b++,k},clearTimeout(g),f(l.grecaptcha)}else clearTimeout(g),d(new R("internal-error"));delete l[u.a]};var _=ly(G$,{onload:u.a,hl:o||""});te(y0(_)).o(function(){clearTimeout(g),d(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(l.grecaptcha)})},A_.prototype.c=function(){this.b--};var R_=null;function x_(o,u,f,d,g,_,E){if(X(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,E?(N_||(N_=new C_),E=N_):(R_||(R_=new A_),E=R_),this.m=E,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[nA])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Y$]==="invisible",!l.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!al(u)||!this.i&&al(u).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Br(o,_||null,g||null),this.u=d||function(){return null};var k=this;this.l=[];var M=this.a[eA];this.a[eA]=function(oe){if(rA(k,oe),typeof M=="function")M(oe);else if(typeof M=="string"){var Oe=Ke(M,l);typeof Oe=="function"&&Oe(oe)}};var U=this.a[tA];this.a[tA]=function(){if(rA(k,null),typeof U=="function")U();else if(typeof U=="string"){var oe=Ke(U,l);typeof oe=="function"&&oe()}}}var eA="callback",tA="expired-callback",nA="sitekey",Y$="size";function rA(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function X$(o,u){Mr(o.l,function(f){return f==u})}function P_(o,u){return o.h.push(u),u.oa(function(){pd(o.h,u)}),u}e=x_.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=P_(this,te().then(function(){if(Ad()&&!Ur())return Nd();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,_e(o.s,yV,{})}).then(function(u){o.a[nA]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){pp(this);var o=this;return P_(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=al(u);u=Tj("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){pp(this);var o=this;return P_(this,this.render().then(function(u){return new ye(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var g=function(_){_&&(X$(o,g),f(_))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){pp(this),this.c!==null&&this.g.reset(this.c)};function pp(o){if(o.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){pp(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=al(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function O_(o,u,f){var d=!1;try{this.b=f||J.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new R("invalid-api-key");var g=this,_=null;try{_=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=J.SDK_VERSION?su(J.SDK_VERSION,_):null,x_.call(this,f,o,u,function(){try{var E=g.b.auth().la()}catch{E=null}return E},_,Es(Mi),d)}F(O_,x_);function iA(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var g=0,_=!1,E=0;E<u.length;E++)if(u[E].optional)_=!0;else{if(_)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(_=u.length,f.length<g||_<f.length)d="Expected "+(g==_?g==1?"1 argument":g+" arguments":g+"-"+_+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(_=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!_){if(u=u[g],0>g||g>=oA.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");f=oA[g],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new R("argument-error",o+" failed: "+d)}var oA="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Y(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function D_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function dt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:C}}function wu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function vi(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function J$(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function Z$(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof $r)}}}function e6(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof J.app.App)}}}function Io(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function sA(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function Eu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function L_(o,u){return C(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function aA(o){return C(o)&&typeof o.uid=="string"}function vp(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function ct(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(g){return o.M(g)||u.M(g)}}}function Je(o,u){for(var f in u){var d=u[f].name;o[d]=cA(d,o[f],u[f].j)}}function uA(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:$(function(g){return this[g]},f),set:$(function(g,_,E,k){iA(g,[E],[k],!0),this[_]=k},d,f,u[f].lb),enumerable:!0})}}function lt(o,u,f,d){o[u]=cA(u,f,d)}function cA(o,u,f){function d(){var E=Array.prototype.slice.call(arguments);return iA(g,f,E),u.apply(this,E)}if(!f)return u;var g=t6(o),_;for(_ in u)d[_]=u[_];for(_ in u.prototype)d.prototype[_]=u.prototype[_];return d}function t6(o){return o=o.split("."),o[o.length-1]}Je($r.prototype,{kb:{name:"applyActionCode",j:[Y("code")]},Sa:{name:"checkActionCode",j:[Y("code")]},ob:{name:"confirmPasswordReset",j:[Y("code"),Y("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Y("email"),Y("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Y("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Y("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ct(dt(),wu(),"nextOrObserver"),wu("opt_error",!0),wu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ct(dt(),wu(),"nextOrObserver"),wu("opt_error",!0),wu("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Y("email"),ct(dt("opt_actionCodeSettings",!0),vi(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Y("email"),dt("actionCodeSettings")]},yb:{name:"setPersistence",j:[Y("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Io()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Io()]},Tc:{name:"signInWithCustomToken",j:[Y("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Y("email"),Y("password")]},Vc:{name:"signInWithEmailLink",j:[Y("email"),Y("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Y("phoneNumber"),vp()]},Xc:{name:"signInWithPopup",j:[Eu()]},Yc:{name:"signInWithRedirect",j:[Eu()]},dd:{name:"updateCurrentUser",j:[ct(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Xn)}}}(),vi(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Y(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Y("url"),dt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Y("code")]}}),uA($r.prototype,{lc:{name:"languageCode",lb:ct(Y(),vi(),"languageCode")},ti:{name:"tenantId",lb:ct(Y(),vi(),"tenantId")}}),$r.Persistence=du,$r.Persistence.LOCAL="local",$r.Persistence.SESSION="session",$r.Persistence.NONE="none",Je(Xn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[D_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[D_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Io()]},rb:{name:"linkWithCredential",j:[Io()]},Dc:{name:"linkWithPhoneNumber",j:[Y("phoneNumber"),vp()]},Ec:{name:"linkWithPopup",j:[Eu()]},Fc:{name:"linkWithRedirect",j:[Eu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Io()]},ub:{name:"reauthenticateWithCredential",j:[Io()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Y("phoneNumber"),vp()]},Nc:{name:"reauthenticateWithPopup",j:[Eu()]},Oc:{name:"reauthenticateWithRedirect",j:[Eu()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ct(dt("opt_actionCodeSettings",!0),vi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Y(null,!0)]},cd:{name:"unlink",j:[Y("provider")]},Cb:{name:"updateEmail",j:[Y("email")]},Db:{name:"updatePassword",j:[Y("password")]},ed:{name:"updatePhoneNumber",j:[Io("phone")]},Eb:{name:"updateProfile",j:[dt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Y("email"),ct(dt("opt_actionCodeSettings",!0),vi(null,!0),"opt_actionCodeSettings",!0)]}}),Je(_u.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Je(Vl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Je(ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),uA(NN.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:D_("appVerificationDisabledForTesting")}}),Je(J0.prototype,{confirm:{name:"confirm",j:[Y("verificationCode")]}}),lt(cu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[IB,SB,kB,TB],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[ct(Y(),dt(),"json")]),lt(vr,"credential",function(o,u){return new Eo(o,u)},[Y("email"),Y("password")]),Je(Eo.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),Je(Ms.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[dt("customOAuthParameters")]}}),lt(Ms,"credential",lC,[ct(Y(),dt(),"token")]),lt(vr,"credentialWithLink",pC,[Y("email"),Y("emailLink")]),Je(Fs.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[dt("customOAuthParameters")]}}),lt(Fs,"credential",fC,[ct(Y(),dt(),"token")]),Je(Us.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[dt("customOAuthParameters")]}}),lt(Us,"credential",hC,[ct(Y(),ct(dt(),vi()),"idToken"),ct(Y(),vi(),"accessToken",!0)]),Je(fu.prototype,{Ka:{name:"setCustomParameters",j:[dt("customOAuthParameters")]}}),lt(fu,"credential",dC,[ct(Y(),dt(),"token"),Y("secret",!0)]),Je(Yn.prototype,{Ca:{name:"addScope",j:[Y("scope")]},credential:{name:"credential",j:[ct(Y(),ct(dt(),vi()),"optionsOrIdToken"),ct(Y(),vi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[dt("customOAuthParameters")]}}),Je(ji.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),Je(Ds.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),lt(Bi,"credential",vC,[Y("verificationId"),Y("verificationCode")]),Je(Bi.prototype,{gb:{name:"verifyPhoneNumber",j:[ct(Y(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?L_(f.session,El)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?L_(f.session,Fd)&&aA(f.multiFactorHint):f.session&&f.multiFactorUid?L_(f.session,Fd)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),vp()]}}),Je(bo.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),Je(R.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),Je(Tl.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),Je(u0.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),Je(t_.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),Je(e_.prototype,{Rc:{name:"resolveSignIn",j:[sA()]}}),Je(r_.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[sA(),Y("displayName",!0)]},bd:{name:"unenroll",j:[ct({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:aA},Y(),"multiFactorInfoIdentifier")]}}),Je(O_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),lt(Yy,"parseLink",Wk,[Y("link")]),lt(k_,"assertion",function(o){return new ON(o)},[Io("phone")]),function(){if(typeof J<"u"&&J.INTERNAL&&J.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Rd,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Qy,VERIFY_AND_CHANGE_EMAIL:_l,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:$r,AuthCredential:cu,Error:R};lt(o,"EmailAuthProvider",vr,[]),lt(o,"FacebookAuthProvider",Ms,[]),lt(o,"GithubAuthProvider",Fs,[]),lt(o,"GoogleAuthProvider",Us,[]),lt(o,"TwitterAuthProvider",fu,[]),lt(o,"OAuthProvider",Yn,[Y("providerId")]),lt(o,"SAMLAuthProvider",cC,[Y("providerId")]),lt(o,"PhoneAuthProvider",Bi,[Z$()]),lt(o,"RecaptchaVerifier",O_,[ct(Y(),J$(),"recaptchaContainer"),dt("recaptchaParameters",!0),e6()]),lt(o,"ActionCodeURL",Yy,[]),lt(o,"PhoneMultiFactorGenerator",k_,[]),J.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new $r(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),J.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:P(u.getUid,u),getToken:P(u.nc,u),addAuthTokenListener:P(u.cc,u),removeAuthTokenListener:P(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),J.registerVersion("@firebase/auth","0.16.8"),J.INTERNAL.extendNamespace({User:Xn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var eH="@firebase/database",tH="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JD="";function ZD(e){JD=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nH=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),St(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:rh(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rH=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return ur(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eL=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new nH(t)}}catch{}return new rH},na=eL("localStorage"),K1=eL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ju=new Fa("@firebase/database"),tL=function(){var e=1;return function(){return e++}}(),nL=function(e){var t=Ez(e),n=new mz;n.update(t);var r=n.digest();return em.encodeByteArray(r)},Mh=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Mh.apply(null,i):typeof i=="object"?n+=St(i):n+=i,n+=" "}return n},fa=null,kR=!0,rL=function(e,t){q(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ju.logLevel=me.VERBOSE,fa=Ju.log.bind(Ju),t&&K1.set("logging_enabled",!0)):typeof e=="function"?fa=e:(fa=null,K1.remove("logging_enabled"))},Dt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(kR===!0&&(kR=!1,fa===null&&K1.get("logging_enabled")===!0&&rL(!0)),fa){var n=Mh.apply(null,e);fa(n)}},Fh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Dt.apply(void 0,de([e],Kt(t)))}},G1=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Mh.apply(void 0,de([],Kt(e)));Ju.error(n)},Ai=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Mh.apply(void 0,de([],Kt(e)));throw Ju.error(n),new Error(n)},Yt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Mh.apply(void 0,de([],Kt(e)));Ju.warn(n)},iH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},nm=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},oH=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},so="[MIN_NAME]",Ri="[MAX_NAME]",Ua=function(e,t){if(e===t)return 0;if(e===so||t===Ri)return-1;if(t===so||e===Ri)return 1;var n=Qv(e),r=Qv(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},sH=function(e,t){return e===t?0:e<t?-1:1},Xl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+St(t))},nT=function(e){if(typeof e!="object"||e===null)return St(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=St(t[i]),r+=":",r+=nT(e[t[i]]);return r+="}",r},iL=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function At(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var oL=function(e){q(!nm(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,c,l;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=c+r,a=Math.round(e*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(l=n;l;l-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(l=t;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var p=h.join(""),v="";for(l=0;l<64;l+=8){var m=parseInt(p.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},aH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cH(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var lH=new RegExp("^-?(0*)\\d{1,10}$"),sL=-2147483648,rT=2147483647,Qv=function(e){if(lH.test(e)){var t=Number(e);if(t>=sL&&t<=rT)return t}return null},$c=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw Yt("Exception was thrown by user callback.",n),t},Math.floor(0))}},fH=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},If=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hH=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){Yt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dH=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yt(t)},e}(),Sf=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iT="5",aL="v",uL="s",cL="r",lL="f",fL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hL="ls",pH="p",Q1="ac",dL="websocket",pL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oT=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=!1),a===void 0&&(a=""),c===void 0&&(c=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=na.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&na.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function vH(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function vL(e,t,n){q(typeof t=="string","typeof type must == string"),q(typeof n=="object","typeof params must == object");var r;if(t===dL)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===pL)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);vH(e)&&(n.ns=e.namespace);var i=[];return At(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gH=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),ur(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return $D(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hw={},dw={};function sT(e){var t=e.toString();return hw[t]||(hw[t]=new gH),hw[t]}function mH(e,t){var n=e.toString();return dw[n]||(dw[n]=t()),dw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yH=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var c=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var l=function(p){c[p]&&$c(function(){r.onMessage_(c[p])})},h=0;h<c.length;++h)l(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CR="start",_H="close",wH="pLPCommand",EH="pRTLPCB",gL="id",mL="pw",yL="ser",bH="cb",TH="seg",IH="ts",SH="d",kH="dframe",_L=1870,wL=30,CH=_L-wL,NH=25e3,AH=3e4,aT=function(){function e(t,n,r,i,s,a,c){var l=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fh(t),this.stats_=sT(n),this.urlFn=function(h){return l.appCheckToken&&(h[Q1]=l.appCheckToken),vL(n,pL,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yH(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(AH)),oH(function(){if(!r.isClosed_){r.scriptTagHolder=new RH(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Kt(a,5),h=l[0],p=l[1],v=l[2];if(l[3],l[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===CR)r.id=p,r.password=v;else if(h===_H)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Kt(a,2),h=l[0],p=l[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,p)},function(){r.onClosed_()},r.urlFn);var i={};i[CR]="t",i[yL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[bH]=r.scriptTagHolder.uniqueCallbackIdentifier),i[aL]=iT,r.transportSessionId&&(i[uL]=r.transportSessionId),r.lastSessionId&&(i[hL]=r.lastSessionId),r.applicationId&&(i[pH]=r.applicationId),r.appCheckToken&&(i[Q1]=r.appCheckToken),typeof location<"u"&&location.hostname&&fL.test(location.hostname)&&(i[cL]=lL);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!aH()&&!uH()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=St(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=VD(n),i=iL(r,CH),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[kH]="t",r[gL]=t,r[mL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=St(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),RH=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tL(),window[wH+this.uniqueCallbackIdentifier]=t,window[EH+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(l){Dt("frame writing exception"),l.stack&&Dt(l.stack),Dt(l)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Dt("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[gL]=this.myID,t[mL]=this.myPW,t[yL]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+wL+r.length<=_L){var a=this.pendingSegs.shift();r=r+"&"+TH+i+"="+a.seg+"&"+IH+i+"="+a.ts+"&"+SH+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(NH)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Dt("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xH=16384,PH=45e3,Yv=null;typeof MozWebSocket<"u"?Yv=MozWebSocket:typeof WebSocket<"u"&&(Yv=WebSocket);var Xs=function(){function e(t,n,r,i,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fh(this.connId),this.stats_=sT(n),this.connURL=e.connectionURL_(n,a,c,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[aL]=iT,typeof location<"u"&&location.hostname&&fL.test(location.hostname)&&(s[cL]=lL),n&&(s[uL]=n),r&&(s[hL]=r),i&&(s[Q1]=i),vL(t,dL,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,na.set("previous_websocket_failure",!0);try{var i,s,a,c;if(!HD()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Yv(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var p=h.message||h.data;p&&r.log_(p),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Yv!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return na.isInMemoryStorage||na.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){na.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=rh(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(q(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=St(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=iL(n,xH);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(PH))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OH=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[aT,Xs]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Xs&&Xs.isAvailable(),s=i&&!Xs.previouslyFailed();if(t.webSocketOnly&&(i||Yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Xs];else{var a=this.transports_=[];try{for(var c=jt(e.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(p){n={error:p}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DH=6e4,LH=5e3,MH=10*1024,FH=100*1024,pw="t",NR="d",UH="s",AR="r",jH="e",RR="o",xR="a",PR="n",OR="p",BH="h",EL=function(){function e(t,n,r,i,s,a,c,l,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=l,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fh("c:"+this.id+":"),this.transportManager_=new OH(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=If(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>FH?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>MH?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(pw in t){var n=t[pw];n===xR?this.upgradeIfSecondaryHealthy_():n===AR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===RR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Xl("t",t),r=Xl("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:OR,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Xl("t",t),r=Xl("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Xl(pw,t);if(NR in t){var r=t[NR];if(n===BH)this.onHandshake_(r);else if(n===PR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===UH?this.onConnectionShutdown_(r):n===AR?this.onReset_(r):n===jH?G1("Server Error: "+r):n===RR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):G1("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),iT!==r&&Yt("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),If(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(DH))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):If(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(LH))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:OR,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(na.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bL=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TL=function(){function e(t){this.allowedEvents_=t,this.listeners_={},q(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=de([],Kt(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){q(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DR=function(e){K(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yb()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return q(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(TL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LR=32,MR=768,Pe=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Re(){return new Pe("")}function pe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function os(e){return e.pieces_.length-e.pieceNum_}function Ue(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Pe(e.pieces_,t)}function uT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function VH(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ih(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function IL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Pe(t,0)}function Ye(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Pe)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Pe(n,0)}function ve(e){return e.pieceNum_>=e.pieces_.length}function kn(e,t){var n=pe(e),r=pe(t);if(n===null)return t;if(n===r)return kn(Ue(e),Ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function $H(e,t){for(var n=ih(e,0),r=ih(t,0),i=0;i<n.length&&i<r.length;i++){var s=Ua(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function cT(e,t){if(os(e)!==os(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Er(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(os(e)>os(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var qH=function(){function e(t,n){this.errorPrefix_=n,this.parts_=ih(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=tm(this.parts_[r]);SL(this)}return e}();function zH(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=tm(t),SL(e)}function HH(e){var t=e.parts_.pop();e.byteLength_-=tm(t),e.parts_.length>0&&(e.byteLength_-=1)}function SL(e){if(e.byteLength_>MR)throw new Error(e.errorPrefix_+"has a key path longer than "+MR+" bytes ("+e.byteLength_+").");if(e.parts_.length>LR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+LR+") or object contains a cycle "+Qs(e))}function Qs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WH=function(e){K(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return q(n==="visible","Unknown event type: "+n),[this.visible_]},t}(TL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jl=1e3,KH=60*5*1e3,GH=3*1e3,FR=30*1e3,QH=1.3,YH=3e4,XH="server_kill",UR=3,ha=function(e){K(t,e);function t(n,r,i,s,a,c,l,h){var p=e.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=s,p.onServerInfoUpdate_=a,p.authTokenProvider_=c,p.appCheckTokenProvider_=l,p.authOverride_=h,p.id=t.nextPersistentConnectionId_++,p.log_=Fh("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=Jl,p.maxReconnectDelay_=KH,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,h&&!HD())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return WH.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&DR.getInstance().on("online",p.onOnline_,p),p}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(St(a)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new Mt,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(l){var h=l.d;l.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[c];l===void 0||a!==l||(delete r.outstandingGets_[c],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},GH),this.connected_&&this.sendGet_(c),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");var l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(a,l),this.connected_&&this.sendListen_(l)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var c={p:s},l="q";n.tag&&(c.q=i._queryObject,c.t=n.tag),c.h=n.hashFn(),this.sendRequest(l,c,function(h){var p=h.d,v=h.s;t.warnOnListenWarnings_(p,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,p))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&ur(n,"w")){var i=Ta(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Yt("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||vz(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=FR)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=pz(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var c=a.s,l=a.d||"error";n.authToken_===r&&(c==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(c,l))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},c="n";s&&(a.q=i,a.t=s),this.sendRequest(c,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(c){s&&setTimeout(function(){s(c.s,c.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var c={p:r,d:i};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(c){r.log_(i+" response",c),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(c.s,c.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var c=s.d;r.log_("reportStats","Error sending stats: "+c)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+St(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):G1("Unrecognized action received from server: "+St(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Jl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>YH&&(this.reconnectDelay_=Jl),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*QH)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return A(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,p,v,m,y,w,I,C=this;return N(this,function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())},p=function(T){q(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(T)},this.realtime_={close:h,sendRequest:p},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return m=Kt.apply(void 0,[b.sent(),2]),y=m[0],w=m[1],c?Dt("getToken() completed but was canceled"):(Dt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,l=new EL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(T){Yt(T+" ("+C.repoInfo_.toString()+")"),C.interrupt(XH)},a)),[3,4];case 3:return I=b.sent(),this.log_("Failed to get token: "+I),c||(this.repoInfo_.nodeAdmin&&Yt(I),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Dt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Dt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],H1(this.interruptReasons_)&&(this.reconnectDelay_=Jl,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return nT(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Pe(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Dt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=UR&&(this.reconnectDelay_=FR,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Dt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=UR&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=jt(this.listens.values()),c=a.next();!c.done;c=a.next()){var l=c.value;try{for(var h=(i=void 0,jt(l.values())),p=h.next();!p.done;p=h.next()){var v=p.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+JD.replace(/\./g,"-")]=1,Yb()?n["framework.cordova"]=1:zD()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=DR.getInstance().currentlyOnline();return H1(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(bL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rm=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Ee(so,t),i=new Ee(so,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Ee.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Op,kL=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Op},set:function(n){Op=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Ua(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw Bc("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Ee.MIN},t.prototype.maxPost=function(){return new Ee(Ri,Op)},t.prototype.makePost=function(n,r){return q(typeof n=="string","KeyIndex indexValue must always be a string."),new Ee(n,Op)},t.prototype.toString=function(){return".key"},t}(rm),Ti=new kL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dp=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Qr=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Qi.EMPTY_NODE,this.right=s??Qi.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Qi.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Qi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),JH=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Qr(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Qi=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Qr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qr.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Dp(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Dp(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Dp(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Dp(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new JH,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZH(e,t){return Ua(e.name,t.name)}function lT(e,t){return Ua(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y1;function e8(e){Y1=e}var CL=function(e){return typeof e=="number"?"number:"+oL(e):"string:"+e},NL=function(e){if(e.isLeafNode()){var t=e.val();q(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ur(t,".sv"),"Priority must be a string or number.")}else q(e===Y1||e.isEmpty(),"priority of unexpected type.");q(e===Y1||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jR,hc=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),NL(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return jR},set:function(t){jR=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ve(t)?this:pe(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=pe(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||os(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+CL(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=oL(this.value_):t+=this.value_,this.lazyHash_=nL(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return q(i>=0,"Unknown leaf type: "+n),q(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AL,RL;function t8(e){AL=e}function n8(e){RL=e}var r8=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Ua(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Ee.MIN},t.prototype.maxPost=function(){return new Ee(Ri,new hc("[PRIORITY-POST]",RL))},t.prototype.makePost=function(n,r){var i=AL(n);return new Ee(r,new hc("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(rm),Ve=new r8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i8=Math.log(2),o8=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/i8,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),Xv=function(e,t,n,r){e.sort(t);var i=function(l,h){var p=h-l,v,m;if(p===0)return null;if(p===1)return v=e[l],m=n?n(v):v,new Qr(m,v.node,Qr.BLACK,null,null);var y=parseInt(p/2,10)+l,w=i(l,y),I=i(y+1,h);return v=e[y],m=n?n(v):v,new Qr(m,v.node,Qr.BLACK,w,I)},s=function(l){for(var h=null,p=null,v=e.length,m=function(b,T){var S=v-b,x=v;v-=b;var L=i(S+1,x),P=e[S],$=n?n(P):P;y(new Qr($,P.node,T,null,L))},y=function(b){h?(h.left=b,h=b):(p=b,h=b)},w=0;w<l.count;++w){var I=l.nextBitIsOne(),C=Math.pow(2,l.count-(w+1));I?m(C,Qr.BLACK):(m(C,Qr.BLACK),m(C,Qr.RED))}return p},a=new o8(e.length),c=s(a);return new Qi(r||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vw,Tu={},Jv=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return q(Tu&&Ve,"ChildrenNode.ts has not been loaded"),vw=vw||new e({".priority":Tu},{".priority":Ve}),vw},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=Ta(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Qi?n:null},e.prototype.hasIndex=function(t){return ur(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){q(t!==Ti,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Ee.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var c;i?c=Xv(r,t.getCompare()):c=Tu;var l=t.toString(),h=ne({},this.indexSet_);h[l]=t;var p=ne({},this.indexes_);return p[l]=c,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Kv(this.indexes_,function(s,a){var c=Ta(r.indexSet_,a);if(q(c,"Missing index implementation for "+a),s===Tu)if(c.isDefinedOn(t.node)){for(var l=[],h=n.getIterator(Ee.Wrap),p=h.getNext();p;)p.name!==t.name&&l.push(p),p=h.getNext();return l.push(t),Xv(l,c.getCompare())}else return Tu;else{var v=n.get(t.name),m=s;return v&&(m=m.remove(new Ee(t.name,v))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Kv(this.indexes_,function(i){if(i===Tu)return i;var s=n.get(t.name);return s?i.remove(new Ee(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zl,le=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&NL(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Zl||(Zl=new e(new Qi(lT),null,Jv.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Zl},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Zl:n},e.prototype.getChild=function(t){var n=pe(t);return n===null?this:this.getImmediateChild(n).getChild(Ue(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(q(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Ee(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Zl:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=pe(t);if(r===null)return n;q(pe(t)!==".priority"||os(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Ue(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Ve,function(l,h){n[l]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!t&&s&&i<2*r){var a=[];for(var c in n)a[c]=n[c];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+CL(this.getPriority().val())+":"),this.forEachChild(Ve,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":nL(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Ee(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Ee(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Ee(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Ee.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Ee.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Uh?-1:0},e.prototype.withIndex=function(t){if(t===Ti||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===Ti||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Ve),i=n.getIterator(Ve),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===Ti?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),s8=function(e){K(t,e);function t(){return e.call(this,new Qi(lT),le.EMPTY_NODE,Jv.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return le.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(le),Uh=new s8;Object.defineProperties(Ee,{MIN:{value:new Ee(so,le.EMPTY_NODE)},MAX:{value:new Ee(Ri,Uh)}});kL.__EMPTY_NODE=le.EMPTY_NODE;hc.__childrenNodeConstructor=le;e8(Uh);n8(Uh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a8=!0;function et(e,t){if(t===void 0&&(t=null),e===null)return le.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),q(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new hc(n,et(t))}if(!(e instanceof Array)&&a8){var r=[],i=!1,s=e;if(At(s,function(h,p){if(h.substring(0,1)!=="."){var v=et(p);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Ee(h,v)))}}),r.length===0)return le.EMPTY_NODE;var a=Xv(r,ZH,function(h){return h.name},lT);if(i){var c=Xv(r,Ve.getCompare());return new le(a,et(t),new Jv({".priority":c},{".priority":Ve}))}else return new le(a,et(t),Jv.Default)}else{var l=le.EMPTY_NODE;return At(e,function(h,p){if(ur(e,h)&&h.substring(0,1)!=="."){var v=et(p);(v.isLeafNode()||!v.isEmpty())&&(l=l.updateImmediateChild(h,v))}}),l.updatePriority(et(t))}}t8(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fT=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,q(!ve(n)&&pe(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Ua(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=et(n),s=le.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ee(r,s)},t.prototype.maxPost=function(){var n=le.EMPTY_NODE.updateChild(this.indexPath_,Uh);return new Ee(Ri,n)},t.prototype.toString=function(){return ih(this.indexPath_,0).join("/")},t}(rm);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u8=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Ua(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Ee.MIN},t.prototype.maxPost=function(){return Ee.MAX},t.prototype.makePost=function(n,r){var i=et(n);return new Ee(r,i)},t.prototype.toString=function(){return".value"},t}(rm),hT=new u8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",X1="-",xL="z",PL=786,c8=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=dc.charAt(n%64),n=Math.floor(n/64);q(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=dc.charAt(t[i]);return q(a.length===20,"nextPushId: Length should be 20."),a}}(),BR=function(e){if(e===""+rT)return X1;var t=Qv(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<PL)return n.push(X1),n.join("");for(var i=n.length-1;i>=0&&n[i]===xL;)i--;if(i===-1)return Ri;var s=n[i],a=dc.charAt(dc.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},VR=function(e){if(e===""+sL)return so;var t=Qv(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===X1?n.length===1?""+rT:(delete n[n.length-1],n.join("")):(n[n.length-1]=dc.charAt(dc.indexOf(n[n.length-1])-1),n.join("")+xL.repeat(PL-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(e){return{type:"value",snapshotNode:e}}function pc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function oh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function sh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function l8(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dT=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){q(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=t.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(oh(n,c)):q(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(pc(n,r)):a.trackChildChange(sh(n,r,c))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ve,function(i,s){n.hasChild(i)||r.trackChildChange(oh(i,s))}),n.isLeafNode()||n.forEachChild(Ve,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(sh(i,s,a))}else r.trackChildChange(pc(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?le.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DL=function(){function e(t){this.indexedFilter_=new dT(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Ee(n,r))||(r=le.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=le.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(le.EMPTY_NODE);var s=this;return n.forEachChild(Ve,function(a,c){s.matches(new Ee(a,c))||(i=i.updateImmediateChild(a,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f8=function(){function e(t){this.rangedFilter_=new DL(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Ee(n,r))||(r=le.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=le.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var c=s.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:l=this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(c.name,c.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(le.EMPTY_NODE);var h=void 0,p=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(C,b){return m(b,C)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var c=s.getNext();!y&&v(h,c)<=0&&(y=!0);var l=y&&a<this.limit_&&v(c,p)<=0;l?a++:i=i.updateImmediateChild(c.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var c=this.index_.getCompare();a=function(T,S){return c(S,T)}}else a=this.index_.getCompare();var l=t;q(l.numChildren()===this.limit_,"");var h=new Ee(n,r),p=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(l.hasChild(n)){for(var m=l.getImmediateChild(n),y=i.getChildAfterChild(this.index_,p,this.reverse_);y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),I=v&&!r.isEmpty()&&w>=0;if(I)return s!=null&&s.trackChildChange(sh(n,r,m)),l.updateImmediateChild(n,r);s!=null&&s.trackChildChange(oh(n,m));var C=l.updateImmediateChild(n,le.EMPTY_NODE),b=y!=null&&this.rangedFilter_.matches(y);return b?(s!=null&&s.trackChildChange(pc(y.name,y.node)),C.updateImmediateChild(y.name,y.node)):C}else return r.isEmpty()?t:v&&a(p,h)>=0?(s!=null&&(s.trackChildChange(oh(p.name,p.node)),s.trackChildChange(pc(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(p.name,le.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LL=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:so},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ri},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ve},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function h8(e){return e.loadsAllData()?new dT(e.getIndex()):e.hasLimit()?new f8(e):new DL(e)}function d8(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function p8(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function J1(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function v8(e,t,n){var r;if(e.index_===Ti)typeof t=="string"&&(t=BR(t)),r=J1(e,t,n);else{var i=void 0;n==null?i=Ri:i=BR(n),r=J1(e,t,i)}return r.startAfterSet_=!0,r}function Z1(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function g8(e,t,n){var r,i;return e.index_===Ti?(typeof t=="string"&&(t=VR(t)),i=Z1(e,t,n)):(n==null?r=so:r=VR(n),i=Z1(e,t,r)),i.endBeforeSet_=!0,i}function im(e,t){var n=e.copy();return n.index_=t,n}function $R(e){var t={};if(e.isDefault())return t;var n;return e.index_===Ve?n="$priority":e.index_===hT?n="$value":e.index_===Ti?n="$key":(q(e.index_ instanceof fT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=St(n),e.startSet_&&(t.startAt=St(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+St(e.indexStartName_))),e.endSet_&&(t.endAt=St(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+St(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function qR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ve&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m8=function(e){K(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=Fh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);var l=t.getListenId_(n,i),h={};this.listens_[l]=h;var p=$R(n._queryParams);this.restRequest_(c+".json",p,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(c,y,!1,i),Ta(a.listens_,l)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",s(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=$R(n._queryParams),s=n._path.toString(),a=new Mt;return this.restRequest_(s+".json",i,function(c,l){var h=l;c===404&&(h=null,c=null),c===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var c=Kt(a,2),l=c[0],h=c[1];l&&l.accessToken&&(r.auth=l.accessToken),h&&h.token&&(r.ac=h.token);var p=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+gz(r);s.log_("Sending REST request for "+p);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);var m=null;if(v.status>=200&&v.status<300){try{m=rh(v.responseText)}catch{Yt("Failed to parse JSON response for "+p+": "+v.responseText)}i(null,m)}else v.status!==401&&v.status!==404&&Yt("Got unsuccessful REST response for "+p+" Status: "+v.status),i(v.status);i=null}},v.open("GET",p,!0),v.send()})},t}(bL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y8=function(){function e(){this.rootNode_=le.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(){return{value:null,children:new Map}}function qc(e,t,n){if(ve(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=pe(t);e.children.has(r)||e.children.set(r,Zv());var i=e.children.get(r);t=Ue(t),qc(i,t,n)}}function eE(e,t){if(ve(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ve,function(s,a){qc(e,new Pe(s),a)}),eE(e,t)}else if(e.children.size>0){var r=pe(t);if(t=Ue(t),e.children.has(r)){var i=eE(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function tE(e,t,n){e.value!==null?n(t,e.value):_8(e,function(r,i){var s=new Pe(t.toString()+"/"+r);tE(i,s,n)})}function _8(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ML=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=ne({},t);return this.last_&&At(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zR=10*1e3,w8=30*1e3,E8=5*60*1e3,b8=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ML(t);var r=zR+(w8-zR)*Math.random();If(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;At(n,function(s,a){a>0&&ur(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),If(this.reportStats_.bind(this),Math.floor(Math.random()*2*E8))},e}();function T8(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zr||(Zr={}));function pT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function gT(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I8=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Zr.ACK_USER_WRITE,this.source=pT()}return e.prototype.operationForChild=function(t){if(ve(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Pe(t));return new e(Re(),n,this.revert)}else return q(pe(this.path)===t,"operationForChild called for unrelated child."),new e(Ue(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FL=function(){function e(t,n){this.source=t,this.path=n,this.type=Zr.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ve(this.path)?new e(this.source,Re()):new e(this.source,Ue(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var om=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Zr.OVERWRITE}return e.prototype.operationForChild=function(t){return ve(this.path)?new e(this.source,Re(),this.snap.getImmediateChild(t)):new e(this.source,Ue(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mT=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Zr.MERGE}return e.prototype.operationForChild=function(t){if(ve(this.path)){var n=this.children.subtree(new Pe(t));return n.isEmpty()?null:n.value?new om(this.source,Re(),n.value):new e(this.source,Re(),n)}else return q(pe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ue(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(ve(t))return this.isFullyInitialized()&&!this.filtered_;var n=pe(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S8=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function k8(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(l8(a.childName,a.snapshotNode))}),ef(e,i,"child_removed",t,r,n),ef(e,i,"child_added",t,r,n),ef(e,i,"child_moved",s,r,n),ef(e,i,"child_changed",t,r,n),ef(e,i,"value",t,r,n),i}function ef(e,t,n,r,i,s){var a=r.filter(function(c){return c.type===n});a.sort(function(c,l){return N8(e,c,l)}),a.forEach(function(c){var l=C8(e,c,s);i.forEach(function(h){h.respondsTo(c.type)&&t.push(h.createEvent(l,e.query_))})})}function C8(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function N8(e,t,n){if(t.childName==null||n.childName==null)throw Bc("Should only compare child_ events.");var r=new Ee(t.childName,t.snapshotNode),i=new Ee(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(e,t){return{eventCache:e,serverCache:t}}function kf(e,t,n,r){return sm(new ss(t,n,r),e.serverCache)}function UL(e,t,n,r){return sm(e.eventCache,new ss(t,n,r))}function eg(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ia(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gw,A8=function(){return gw||(gw=new Qi(sH)),gw},cr=function(){function e(t,n){n===void 0&&(n=A8()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return At(t,function(r,i){n=n.set(new Pe(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Re(),value:this.value};if(ve(t))return null;var r=pe(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(Ue(t),n);if(s!=null){var a=Ye(new Pe(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(ve(t))return this;var n=pe(t),r=this.children.get(n);return r!==null?r.subtree(Ue(t)):new e(null)},e.prototype.set=function(t,n){if(ve(t))return new e(n,this.children);var r=pe(t),i=this.children.get(r)||new e(null),s=i.set(Ue(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(ve(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=pe(t),r=this.children.get(n);if(r){var i=r.remove(Ue(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(ve(t))return this.value;var n=pe(t),r=this.children.get(n);return r?r.get(Ue(t)):null},e.prototype.setTree=function(t,n){if(ve(t))return n;var r=pe(t),i=this.children.get(r)||new e(null),s=i.setTree(Ue(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Re(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(Ye(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Re(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(ve(t))return null;var s=pe(t),a=this.children.get(s);return a?a.findOnPath_(Ue(t),Ye(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Re(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(ve(t))return this;this.value&&r(n,this.value);var i=pe(t),s=this.children.get(i);return s?s.foreachOnPath_(Ue(t),Ye(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Re(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Ye(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new cr(null))},e}();function Cf(e,t,n){if(ve(t))return new Zi(new cr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=kn(i,t);return s=s.updateChild(a,n),new Zi(e.writeTree_.set(i,s))}else{var c=new cr(n),l=e.writeTree_.setTree(t,c);return new Zi(l)}}function nE(e,t,n){var r=e;return At(n,function(i,s){r=Cf(r,Ye(t,i),s)}),r}function HR(e,t){if(ve(t))return Zi.empty();var n=e.writeTree_.setTree(t,new cr(null));return new Zi(n)}function rE(e,t){return ja(e,t)!=null}function ja(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(kn(n.path,t)):null}function WR(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ve,function(r,i){t.push(new Ee(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Ee(r,i.value))}),t}function Jo(e,t){if(ve(t))return e;var n=ja(e,t);return n!=null?new Zi(new cr(n)):new Zi(e.writeTree_.subtree(t))}function iE(e){return e.writeTree_.isEmpty()}function vc(e,t){return jL(Re(),e.writeTree_,t)}function jL(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(q(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=jL(Ye(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ye(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(e,t){return qL(t,e)}function R8(e,t,n,r,i){q(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Cf(e.visibleWrites,t,n)),e.lastWriteId=r}function x8(e,t,n,r){q(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=nE(e.visibleWrites,t,n),e.lastWriteId=r}function P8(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function O8(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});q(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var c=e.allWrites[a];c.visible&&(a>=n&&D8(c,r.path)?i=!1:Er(r.path,c.path)&&(s=!0)),a--}if(i){if(s)return L8(e),!0;if(r.snap)e.visibleWrites=HR(e.visibleWrites,r.path);else{var l=r.children;At(l,function(h){e.visibleWrites=HR(e.visibleWrites,Ye(r.path,h))})}return!0}else return!1}function D8(e,t){if(e.snap)return Er(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Er(Ye(e.path,n),t))return!0;return!1}function L8(e){e.visibleWrites=BL(e.allWrites,M8,Re()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function M8(e){return e.visible}function BL(e,t,n){for(var r=Zi.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,c=void 0;if(s.snap)Er(n,a)?(c=kn(n,a),r=Cf(r,c,s.snap)):Er(a,n)&&(c=kn(a,n),r=Cf(r,Re(),s.snap.getChild(c)));else if(s.children){if(Er(n,a))c=kn(n,a),r=nE(r,c,s.children);else if(Er(a,n))if(c=kn(a,n),ve(c))r=nE(r,Re(),s.children);else{var l=Ta(s.children,pe(c));if(l){var h=l.getChild(Ue(c));r=Cf(r,Re(),h)}}}else throw Bc("WriteRecord should have .snap or .children")}}return r}function VL(e,t,n,r,i){if(!r&&!i){var s=ja(e.visibleWrites,t);if(s!=null)return s;var a=Jo(e.visibleWrites,t);if(iE(a))return n;if(n==null&&!rE(a,Re()))return null;var c=n||le.EMPTY_NODE;return vc(a,c)}else{var l=Jo(e.visibleWrites,t);if(!i&&iE(l))return n;if(!i&&n==null&&!rE(l,Re()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(Er(m.path,t)||Er(t,m.path))},p=BL(e.allWrites,h,t),c=n||le.EMPTY_NODE;return vc(p,c)}}function F8(e,t,n){var r=le.EMPTY_NODE,i=ja(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ve,function(c,l){r=r.updateImmediateChild(c,l)}),r;if(n){var s=Jo(e.visibleWrites,t);return n.forEachChild(Ve,function(c,l){var h=vc(Jo(s,new Pe(c)),l);r=r.updateImmediateChild(c,h)}),WR(s).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}else{var a=Jo(e.visibleWrites,t);return WR(a).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}}function U8(e,t,n,r,i){q(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Ye(t,n);if(rE(e.visibleWrites,s))return null;var a=Jo(e.visibleWrites,s);return iE(a)?i.getChild(n):vc(a,i.getChild(n))}function j8(e,t,n,r){var i=Ye(t,n),s=ja(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Jo(e.visibleWrites,i);return vc(a,r.getNode().getImmediateChild(n))}else return null}function B8(e,t){return ja(e.visibleWrites,t)}function V8(e,t,n,r,i,s,a){var c,l=Jo(e.visibleWrites,t),h=ja(l,Re());if(h!=null)c=h;else if(n!=null)c=vc(l,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){for(var p=[],v=a.getCompare(),m=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a),y=m.getNext();y&&p.length<i;)v(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function $8(){return{visibleWrites:Zi.empty(),allWrites:[],lastWriteId:-1}}function tg(e,t,n,r){return VL(e.writeTree,e.treePath,t,n,r)}function yT(e,t){return F8(e.writeTree,e.treePath,t)}function KR(e,t,n,r){return U8(e.writeTree,e.treePath,t,n,r)}function ng(e,t){return B8(e.writeTree,Ye(e.treePath,t))}function q8(e,t,n,r,i,s){return V8(e.writeTree,e.treePath,t,n,r,i,s)}function _T(e,t,n){return j8(e.writeTree,e.treePath,t,n)}function $L(e,t){return qL(Ye(e.treePath,t),e.writeTree)}function qL(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z8=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),q(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,sh(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,oh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,pc(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,sh(r,t.snapshotNode,i.oldSnap));else throw Bc("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H8=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),zL=new H8,wT=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new ss(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _T(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ia(this.viewCache_),s=q8(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(e){return{filter:e}}function K8(e,t){q(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),q(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function G8(e,t,n,r,i){var s=new z8,a,c;if(n.type===Zr.OVERWRITE){var l=n;l.source.fromUser?a=oE(e,t,l.path,l.snap,r,i,s):(q(l.source.fromServer,"Unknown source."),c=l.source.tagged||t.serverCache.isFiltered()&&!ve(l.path),a=rg(e,t,l.path,l.snap,r,i,c,s))}else if(n.type===Zr.MERGE){var h=n;h.source.fromUser?a=Y8(e,t,h.path,h.children,r,i,s):(q(h.source.fromServer,"Unknown source."),c=h.source.tagged||t.serverCache.isFiltered(),a=sE(e,t,h.path,h.children,r,i,c,s))}else if(n.type===Zr.ACK_USER_WRITE){var p=n;p.revert?a=Z8(e,t,p.path,r,i,s):a=X8(e,t,p.path,p.affectedTree,r,i,s)}else if(n.type===Zr.LISTEN_COMPLETE)a=J8(e,t,n.path,r,s);else throw Bc("Unknown operation type: "+n.type);var v=s.getChanges();return Q8(t,a,v),{viewCache:a,changes:v}}function Q8(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=eg(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(OL(eg(t)))}}function HL(e,t,n,r,i,s){var a=t.eventCache;if(ng(r,n)!=null)return t;var c=void 0,l=void 0;if(ve(n))if(q(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=Ia(t),p=h instanceof le?h:le.EMPTY_NODE,v=yT(r,p);c=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var m=tg(r,Ia(t));c=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=pe(n);if(y===".priority"){q(os(n)===1,"Can't have a priority with additional path components");var w=a.getNode();l=t.serverCache.getNode();var I=KR(r,n,w,l);I!=null?c=e.filter.updatePriority(w,I):c=a.getNode()}else{var C=Ue(n),b=void 0;if(a.isCompleteForChild(y)){l=t.serverCache.getNode();var T=KR(r,n,a.getNode(),l);T!=null?b=a.getNode().getImmediateChild(y).updateChild(C,T):b=a.getNode().getImmediateChild(y)}else b=_T(r,y,t.serverCache);b!=null?c=e.filter.updateChild(a.getNode(),y,b,C,i,s):c=a.getNode()}}return kf(t,c,a.isFullyInitialized()||ve(n),e.filter.filtersNodes())}function rg(e,t,n,r,i,s,a,c){var l=t.serverCache,h,p=a?e.filter:e.filter.getIndexedFilter();if(ve(n))h=p.updateFullNode(l.getNode(),r,null);else if(p.filtersNodes()&&!l.isFiltered()){var v=l.getNode().updateChild(n,r);h=p.updateFullNode(l.getNode(),v,null)}else{var m=pe(n);if(!l.isCompleteForPath(n)&&os(n)>1)return t;var y=Ue(n),w=l.getNode().getImmediateChild(m),I=w.updateChild(y,r);m===".priority"?h=p.updatePriority(l.getNode(),I):h=p.updateChild(l.getNode(),m,I,y,zL,null)}var C=UL(t,h,l.isFullyInitialized()||ve(n),p.filtersNodes()),b=new wT(i,C,s);return HL(e,C,n,i,b,c)}function oE(e,t,n,r,i,s,a){var c=t.eventCache,l,h,p=new wT(i,t,s);if(ve(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=kf(t,h,!0,e.filter.filtersNodes());else{var v=pe(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),l=kf(t,h,c.isFullyInitialized(),c.isFiltered());else{var m=Ue(n),y=c.getNode().getImmediateChild(v),w=void 0;if(ve(m))w=r;else{var I=p.getCompleteChild(v);I!=null?uT(m)===".priority"&&I.getChild(IL(m)).isEmpty()?w=I:w=I.updateChild(m,r):w=le.EMPTY_NODE}if(y.equals(w))l=t;else{var C=e.filter.updateChild(c.getNode(),v,w,m,p,a);l=kf(t,C,c.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function GR(e,t){return e.eventCache.isCompleteForChild(t)}function Y8(e,t,n,r,i,s,a){var c=t;return r.foreach(function(l,h){var p=Ye(n,l);GR(t,pe(p))&&(c=oE(e,c,p,h,i,s,a))}),r.foreach(function(l,h){var p=Ye(n,l);GR(t,pe(p))||(c=oE(e,c,p,h,i,s,a))}),c}function QR(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function sE(e,t,n,r,i,s,a,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var l=t,h;ve(n)?h=r:h=new cr(null).setTree(n,r);var p=t.serverCache.getNode();return h.children.inorderTraversal(function(v,m){if(p.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),w=QR(e,y,m);l=rg(e,l,new Pe(v),w,i,s,a,c)}}),h.children.inorderTraversal(function(v,m){var y=!t.serverCache.isCompleteForChild(v)&&m.value===void 0;if(!p.hasChild(v)&&!y){var w=t.serverCache.getNode().getImmediateChild(v),I=QR(e,w,m);l=rg(e,l,new Pe(v),I,i,s,a,c)}}),l}function X8(e,t,n,r,i,s,a){if(ng(i,n)!=null)return t;var c=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(ve(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return rg(e,t,n,l.getNode().getChild(n),i,s,c,a);if(ve(n)){var h=new cr(null);return l.getNode().forEachChild(Ti,function(v,m){h=h.set(new Pe(v),m)}),sE(e,t,n,h,i,s,c,a)}else return t}else{var p=new cr(null);return r.foreach(function(v,m){var y=Ye(n,v);l.isCompleteForPath(y)&&(p=p.set(v,l.getNode().getChild(y)))}),sE(e,t,n,p,i,s,c,a)}}function J8(e,t,n,r,i){var s=t.serverCache,a=UL(t,s.getNode(),s.isFullyInitialized()||ve(n),s.isFiltered());return HL(e,a,n,r,zL,i)}function Z8(e,t,n,r,i,s){var a;if(ng(r,n)!=null)return t;var c=new wT(r,t,i),l=t.eventCache.getNode(),h=void 0;if(ve(n)||pe(n)===".priority"){var p=void 0;if(t.serverCache.isFullyInitialized())p=tg(r,Ia(t));else{var v=t.serverCache.getNode();q(v instanceof le,"serverChildren would be complete if leaf node"),p=yT(r,v)}p=p,h=e.filter.updateFullNode(l,p,s)}else{var m=pe(n),y=_T(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=l.getImmediateChild(m)),y!=null?h=e.filter.updateChild(l,m,y,Ue(n),c,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(l,m,le.EMPTY_NODE,Ue(n),c,s):h=l,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=tg(r,Ia(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||ng(r,Re())!=null,kf(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eW=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new dT(r.getIndex()),s=h8(r);this.processor_=W8(s);var a=n.serverCache,c=n.eventCache,l=i.updateFullNode(le.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(le.EMPTY_NODE,c.getNode(),null),p=new ss(l,a.isFullyInitialized(),i.filtersNodes()),v=new ss(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=sm(v,p),this.eventGenerator_=new S8(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function tW(e){return e.viewCache_.serverCache.getNode()}function nW(e){return eg(e.viewCache_)}function rW(e,t){var n=Ia(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ve(t)&&!n.getImmediateChild(pe(t)).isEmpty())?n.getChild(t):null}function YR(e){return e.eventRegistrations_.length===0}function iW(e,t){e.eventRegistrations_.push(t)}function XR(e,t,n){var r=[];if(n){q(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(l){var h=l.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var c=e.eventRegistrations_[a];if(!c.matches(t))s.push(c);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function JR(e,t,n,r){t.type===Zr.MERGE&&t.source.queryId!==null&&(q(Ia(e.viewCache_),"We should always have a full cache before handling merges"),q(eg(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=G8(e.processor_,i,t,n,r);return K8(e.processor_,s.viewCache),q(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,WL(e,s.changes,s.viewCache.eventCache.getNode(),null)}function oW(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Ve,function(s,a){r.push(pc(s,a))})}return n.isFullyInitialized()&&r.push(OL(n.getNode())),WL(e,r,n.getNode(),t)}function WL(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return k8(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ig,KL=function(){function e(){this.views=new Map}return e}();function sW(e){q(!ig,"__referenceConstructor has already been defined"),ig=e}function aW(){return q(ig,"Reference.ts has not been loaded"),ig}function uW(e){return e.views.size===0}function ET(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var c=e.views.get(a);return q(c!=null,"SyncTree gave us an op for an invalid query."),JR(c,t,n,r)}else{var l=[];try{for(var h=jt(e.views.values()),p=h.next();!p.done;p=h.next()){var c=p.value;l=l.concat(JR(c,t,n,r))}}catch(v){i={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}}function GL(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var c=tg(n,i?r:null),l=!1;c?l=!0:r instanceof le?(c=yT(n,r),l=!1):(c=le.EMPTY_NODE,l=!1);var h=sm(new ss(c,l,!1),new ss(r,i,!1));return new eW(t,h)}return a}function cW(e,t,n,r,i,s){var a=GL(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),iW(a,n),oW(a,n)}function lW(e,t,n,r){var i,s,a=t._queryIdentifier,c=[],l=[],h=as(e);if(a==="default")try{for(var p=jt(e.views.entries()),v=p.next();!v.done;v=p.next()){var m=Kt(v.value,2),y=m[0],w=m[1];l=l.concat(XR(w,n,r)),YR(w)&&(e.views.delete(y),w.query._queryParams.loadsAllData()||c.push(w.query))}}catch(I){i={error:I}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(l=l.concat(XR(w,n,r)),YR(w)&&(e.views.delete(a),w.query._queryParams.loadsAllData()||c.push(w.query)))}return h&&!as(e)&&c.push(new(aW())(t._repo,t._path)),{removed:c,events:l}}function QL(e){var t,n,r=[];try{for(var i=jt(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Zo(e,t){var n,r,i=null;try{for(var s=jt(e.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;i=i||rW(c,t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function YL(e,t){var n=t._queryParams;if(n.loadsAllData())return um(e);var r=t._queryIdentifier;return e.views.get(r)}function XL(e,t){return YL(e,t)!=null}function as(e){return um(e)!=null}function um(e){var t,n;try{for(var r=jt(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var og;function fW(e){q(!og,"__referenceConstructor has already been defined"),og=e}function hW(){return q(og,"Reference.ts has not been loaded"),og}var dW=1,ZR=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new cr(null),this.pendingWriteTree_=$8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function bT(e,t,n,r,i){return R8(e.pendingWriteTree_,t,n,r,i),i?zc(e,new om(pT(),t,n)):[]}function pW(e,t,n,r){x8(e.pendingWriteTree_,t,n,r);var i=cr.fromObject(n);return zc(e,new mT(pT(),t,i))}function qo(e,t,n){n===void 0&&(n=!1);var r=P8(e.pendingWriteTree_,t),i=O8(e.pendingWriteTree_,t);if(i){var s=new cr(null);return r.snap!=null?s=s.set(Re(),!0):At(r.children,function(a){s=s.set(new Pe(a),!0)}),zc(e,new I8(r.path,s,n))}else return[]}function jh(e,t,n){return zc(e,new om(vT(),t,n))}function vW(e,t,n){var r=cr.fromObject(n);return zc(e,new mT(vT(),t,r))}function gW(e,t){return zc(e,new FL(vT(),t))}function mW(e,t,n){var r=TT(e,n);if(r){var i=IT(r),s=i.path,a=i.queryId,c=kn(s,t),l=new FL(gT(a),c);return ST(e,s,l)}else return[]}function aE(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||XL(s,t))){var c=lW(s,t,n,r);uW(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=c.removed;a=c.events;var h=l.findIndex(function(T){return T._queryParams.loadsAllData()})!==-1,p=e.syncPointTree_.findOnPath(i,function(T,S){return as(S)});if(h&&!p){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var m=EW(v),y=0;y<m.length;++y){var w=m[y],I=w.query,C=eM(e,w);e.listenProvider_.startListening(Nf(I),sg(e,I),C.hashFn,C.onComplete)}}if(!p&&l.length>0&&!r)if(h){var b=null;e.listenProvider_.stopListening(Nf(t),b)}else l.forEach(function(T){var S=e.queryToTagMap.get(lm(T));e.listenProvider_.stopListening(Nf(T),S)});bW(e,l)}return a}function yW(e,t,n,r){var i=TT(e,r);if(i!=null){var s=IT(i),a=s.path,c=s.queryId,l=kn(a,t),h=new om(gT(c),l,n);return ST(e,a,h)}else return[]}function _W(e,t,n,r){var i=TT(e,r);if(i){var s=IT(i),a=s.path,c=s.queryId,l=kn(a,t),h=cr.fromObject(n),p=new mT(gT(c),l,h);return ST(e,a,p)}else return[]}function ex(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(I,C){var b=kn(I,r);i=i||Zo(C,b),s=s||as(C)});var a=e.syncPointTree_.get(r);a?(s=s||as(a),i=i||Zo(a,Re())):(a=new KL,e.syncPointTree_=e.syncPointTree_.set(r,a));var c;if(i!=null)c=!0;else{c=!1,i=le.EMPTY_NODE;var l=e.syncPointTree_.subtree(r);l.foreachChild(function(I,C){var b=Zo(C,Re());b&&(i=i.updateImmediateChild(I,b))})}var h=XL(a,t);if(!h&&!t._queryParams.loadsAllData()){var p=lm(t);q(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");var v=TW();e.queryToTagMap.set(p,v),e.tagToQueryMap.set(v,p)}var m=am(e.pendingWriteTree_,r),y=cW(a,t,n,m,i,c);if(!h&&!s){var w=YL(a,t);y=y.concat(IW(e,t,w))}return y}function cm(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,c){var l=kn(a,t),h=Zo(c,l);if(h)return h});return VL(i,t,s,n,r)}function wW(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,p){var v=kn(h,n);r=r||Zo(p,v)});var i=e.syncPointTree_.get(n);i?r=r||Zo(i,Re()):(i=new KL,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new ss(r,!0,!1):null,c=am(e.pendingWriteTree_,t._path),l=GL(i,t,c,s?a.getNode():le.EMPTY_NODE,s);return nW(l)}function zc(e,t){return JL(t,e.syncPointTree_,null,am(e.pendingWriteTree_,Re()))}function JL(e,t,n,r){if(ve(e.path))return ZL(e,t,n,r);var i=t.get(Re());n==null&&i!=null&&(n=Zo(i,Re()));var s=[],a=pe(e.path),c=e.operationForChild(a),l=t.children.get(a);if(l&&c){var h=n?n.getImmediateChild(a):null,p=$L(r,a);s=s.concat(JL(c,l,h,p))}return i&&(s=s.concat(ET(i,e,r,n))),s}function ZL(e,t,n,r){var i=t.get(Re());n==null&&i!=null&&(n=Zo(i,Re()));var s=[];return t.children.inorderTraversal(function(a,c){var l=n?n.getImmediateChild(a):null,h=$L(r,a),p=e.operationForChild(a);p&&(s=s.concat(ZL(p,c,l,h)))}),i&&(s=s.concat(ET(i,e,r,n))),s}function eM(e,t){var n=t.query,r=sg(e,n);return{hashFn:function(){var i=tW(t)||le.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?mW(e,n._path,r):gW(e,n._path);var s=cH(i,n);return aE(e,n,null,s)}}}function sg(e,t){var n=lm(t);return e.queryToTagMap.get(n)}function lm(e){return e._path.toString()+"$"+e._queryIdentifier}function TT(e,t){return e.tagToQueryMap.get(t)}function IT(e){var t=e.indexOf("$");return q(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Pe(e.substr(0,t))}}function ST(e,t,n){var r=e.syncPointTree_.get(t);q(r,"Missing sync point for query tag that we're tracking");var i=am(e.pendingWriteTree_,t);return ET(r,n,i,null)}function EW(e){return e.fold(function(t,n,r){if(n&&as(n)){var i=um(n);return[i]}else{var s=[];return n&&(s=QL(n)),At(r,function(a,c){s=s.concat(c)}),s}})}function Nf(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(hW())(e._repo,e._path):e}function bW(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=lm(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function TW(){return dW++}function IW(e,t,n){var r=t._path,i=sg(e,t),s=eM(e,n),a=e.listenProvider_.startListening(Nf(t),i,s.hashFn,s.onComplete),c=e.syncPointTree_.subtree(r);if(i)q(!as(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(v,m,y){if(!ve(v)&&m&&as(m))return[um(m).query];var w=[];return m&&(w=w.concat(QL(m).map(function(I){return I.query}))),At(y,function(I,C){w=w.concat(C)}),w}),h=0;h<l.length;++h){var p=l[h];e.listenProvider_.stopListening(Nf(p),sg(e,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SW=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),kW=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Ye(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return cm(this.syncTree_,this.path_)},e}(),CW=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},tx=function(e,t,n){if(!e||typeof e!="object")return e;if(q(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return NW(e[".sv"],t,n);if(typeof e[".sv"]=="object")return AW(e[".sv"],t);q(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},NW=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:q(!1,"Unexpected server value: "+e)}},AW=function(e,t,n){e.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&q(!1,"Unexpected increment value: "+r);var i=t.node();if(q(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},tM=function(e,t,n,r){return CT(t,new kW(n,e),r)},kT=function(e,t,n){return CT(e,new SW(t),n)};function CT(e,t,n){var r=e.getPriority().val(),i=tx(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,c=tx(a.getValue(),t,n);return c!==a.getValue()||i!==a.getPriority().val()?new hc(c,et(i)):e}else{var l=e;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new hc(i))),l.forEachChild(Ve,function(h,p){var v=CT(p,t.getImmediateChild(h),n);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NT=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function fm(e,t){for(var n=t instanceof Pe?t:new Pe(t),r=e,i=pe(n);i!==null;){var s=Ta(r.node.children,i)||{children:{},childCount:0};r=new NT(i,r,s),n=Ue(n),i=pe(n)}return r}function Ba(e){return e.node.value}function AT(e,t){e.node.value=t,uE(e)}function nM(e){return e.node.childCount>0}function RW(e){return Ba(e)===void 0&&!nM(e)}function hm(e,t){At(e.node.children,function(n,r){t(new NT(n,e,r))})}function rM(e,t,n,r){n&&!r&&t(e),hm(e,function(i){rM(i,t,!0,r)}),n&&r&&t(e)}function xW(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Bh(e){return new Pe(e.parent===null?e.name:Bh(e.parent)+"/"+e.name)}function uE(e){e.parent!==null&&PW(e.parent,e.name,e)}function PW(e,t,n){var r=RW(n),i=ur(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,uE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,uE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OW=/[\[\].#$\/\u0000-\u001F\u007F]/,DW=/[\[\].#$\u0000-\u001F\u007F]/,mw=10*1024*1024,dm=function(e){return typeof e=="string"&&e.length!==0&&!OW.test(e)},iM=function(e){return typeof e=="string"&&e.length!==0&&!DW.test(e)},LW=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),iM(e)},ah=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!nm(e)||e&&typeof e=="object"&&ur(e,".sv")},xi=function(e,t,n,r){r&&t===void 0||Vh(Hn(e,"value"),t,n)},Vh=function(e,t,n){var r=n instanceof Pe?new qH(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Qs(r));if(typeof t=="function")throw new Error(e+"contains a function "+Qs(r)+" with contents = "+t.toString());if(nm(t))throw new Error(e+"contains "+t.toString()+" "+Qs(r));if(typeof t=="string"&&t.length>mw/3&&tm(t)>mw)throw new Error(e+"contains a string greater than "+mw+" utf8 bytes "+Qs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(At(t,function(a,c){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!dm(a)))throw new Error(e+" contains an invalid key ("+a+") "+Qs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);zH(r,a),Vh(e,c,r),HH(r)}),i&&s)throw new Error(e+' contains ".value" child '+Qs(r)+" in addition to actual children.")}},MW=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=ih(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!dm(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort($H);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&Er(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},oM=function(e,t,n,r){if(!(r&&t===void 0)){var i=Hn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];At(t,function(a,c){var l=new Pe(a);if(Vh(i,c,Ye(n,l)),uT(l)===".priority"&&!ah(c))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),MW(i,s)}},RT=function(e,t,n){if(!(n&&t===void 0)){if(nm(t))throw new Error(Hn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ah(t))throw new Error(Hn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},FW=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Hn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},$h=function(e,t,n,r){if(!(r&&n===void 0)&&!dm(n))throw new Error(Hn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},uh=function(e,t,n,r){if(!(r&&n===void 0)&&!iM(n))throw new Error(Hn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UW=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),uh(e,t,n,r)},br=function(e,t){if(pe(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},sM=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!dm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!LW(n))throw new Error(Hn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},jW=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Hn(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BW=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function pm(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!cT(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function xT(e,t,n){pm(e,n),aM(e,function(r){return cT(r,t)})}function xr(e,t,n){pm(e,n),aM(e,function(r){return Er(r,t)||Er(t,r)})}function aM(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(VW(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function VW(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();fa&&Dt("event: "+n.toString()),$c(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uM="repo_interrupt",$W=25,qW=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zv(),this.transactionQueueTree_=new NT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function zW(e,t,n){if(e.stats_=sT(e.repoInfo_),e.forceRestClient_||fH())e.server_=new m8(e.repoInfo_,function(r,i,s,a){nx(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return rx(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{St(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ha(e.repoInfo_,t,function(r,i,s,a){nx(e,r,i,s,a)},function(r){rx(e,r)},function(r){WW(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=mH(e.repoInfo_,function(){return new b8(e.stats_,e.server_)}),e.infoData_=new y8,e.infoSyncTree_=new ZR({startListening:function(r,i,s,a){var c=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(c=jh(e.infoSyncTree_,r._path,l),setTimeout(function(){a("ok")},0)),c},stopListening:function(){}}),PT(e,"connected",!1),e.serverSyncTree_=new ZR({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(c,l){var h=a(c,l);xr(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function cM(e){var t=e.infoData_.getNode(new Pe(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function qh(e){return CW({timestamp:cM(e)})}function nx(e,t,n,r,i){e.dataUpdateCount++;var s=new Pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var c=Kv(n,function(m){return et(m)});a=_W(e.serverSyncTree_,s,c,i)}else{var l=et(n);a=yW(e.serverSyncTree_,s,l,i)}else if(r){var h=Kv(n,function(m){return et(m)});a=vW(e.serverSyncTree_,s,h)}else{var p=et(n);a=jh(e.serverSyncTree_,s,p)}var v=s;a.length>0&&(v=gc(e,s)),xr(e.eventQueue_,v,a)}function HW(e,t){e.interceptServerDataCallback_=t}function rx(e,t){PT(e,"connected",t),t===!1&&QW(e)}function WW(e,t){At(t,function(n,r){PT(e,n,r)})}function PT(e,t,n){var r=new Pe("/.info/"+t),i=et(n);e.infoData_.updateSnapshot(r,i);var s=jh(e.infoSyncTree_,r,i);xr(e.eventQueue_,r,s)}function vm(e){return e.nextWriteId_++}function KW(e,t){var n=wW(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=et(r).withIndex(t._queryParams.getIndex()),s=jh(e.serverSyncTree_,t._path,i);return xT(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Hc(e,"get for query "+St(t)+" failed: "+r),Promise.reject(new Error(r))})}function OT(e,t,n,r,i){Hc(e,"set",{path:t.toString(),value:n,priority:r});var s=qh(e),a=et(n,r),c=cm(e.serverSyncTree_,t),l=kT(a,c,s),h=vm(e),p=bT(e.serverSyncTree_,t,l,h,!0);pm(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),function(m,y){var w=m==="ok";w||Yt("set at "+t+" failed: "+m);var I=qo(e.serverSyncTree_,h,!w);xr(e.eventQueue_,t,I),us(e,i,m,y)});var v=LT(e,t);gc(e,v),xr(e.eventQueue_,v,[])}function GW(e,t,n,r){Hc(e,"update",{path:t.toString(),value:n});var i=!0,s=qh(e),a={};if(At(n,function(h,p){i=!1,a[h]=tM(Ye(t,h),et(p),e.serverSyncTree_,s)}),i)Dt("update() called with empty data.  Don't do anything."),us(e,r,"ok",void 0);else{var c=vm(e),l=pW(e.serverSyncTree_,t,a,c);pm(e.eventQueue_,l),e.server_.merge(t.toString(),n,function(h,p){var v=h==="ok";v||Yt("update at "+t+" failed: "+h);var m=qo(e.serverSyncTree_,c,!v),y=m.length>0?gc(e,t):t;xr(e.eventQueue_,y,m),us(e,r,h,p)}),At(n,function(h){var p=LT(e,Ye(t,h));gc(e,p)}),xr(e.eventQueue_,t,[])}}function QW(e){Hc(e,"onDisconnectEvents");var t=qh(e),n=Zv();tE(e.onDisconnect_,Re(),function(i,s){var a=tM(i,s,e.serverSyncTree_,t);qc(n,i,a)});var r=[];tE(n,Re(),function(i,s){r=r.concat(jh(e.serverSyncTree_,i,s));var a=LT(e,i);gc(e,a)}),e.onDisconnect_=Zv(),xr(e.eventQueue_,Re(),r)}function YW(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&eE(e.onDisconnect_,t),us(e,n,r,i)})}function ix(e,t,n,r){var i=et(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&qc(e.onDisconnect_,t,i),us(e,r,s,a)})}function XW(e,t,n,r,i){var s=et(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,c){a==="ok"&&qc(e.onDisconnect_,t,s),us(e,i,a,c)})}function JW(e,t,n,r){if(H1(n)){Dt("onDisconnect().update() called with empty data.  Don't do anything."),us(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&At(n,function(a,c){var l=et(c);qc(e.onDisconnect_,Ye(t,a),l)}),us(e,r,i,s)})}function ZW(e,t,n){var r;pe(t._path)===".info"?r=ex(e.infoSyncTree_,t,n):r=ex(e.serverSyncTree_,t,n),xT(e.eventQueue_,t._path,r)}function cE(e,t,n){var r;pe(t._path)===".info"?r=aE(e.infoSyncTree_,t,n):r=aE(e.serverSyncTree_,t,n),xT(e.eventQueue_,t._path,r)}function lM(e){e.persistentConnection_&&e.persistentConnection_.interrupt(uM)}function eK(e){e.persistentConnection_&&e.persistentConnection_.resume(uM)}function tK(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new ML(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);At(n,function(i,s){for(var a=i,c=i.length;c<r+2;c++)a+=" ";console.log(a+s)})}}function nK(e,t){e.stats_.incrementCounter(t),T8(e.statsReporter_,t)}function Hc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Dt.apply(void 0,de([r],Kt(t)))}function us(e,t,n,r){t&&$c(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function rK(e,t,n,r,i,s){Hc(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:tL(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=DT(e,t,void 0);a.currentInputSnapshot=c;var l=a.update(c.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Vh("transaction failed: Data returned ",l,a.path),a.status=0;var h=fm(e.transactionQueueTree_,t),p=Ba(h)||[];p.push(a),AT(h,p);var v=void 0;if(typeof l=="object"&&l!==null&&ur(l,".priority"))v=Ta(l,".priority"),q(ah(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=cm(e.serverSyncTree_,t)||le.EMPTY_NODE;v=m.getPriority().val()}var y=qh(e),w=et(l,v),I=kT(w,c,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=I,a.currentWriteId=vm(e);var C=bT(e.serverSyncTree_,t,I,a.currentWriteId,a.applyLocally);xr(e.eventQueue_,t,C),gm(e,e.transactionQueueTree_)}}function DT(e,t,n){return cm(e.serverSyncTree_,t,n)||le.EMPTY_NODE}function gm(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||mm(e,t),Ba(t)){var n=hM(e,t);q(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&iK(e,Bh(t),n)}else nM(t)&&hm(t,function(i){gm(e,i)})}function iK(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=DT(e,t,r),s=i,a=i.hash(),c=0;c<n.length;c++){var l=n[c];q(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var h=kn(t,l.path);s=s.updateChild(h,l.currentOutputSnapshotRaw)}var p=s.val(!0),v=t;e.server_.put(v.toString(),p,function(m){Hc(e,"transaction put response",{path:v.toString(),status:m});var y=[];if(m==="ok"){for(var w=[],I=function(b){n[b].status=2,y=y.concat(qo(e.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&w.push(function(){return n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)}),n[b].unwatcher()},C=0;C<n.length;C++)I(C);mm(e,fm(e.transactionQueueTree_,t)),gm(e,e.transactionQueueTree_),xr(e.eventQueue_,t,y);for(var C=0;C<w.length;C++)$c(w[C])}else{if(m==="datastale")for(var C=0;C<n.length;C++)n[C].status===3?n[C].status=4:n[C].status=0;else{Yt("transaction at "+v.toString()+" failed: "+m);for(var C=0;C<n.length;C++)n[C].status=4,n[C].abortReason=m}gc(e,t)}},a)}function gc(e,t){var n=fM(e,t),r=Bh(n),i=hM(e,n);return oK(e,i,r),r}function oK(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),c=function(h){var p=t[h],v=kn(n,p.path),m=!1,y;if(q(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)m=!0,y=p.abortReason,i=i.concat(qo(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=$W)m=!0,y="maxretry",i=i.concat(qo(e.serverSyncTree_,p.currentWriteId,!0));else{var w=DT(e,p.path,a);p.currentInputSnapshot=w;var I=t[h].update(w.val());if(I!==void 0){Vh("transaction failed: Data returned ",I,p.path);var C=et(I),b=typeof I=="object"&&I!=null&&ur(I,".priority");b||(C=C.updatePriority(w.getPriority()));var T=p.currentWriteId,S=qh(e),x=kT(C,w,S);p.currentOutputSnapshotRaw=C,p.currentOutputSnapshotResolved=x,p.currentWriteId=vm(e),a.splice(a.indexOf(T),1),i=i.concat(bT(e.serverSyncTree_,p.path,x,p.currentWriteId,p.applyLocally)),i=i.concat(qo(e.serverSyncTree_,T,!0))}else m=!0,y="nodata",i=i.concat(qo(e.serverSyncTree_,p.currentWriteId,!0))}xr(e.eventQueue_,n,i),i=[],m&&(t[h].status=2,function(L){setTimeout(L,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},l=0;l<t.length;l++)c(l);mm(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)$c(r[l]);gm(e,e.transactionQueueTree_)}}function fM(e,t){var n,r=e.transactionQueueTree_;for(n=pe(t);n!==null&&Ba(r)===void 0;)r=fm(r,n),t=Ue(t),n=pe(t);return r}function hM(e,t){var n=[];return dM(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function dM(e,t,n){var r=Ba(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);hm(t,function(s){dM(e,s,n)})}function mm(e,t){var n=Ba(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,AT(t,n.length>0?n:void 0)}hm(t,function(s){mm(e,s)})}function LT(e,t){var n=Bh(fM(e,t)),r=fm(e.transactionQueueTree_,t);return xW(r,function(i){yw(e,i)}),yw(e,r),rM(r,function(i){yw(e,i)}),n}function yw(e,t){var n=Ba(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(q(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(q(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(qo(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?AT(t,void 0):n.length=s+1,xr(e.eventQueue_,Bh(t),i);for(var a=0;a<r.length;a++)$c(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function aK(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=jt(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var c=a.split("=");c.length===2?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):Yt("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var lE=function(e,t){var n=uK(e),r=n.namespace;n.domain==="firebase.com"&&Ai(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||iH();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new oT(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Pe(n.pathString)}},uK=function(e){var t="",n="",r="",i="",s="",a=!0,c="https",l=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(c=e.substring(0,h-1),e=e.substring(h+2));var p=e.indexOf("/");p===-1&&(p=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(p,v)),p<v&&(i=sK(e.substring(p,v)));var m=aK(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=c==="https"||c==="wss",l=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pM=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+St(this.snapshot.exportVal())},e}(),vM=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gM=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cK=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Mt;return YW(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){br("OnDisconnect.remove",this._path);var t=new Mt;return ix(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){br("OnDisconnect.set",this._path),xi("OnDisconnect.set",t,this._path,!1);var n=new Mt;return ix(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){br("OnDisconnect.setWithPriority",this._path),xi("OnDisconnect.setWithPriority",t,this._path,!1),RT("OnDisconnect.setWithPriority",n,!1);var r=new Mt;return XW(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){br("OnDisconnect.update",this._path),oM("OnDisconnect.update",t,this._path,!1);var n=new Mt;return JW(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return ve(this._path)?null:uT(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Di(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=qR(this._queryParams),n=nT(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return qR(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=he(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=cT(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+VH(this._path)},e}();function ym(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ps(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ti){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==so)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==Ri)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Ve){if(t!=null&&!ah(t)||n!=null&&!ah(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(q(e.getIndex()instanceof fT||e.getIndex()===hT,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function _m(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Di=function(e){K(t,e);function t(n,r){return e.call(this,n,r,new LL,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=IL(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Or),wm=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Pe(t),r=Sa(this.ref,t);return new e(this._node.getChild(n),r,Ve)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,Sa(n.ref,i),Ve))})},e.prototype.hasChild=function(t){var n=new Pe(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function mM(e,t){return e=he(e),e._checkNotDeleted("ref"),t!==void 0?Sa(e._root,t):e._root}function ox(e,t){e=he(e),e._checkNotDeleted("refFromURL");var n=lE(t,e._repo.repoInfo_.nodeAdmin);sM("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Ai("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),mM(e,n.path.toString())}function Sa(e,t){return e=he(e),pe(e._path)===null?UW("child","path",t,!1):uh("child","path",t,!1),new Di(e._repo,Ye(e._path,t))}function lK(e,t){e=he(e),br("push",e._path),xi("push",t,e._path,!0);var n=cM(e._repo),r=c8(n),i=Sa(e,r),s=Sa(e,r),a;return t!=null?a=MT(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function fK(e){return br("remove",e._path),MT(e,null)}function MT(e,t){e=he(e),br("set",e._path),xi("set",t,e._path,!1);var n=new Mt;return OT(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function hK(e,t){e=he(e),br("setPriority",e._path),RT("setPriority",t,!1);var n=new Mt;return OT(e._repo,Ye(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function dK(e,t,n){if(br("setWithPriority",e._path),xi("setWithPriority",t,e._path,!1),RT("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Mt;return OT(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function pK(e,t){oM("update",t,e._path,!1);var n=new Mt;return GW(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function vK(e){return e=he(e),KW(e._repo,e).then(function(t){return new wm(t,new Di(e._repo,e._path),e._queryParams.getIndex())})}var yM=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new pM("value",this,new wm(t.snapshotNode,new Di(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new vM(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),_M=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new vM(this,t,n):null},e.prototype.createEvent=function(t,n){q(t.childName!=null,"Child events should have a childName.");var r=Sa(new Di(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new pM(t.type,this,new wm(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function zh(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,c=function(p,v){cE(e._repo,e,h),a(p,v)};c.userCallback=n.userCallback,c.context=n.context,n=c}var l=new gM(n,s||void 0),h=t==="value"?new yM(l):new _M(t,l);return ZW(e._repo,e,h),function(){return cE(e._repo,e,h)}}function fE(e,t,n,r){return zh(e,"value",t,n,r)}function sx(e,t,n,r){return zh(e,"child_added",t,n,r)}function ax(e,t,n,r){return zh(e,"child_changed",t,n,r)}function ux(e,t,n,r){return zh(e,"child_moved",t,n,r)}function cx(e,t,n,r){return zh(e,"child_removed",t,n,r)}function lx(e,t,n){var r=null,i=n?new gM(n):null;t==="value"?r=new yM(i):t&&(r=new _M(t,i)),cE(e._repo,e,r)}var si=function(){function e(){}return e}(),wM=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){xi("endAt",this._value,n._path,!0);var r=Z1(n._queryParams,this._value,this._key);if(_m(r),ps(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Or(n._repo,n._path,r,n._orderByCalled)},t}(si);function gK(e,t){return $h("endAt","key",t,!0),new wM(e,t)}var mK=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){xi("endBefore",this._value,n._path,!1);var r=g8(n._queryParams,this._value,this._key);if(_m(r),ps(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Or(n._repo,n._path,r,n._orderByCalled)},t}(si);function yK(e,t){return $h("endBefore","key",t,!0),new mK(e,t)}var EM=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){xi("startAt",this._value,n._path,!0);var r=J1(n._queryParams,this._value,this._key);if(_m(r),ps(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Or(n._repo,n._path,r,n._orderByCalled)},t}(si);function _K(e,t){return e===void 0&&(e=null),$h("startAt","key",t,!0),new EM(e,t)}var wK=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){xi("startAfter",this._value,n._path,!1);var r=v8(n._queryParams,this._value,this._key);if(_m(r),ps(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Or(n._repo,n._path,r,n._orderByCalled)},t}(si);function EK(e,t){return $h("startAfter","key",t,!0),new wK(e,t)}var bK=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Or(n._repo,n._path,d8(n._queryParams,this._limit),n._orderByCalled)},t}(si);function TK(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new bK(e)}var IK=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Or(n._repo,n._path,p8(n._queryParams,this._limit),n._orderByCalled)},t}(si);function SK(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new IK(e)}var kK=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){ym(n,"orderByChild");var r=new Pe(this._path);if(ve(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new fT(r),s=im(n._queryParams,i);return ps(s),new Or(n._repo,n._path,s,!0)},t}(si);function CK(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return uh("orderByChild","path",e,!1),new kK(e)}var NK=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){ym(n,"orderByKey");var r=im(n._queryParams,Ti);return ps(r),new Or(n._repo,n._path,r,!0)},t}(si);function AK(){return new NK}var RK=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){ym(n,"orderByPriority");var r=im(n._queryParams,Ve);return ps(r),new Or(n._repo,n._path,r,!0)},t}(si);function xK(){return new RK}var PK=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){ym(n,"orderByValue");var r=im(n._queryParams,hT);return ps(r),new Or(n._repo,n._path,r,!0)},t}(si);function OK(){return new PK}var DK=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(xi("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new wM(this._value,this._key)._apply(new EM(this._value,this._key)._apply(n))},t}(si);function LK(e,t){return $h("equalTo","key",t,!0),new DK(e,t)}function zr(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=he(e);try{for(var a=jt(r),c=a.next();!c.done;c=a.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}sW(Di);fW(Di);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MK="FIREBASE_DATABASE_EMULATOR_HOST",hE={},bM=!1;function FK(e,t,n,r){e.repoInfo_=new oT(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function TM(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dt("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=lE(s,i),c=a.repoInfo,l,h=void 0;typeof process<"u"&&(h=process.env[MK]),h?(l=!0,s="http://"+h+"?ns="+c.namespace,a=lE(s,i),c=a.repoInfo):l=!a.repoInfo.secure;var p=i&&l?new Sf(Sf.OWNER):new dH(e.name,e.options,t);sM("Invalid Firebase Database URL",a),ve(a.path)||Ai("Database URL must point to the root of a Firebase Database (not including a child path).");var v=jK(c,e,p,new hH(e.name,n));return new VK(v,e)}function UK(e,t){var n=hE[t];(!n||n[e.key]!==e)&&Ai("Database "+t+"("+e.repoInfo_+") has already been deleted."),lM(e),delete n[e.key]}function jK(e,t,n,r){var i=hE[t.name];i||(i={},hE[t.name]=i);var s=i[e.toURLString()];return s&&Ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new qW(e,bM,n,r),i[e.toURLString()]=s,s}function BK(e){bM=e}var VK=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(zW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Di(this._repo,Re())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(UK(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&Ai("Cannot call "+t+" on a deleted database.")},e}();function $K(e,t,n,r){r===void 0&&(r={}),e=he(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Ai("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ai('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Sf(Sf.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:Qb(r.mockUserToken,e.app.options.projectId);s=new Sf(a)}FK(i,t,n,s)}function qK(e){e=he(e),e._checkNotDeleted("goOffline"),lM(e._repo)}function zK(e){e=he(e),e._checkNotDeleted("goOnline"),eK(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HK={".sv":"timestamp"};function WK(){return HK}function KK(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GK=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function QK(e,t,n){var r;if(e=he(e),br("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Mt,a=function(l,h,p){var v=null;l?s.reject(l):(v=new wm(p,new Di(e._repo,e._path),Ve),s.resolve(new GK(h,v)))},c=fE(e,function(){});return rK(e._repo,e._path,t,a,c,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YK=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){re("OnDisconnect.cancel",0,1,arguments.length),Ot("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){re("OnDisconnect.remove",0,1,arguments.length),Ot("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){re("OnDisconnect.set",1,2,arguments.length),Ot("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){re("OnDisconnect.setWithPriority",2,3,arguments.length),Ot("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(re("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,Yt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ot("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XK=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return re("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Af=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return re("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return re("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return re("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return re("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return re("DataSnapshot.child",0,1,arguments.length),t=String(t),uh("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return re("DataSnapshot.hasChild",1,1,arguments.length),uh("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return re("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return re("DataSnapshot.forEach",1,1,arguments.length),Ot("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return re("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return re("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return re("DataSnapshot.ref",0,0,arguments.length),new ra(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),IM=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;re("Query.on",2,4,arguments.length),Ot("Query.on","callback",n,!1);var c=e.getCancelAndContextArgs_("Query.on",r,i),l=function(p,v){n.call(c.context,new Af(s.database,p),v)};l.userCallback=n,l.context=c.context;var h=(a=c.cancel)===null||a===void 0?void 0:a.bind(c.context);switch(t){case"value":return fE(this._delegate,l,h),n;case"child_added":return sx(this._delegate,l,h),n;case"child_removed":return cx(this._delegate,l,h),n;case"child_changed":return ax(this._delegate,l,h),n;case"child_moved":return ux(this._delegate,l,h),n;default:throw new Error(Hn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(re("Query.off",0,3,arguments.length),FW("Query.off",t,!0),Ot("Query.off","callback",n,!0),IR("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,lx(this._delegate,t,i)}else lx(this._delegate,t)},e.prototype.get=function(){var t=this;return vK(this._delegate).then(function(n){return new Af(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;re("Query.once",1,4,arguments.length),Ot("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),c=new Mt,l=function(p,v){var m=new Af(s.database,p);n&&n.call(a.context,m,v),c.resolve(m)};l.userCallback=n,l.context=a.context;var h=function(p){a.cancel&&a.cancel.call(a.context,p),c.reject(p)};switch(t){case"value":fE(this._delegate,l,h,{onlyOnce:!0});break;case"child_added":sx(this._delegate,l,h,{onlyOnce:!0});break;case"child_removed":cx(this._delegate,l,h,{onlyOnce:!0});break;case"child_changed":ax(this._delegate,l,h,{onlyOnce:!0});break;case"child_moved":ux(this._delegate,l,h,{onlyOnce:!0});break;default:throw new Error(Hn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},e.prototype.limitToFirst=function(t){return re("Query.limitToFirst",1,1,arguments.length),new e(this.database,zr(this._delegate,TK(t)))},e.prototype.limitToLast=function(t){return re("Query.limitToLast",1,1,arguments.length),new e(this.database,zr(this._delegate,SK(t)))},e.prototype.orderByChild=function(t){return re("Query.orderByChild",1,1,arguments.length),new e(this.database,zr(this._delegate,CK(t)))},e.prototype.orderByKey=function(){return re("Query.orderByKey",0,0,arguments.length),new e(this.database,zr(this._delegate,AK()))},e.prototype.orderByPriority=function(){return re("Query.orderByPriority",0,0,arguments.length),new e(this.database,zr(this._delegate,xK()))},e.prototype.orderByValue=function(){return re("Query.orderByValue",0,0,arguments.length),new e(this.database,zr(this._delegate,OK()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),re("Query.startAt",0,2,arguments.length),new e(this.database,zr(this._delegate,_K(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),re("Query.startAfter",0,2,arguments.length),new e(this.database,zr(this._delegate,EK(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),re("Query.endAt",0,2,arguments.length),new e(this.database,zr(this._delegate,gK(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),re("Query.endBefore",0,2,arguments.length),new e(this.database,zr(this._delegate,yK(t,n)))},e.prototype.equalTo=function(t,n){return re("Query.equalTo",1,2,arguments.length),new e(this.database,zr(this._delegate,LK(t,n)))},e.prototype.toString=function(){return re("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return re("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(re("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ot(t,"cancel",i.cancel,!0),i.context=r,IR(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Hn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new ra(this.database,new Di(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),ra=function(e){K(t,e);function t(n,r){var i=e.call(this,n,new Or(r._repo,r._path,new LL,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return re("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return re("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,Sa(this._delegate,n))},t.prototype.getParent=function(){re("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return re("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){re("Reference.set",1,2,arguments.length),Ot("Reference.set","onComplete",r,!0);var i=MT(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(re("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Yt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}br("Reference.update",this._delegate._path),Ot("Reference.update","onComplete",r,!0);var a=pK(this._delegate,n);return r&&a.then(function(){return r(null)},function(c){return r(c)}),a},t.prototype.setWithPriority=function(n,r,i){re("Reference.setWithPriority",2,3,arguments.length),Ot("Reference.setWithPriority","onComplete",i,!0);var s=dK(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){re("Reference.remove",0,1,arguments.length),Ot("Reference.remove","onComplete",n,!0);var r=fK(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;re("Reference.transaction",1,3,arguments.length),Ot("Reference.transaction","transactionUpdate",n,!1),Ot("Reference.transaction","onComplete",r,!0),jW("Reference.transaction","applyLocally",i,!0);var a=QK(this._delegate,n,{applyLocally:i}).then(function(c){return new XK(c.committed,new Af(s.database,c.snapshot))});return r&&a.then(function(c){return r(null,c.committed,c.snapshot)},function(c){return r(c,!1,null)}),a},t.prototype.setPriority=function(n,r){re("Reference.setPriority",1,2,arguments.length),Ot("Reference.setPriority","onComplete",r,!0);var i=hK(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;re("Reference.push",0,2,arguments.length),Ot("Reference.push","onComplete",r,!0);var s=lK(this._delegate,n),a=s.then(function(l){return new t(i.database,l)});r&&a.then(function(){return r(null)},function(l){return r(l)});var c=new t(this.database,s);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c},t.prototype.onDisconnect=function(){return br("Reference.onDisconnect",this._delegate._path),new YK(new cK(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(IM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ag=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),$K(this._delegate,t,n,r)},e.prototype.ref=function(t){if(re("database.ref",0,1,arguments.length),t instanceof ra){var n=ox(this._delegate,t.toString());return new ra(this,n)}else{var n=mM(this._delegate,t);return new ra(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";re(n,1,1,arguments.length);var r=ox(this._delegate,t);return new ra(this,r)},e.prototype.goOffline=function(){return re("database.goOffline",0,0,arguments.length),qK(this._delegate)},e.prototype.goOnline=function(){return re("database.goOnline",0,0,arguments.length),zK(this._delegate)},e.ServerValue={TIMESTAMP:WK(),increment:function(t){return KK(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JK=function(){Xs.forceDisallow(),aT.forceAllow()},ZK=function(){aT.forceDisallow()},eG=function(){return Xs.isAvailable()},tG=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},nG=function(e,t){tK(e._delegate._repo,t)},rG=function(e,t){nK(e._delegate._repo,t)},iG=function(e){return e._delegate._repo.dataUpdateCount},oG=function(e,t){return HW(e._delegate._repo,t)};function sG(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,c=a===void 0?!1:a;ZD(r);var l=new KD("auth-internal",new GD("database-standalone"));return l.setComponent(new pn("auth-internal",function(){return i},"PRIVATE")),{instance:new ag(TM(t,l,void 0,n,c),t),namespace:s}}var aG=Object.freeze({__proto__:null,forceLongPolling:JK,forceWebSockets:ZK,isWebSocketsAvailable:eG,setSecurityDebugCallback:tG,stats:nG,statsIncrementCounter:rG,dataUpdateCount:iG,interceptServerData:oG,initStandalone:sG});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uG=ha;ha.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};ha.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var cG=EL,lG=function(e){var t=ha.prototype.put;return ha.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){ha.prototype.put=t}},fG=oT,hG=function(e){return e._delegate._queryIdentifier},dG=function(e){BK(e)},pG=Object.freeze({__proto__:null,DataConnection:uG,RealTimeConnection:cG,hijackHash:lG,ConnectionTarget:fG,queryIdentifier:hG,forceRestClient:dG});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vG=ag.ServerValue;function gG(e){ZD(e.SDK_VERSION),e.INTERNAL.registerComponent(new pn("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new ag(TM(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:ra,Query:IM,Database:ag,DataSnapshot:Af,enableLogging:rL,INTERNAL:aG,ServerValue:vG,TEST_ACCESS:pG}).setMultipleInstances(!0)),e.registerVersion(eH,tH)}gG(J);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dE=function(e,t){return dE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},dE(e,t)};function mG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");dE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function SM(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var yG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,FT=FT||{},ue=yG||self;function ug(){}function pE(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Hh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function _G(e){return Object.prototype.hasOwnProperty.call(e,_w)&&e[_w]||(e[_w]=++wG)}var _w="closure_uid_"+(1e9*Math.random()>>>0),wG=0;function EG(e,t,n){return e.call.apply(e.bind,arguments)}function bG(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Xt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xt=EG:Xt=bG,Xt.apply(null,arguments)}function Lp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function tn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[i].apply(r,a)}}function vs(){this.s=this.s,this.o=this.o}var TG=0;vs.prototype.s=!1;vs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),TG!=0)&&_G(this)};vs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var kM=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},CM=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function IG(e){e:{for(var t=v7,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function fx(e){return Array.prototype.concat.apply([],arguments)}function UT(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function cg(e){return/^[\s\xa0]*$/.test(e)}var hx=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function In(e,t){return e.indexOf(t)!=-1}function ww(e,t){return e<t?-1:e>t?1:0}var Sn;e:{var dx=ue.navigator;if(dx){var px=dx.userAgent;if(px){Sn=px;break e}}Sn=""}function jT(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function NM(e){var t={};for(var n in e)t[n]=e[n];return t}var vx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AM(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<vx.length;s++)n=vx[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function BT(e){return BT[" "](e),e}BT[" "]=ug;function SG(e){var t=NG;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var kG=In(Sn,"Opera"),mc=In(Sn,"Trident")||In(Sn,"MSIE"),RM=In(Sn,"Edge"),vE=RM||mc,xM=In(Sn,"Gecko")&&!(In(Sn.toLowerCase(),"webkit")&&!In(Sn,"Edge"))&&!(In(Sn,"Trident")||In(Sn,"MSIE"))&&!In(Sn,"Edge"),CG=In(Sn.toLowerCase(),"webkit")&&!In(Sn,"Edge");function PM(){var e=ue.document;return e?e.documentMode:void 0}var lg;e:{var Ew="",bw=function(){var e=Sn;if(xM)return/rv:([^\);]+)(\)|;)/.exec(e);if(RM)return/Edge\/([\d\.]+)/.exec(e);if(mc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(CG)return/WebKit\/(\S+)/.exec(e);if(kG)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(bw&&(Ew=bw?bw[1]:""),mc){var Tw=PM();if(Tw!=null&&Tw>parseFloat(Ew)){lg=String(Tw);break e}}lg=Ew}var NG={};function AG(){return SG(function(){for(var e=0,t=hx(String(lg)).split("."),n=hx("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=ww(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||ww(s[2].length==0,a[2].length==0)||ww(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var gE;if(ue.document&&mc){var gx=PM();gE=gx||parseInt(lg,10)||void 0}else gE=void 0;var RG=gE,xG=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ue.addEventListener("test",ug,t),ue.removeEventListener("test",ug,t)}catch{}return e}();function ln(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};function ch(e,t){if(ln.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xM){e:{try{BT(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:PG[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ch.Z.h.call(this)}}tn(ch,ln);var PG={2:"touch",3:"pen",4:"mouse"};ch.prototype.h=function(){ch.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Wh="closure_listenable_"+(1e6*Math.random()|0),OG=0;function DG(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++OG,this.ca=this.fa=!1}function Em(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function bm(e){this.src=e,this.g={},this.h=0}bm.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=yE(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new DG(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function mE(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=kM(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Em(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function yE(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var VT="closure_lm_"+(1e6*Math.random()|0),Iw={};function OM(e,t,n,r,i){if(r&&r.once)return LM(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)OM(e,t[s],n,r,i);return null}return n=zT(n),e&&e[Wh]?e.N(t,n,Hh(r)?!!r.capture:!!r,i):DM(e,t,n,!1,r,i)}function DM(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Hh(i)?!!i.capture:!!i,c=qT(e);if(c||(e[VT]=c=new bm(e)),n=c.add(t,n,r,a,s),n.proxy)return n;if(r=LG(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xG||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(FM(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function LG(){function e(n){return t.call(e.src,e.listener,n)}var t=MG;return e}function LM(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)LM(e,t[s],n,r,i);return null}return n=zT(n),e&&e[Wh]?e.O(t,n,Hh(r)?!!r.capture:!!r,i):DM(e,t,n,!0,r,i)}function MM(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)MM(e,t[s],n,r,i);else r=Hh(r)?!!r.capture:!!r,n=zT(n),e&&e[Wh]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=yE(s,n,r,i),-1<n&&(Em(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=qT(e))&&(t=e.g[t.toString()],e=-1,t&&(e=yE(t,n,r,i)),(n=-1<e?t[e]:null)&&$T(n))}function $T(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Wh])mE(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(FM(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qT(t))?(mE(n,e),n.h==0&&(n.src=null,t[VT]=null)):Em(e)}}}function FM(e){return e in Iw?Iw[e]:Iw[e]="on"+e}function MG(e,t){if(e.ca)e=!0;else{t=new ch(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&$T(e),e=n.call(r,t)}return e}function qT(e){return e=e[VT],e instanceof bm?e:null}var Sw="__closure_events_fn_"+(1e9*Math.random()>>>0);function zT(e){return typeof e=="function"?e:(e[Sw]||(e[Sw]=function(t){return e.handleEvent(t)}),e[Sw])}function Bt(){vs.call(this),this.i=new bm(this),this.P=this,this.I=null}tn(Bt,vs);Bt.prototype[Wh]=!0;Bt.prototype.removeEventListener=function(e,t,n,r){MM(this,e,t,n,r)};function Jt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new ln(t,e);else if(t instanceof ln)t.target=t.target||e;else{var i=t;t=new ln(r,e),AM(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Mp(a,r,!0,t)&&i}if(a=t.g=e,i=Mp(a,r,!0,t)&&i,i=Mp(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=Mp(a,r,!1,t)&&i}Bt.prototype.M=function(){if(Bt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Em(n[r]);delete e.g[t],e.h--}}this.I=null};Bt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Bt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Mp(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var c=a.listener,l=a.ia||a.src;a.fa&&mE(e.i,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var HT=ue.JSON.stringify;function FG(){var e=jM,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var UG=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=UM.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),UM=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new jG},function(e){return e.reset()}),jG=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function BG(e){ue.setTimeout(function(){throw e},0)}function WT(e,t){_E||VG(),wE||(_E(),wE=!0),jM.add(e,t)}var _E;function VG(){var e=ue.Promise.resolve(void 0);_E=function(){e.then($G)}}var wE=!1,jM=new UG;function $G(){for(var e;e=FG();){try{e.h.call(e.g)}catch(n){BG(n)}var t=UM;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wE=!1}function Tm(e,t){Bt.call(this),this.h=e||1,this.g=t||ue,this.j=Xt(this.kb,this),this.l=Date.now()}tn(Tm,Bt);Q=Tm.prototype;Q.da=!1;Q.S=null;Q.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jt(this,"tick"),this.da&&(KT(this),this.start()))}};Q.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function KT(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Q.M=function(){Tm.Z.M.call(this),KT(this),delete this.g};function GT(e,t,n){if(typeof e=="function")n&&(e=Xt(e,n));else if(e&&typeof e.handleEvent=="function")e=Xt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ue.setTimeout(e,t||0)}function BM(e){e.g=GT(function(){e.g=null,e.i&&(e.i=!1,BM(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var qG=function(e){mG(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:BM(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(vs);function lh(e){vs.call(this),this.h=e,this.g={}}tn(lh,vs);var mx=[];function VM(e,t,n,r){Array.isArray(n)||(n&&(mx[0]=n.toString()),n=mx);for(var i=0;i<n.length;i++){var s=OM(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function $M(e){jT(e.g,function(t,n){this.g.hasOwnProperty(n)&&$T(t)},e),e.g={}}lh.prototype.M=function(){lh.Z.M.call(this),$M(this)};lh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Im(){this.g=!0}Im.prototype.Aa=function(){this.g=!1};function zG(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var p=h[0];h=h[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function HG(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function zu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+KG(e,n)+(r?" "+r:"")})}function WG(e,t){e.info(function(){return"TIMEOUT: "+t})}Im.prototype.info=function(){};function KG(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return HT(n)}catch{return t}}var Va={},yx=null;function Sm(){return yx=yx||new Bt}Va.Ma="serverreachability";function qM(e){ln.call(this,Va.Ma,e)}tn(qM,ln);function fh(e){var t=Sm();Jt(t,new qM(t))}Va.STAT_EVENT="statevent";function zM(e,t){ln.call(this,Va.STAT_EVENT,e),this.stat=t}tn(zM,ln);function Cn(e){var t=Sm();Jt(t,new zM(t,e))}Va.Na="timingevent";function HM(e,t){ln.call(this,Va.Na,e),this.size=t}tn(HM,ln);function Kh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){e()},t)}var km={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},WM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function QT(){}QT.prototype.h=null;function _x(e){return e.h||(e.h=e.i())}function KM(){}var Gh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function YT(){ln.call(this,"d")}tn(YT,ln);function XT(){ln.call(this,"c")}tn(XT,ln);var EE;function Cm(){}tn(Cm,QT);Cm.prototype.g=function(){return new XMLHttpRequest};Cm.prototype.i=function(){return{}};EE=new Cm;function Qh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new lh(this),this.P=GG,e=vE?125:void 0,this.W=new Tm(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new GM}function GM(){this.i=null,this.g="",this.h=!1}var GG=45e3,bE={},fg={};Q=Qh.prototype;Q.setTimeout=function(e){this.P=e};function TE(e,t,n){e.K=1,e.v=Am(ao(t)),e.s=n,e.U=!0,QM(e,null)}function QM(e,t){e.F=Date.now(),Yh(e),e.A=ao(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),nF(n.h,"t",r),e.C=0,n=e.l.H,e.h=new GM,e.g=bF(e.l,n?t:null,!e.s),0<e.O&&(e.L=new qG(Xt(e.Ia,e,e.g),e.O)),VM(e.V,e.g,"readystatechange",e.gb),t=e.H?NM(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),fh(),zG(e.j,e.u,e.A,e.m,e.X,e.s)}Q.gb=function(e){e=e.target;var t=this.L;t&&Yi(e)==3?t.l():this.Ia(e)};Q.Ia=function(e){try{if(e==this.g)e:{var t=Yi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||vE||this.g&&(this.h.h||this.g.ga()||Tx(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?fh(3):fh(2)),Nm(this);var i=this.g.ba();this.N=i;t:if(YM(this)){var s=Tx(this.g);e="";var a=s.length,c=Yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ia(this),Rf(this);var l="";break t}this.h.i=new ue.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:c&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=i==200,HG(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cg(h)){var v=h;break t}}v=null}if(i=v)zu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,IE(this,i);else{this.i=!1,this.o=3,Cn(12),ia(this),Rf(this);break e}}this.U?(XM(this,t,l),vE&&this.i&&t==3&&(VM(this.V,this.W,"tick",this.fb),this.W.start())):(zu(this.j,this.m,l,null),IE(this,l)),t==4&&ia(this),this.i&&!this.I&&(t==4?yF(this.l,this):(this.i=!1,Yh(this)))}else i==400&&0<l.indexOf("Unknown SID")?(this.o=3,Cn(12)):(this.o=0,Cn(13)),ia(this),Rf(this)}}}catch{}finally{}};function YM(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function XM(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=QG(e,n),i==fg){t==4&&(e.o=4,Cn(14),r=!1),zu(e.j,e.m,null,"[Incomplete Response]");break}else if(i==bE){e.o=4,Cn(15),zu(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else zu(e.j,e.m,i,null),IE(e,i);YM(e)&&i!=fg&&i!=bE&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Cn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),sI(t),t.L=!0,Cn(11))):(zu(e.j,e.m,n,"[Invalid Chunked Response]"),ia(e),Rf(e))}Q.fb=function(){if(this.g){var e=Yi(this.g),t=this.g.ga();this.C<t.length&&(Nm(this),XM(this,e,t),this.i&&e!=4&&Yh(this))}};function QG(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?fg:(n=Number(t.substring(n,r)),isNaN(n)?bE:(r+=1,r+n>t.length?fg:(t=t.substr(r,n),e.C=r+n,t)))}Q.cancel=function(){this.I=!0,ia(this)};function Yh(e){e.Y=Date.now()+e.P,JM(e,e.P)}function JM(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Kh(Xt(e.eb,e),t)}function Nm(e){e.B&&(ue.clearTimeout(e.B),e.B=null)}Q.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(WG(this.j,this.A),this.K!=2&&(fh(),Cn(17)),ia(this),this.o=2,Rf(this)):JM(this,this.Y-e)};function Rf(e){e.l.G==0||e.I||yF(e.l,e)}function ia(e){Nm(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,KT(e.W),$M(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function IE(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||SE(n.i,e))){if(n.I=e.N,!e.J&&SE(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)vg(n),Pm(n);else break e;oI(n),Cn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Kh(Xt(n.ab,n),6e3));if(1>=oF(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else oa(n,11)}else if((e.J||n.g==e)&&vg(n),!cg(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var c=s[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));var l=s[5];l!=null&&typeof l=="number"&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var v=r.i;!v.g&&(In(p,"spdy")||In(p,"quic")||In(p,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(eI(v,v.h),v.h=null))}if(r.D){var m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Qe(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=EF(r,r.H?r.la:null,r.W),y.J){sF(r.i,y);var w=y,I=r.K;I&&w.setTimeout(I),w.B&&(Nm(w),Yh(w)),r.g=y}else gF(r);0<n.l.length&&Om(n)}else s[0]!="stop"&&s[0]!="close"||oa(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?oa(n,7):iI(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}fh(4)}catch{}}function YG(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(pE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function JT(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(pE(e)||typeof e=="string")CM(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(pE(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=YG(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Wc(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wc)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Q=Wc.prototype;Q.R=function(){ZT(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Q.T=function(){return ZT(this),this.g.concat()};function ZT(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ka(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],ka(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Q.get=function(e,t){return ka(this.h,e)?this.h[e]:t};Q.set=function(e,t){ka(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Q.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function ka(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ZM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function XG(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ca(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ca){this.g=t!==void 0?t:e.g,hg(this,e.j),this.s=e.s,dg(this,e.i),pg(this,e.m),this.l=e.l,t=e.h;var n=new hh;n.i=t.i,t.g&&(n.g=new Wc(t.g),n.h=t.h),wx(this,n),this.o=e.o}else e&&(n=String(e).match(ZM))?(this.g=!!t,hg(this,n[1]||"",!0),this.s=xf(n[2]||""),dg(this,n[3]||"",!0),pg(this,n[4]),this.l=xf(n[5]||"",!0),wx(this,n[6]||"",!0),this.o=xf(n[7]||"")):(this.g=!!t,this.h=new hh(null,this.g))}Ca.prototype.toString=function(){var e=[],t=this.j;t&&e.push(lf(t,Ex,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(lf(t,Ex,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(lf(n,n.charAt(0)=="/"?n7:t7,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",lf(n,i7)),e.join("")};function ao(e){return new Ca(e)}function hg(e,t,n){e.j=n?xf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function dg(e,t,n){e.i=n?xf(t,!0):t}function pg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wx(e,t,n){t instanceof hh?(e.h=t,o7(e.h,e.g)):(n||(t=lf(t,r7)),e.h=new hh(t,e.g))}function Qe(e,t,n){e.h.set(t,n)}function Am(e){return Qe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function JG(e){return e instanceof Ca?ao(e):new Ca(e,void 0)}function ZG(e,t,n,r){var i=new Ca(null,void 0);return e&&hg(i,e),t&&dg(i,t),n&&pg(i,n),r&&(i.l=r),i}function xf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function lf(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,e7),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function e7(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ex=/[#\/\?@]/g,t7=/[#\?:]/g,n7=/[#\?]/g,r7=/[#\?@]/g,i7=/#/g;function hh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gs(e){e.g||(e.g=new Wc,e.h=0,e.i&&XG(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Q=hh.prototype;Q.add=function(e,t){gs(this),this.i=null,e=Kc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function eF(e,t){gs(e),t=Kc(e,t),ka(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,ka(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ZT(e)))}function tF(e,t){return gs(e),t=Kc(e,t),ka(e.g.h,t)}Q.forEach=function(e,t){gs(this),this.g.forEach(function(n,r){CM(n,function(i){e.call(t,i,r,this)},this)},this)};Q.T=function(){gs(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Q.R=function(e){gs(this);var t=[];if(typeof e=="string")tF(this,e)&&(t=fx(t,this.g.get(Kc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=fx(t,e[n])}return t};Q.set=function(e,t){return gs(this),this.i=null,e=Kc(this,e),tF(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Q.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function nF(e,t,n){eF(e,t),0<n.length&&(e.i=null,e.g.set(Kc(e,t),UT(n)),e.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function Kc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function o7(e,t){t&&!e.j&&(gs(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(eF(this,r),nF(this,i,n))},e)),e.j=t}var s7=function(){function e(t,n){this.h=t,this.g=n}return e}();function rF(e){this.l=e||a7,ue.PerformanceNavigationTiming?(e=ue.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ue.g&&ue.g.Ea&&ue.g.Ea()&&ue.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var a7=10;function iF(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function oF(e){return e.h?1:e.g?e.g.size:0}function SE(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function eI(e,t){e.g?e.g.add(t):e.h=t}function sF(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}rF.prototype.cancel=function(){var e,t;if(this.i=aF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=SM(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function aF(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=SM(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return UT(e.i)}function tI(){}tI.prototype.stringify=function(e){return ue.JSON.stringify(e,void 0)};tI.prototype.parse=function(e){return ue.JSON.parse(e,void 0)};function u7(){this.g=new tI}function c7(e,t,n){var r=n||"";try{JT(e,function(i,s){var a=i;Hh(i)&&(a=HT(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function l7(e,t){var n=new Im;if(ue.Image){var r=new Image;r.onload=Lp(Fp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Lp(Fp,n,r,"TestLoadImage: error",!1,t),r.onabort=Lp(Fp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Lp(Fp,n,r,"TestLoadImage: timeout",!1,t),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Fp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Xh(e){this.l=e.$b||null,this.j=e.ib||!1}tn(Xh,QT);Xh.prototype.g=function(){return new Rm(this.l,this.j)};Xh.prototype.i=function(e){return function(){return e}}({});function Rm(e,t){Bt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=nI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tn(Rm,Bt);var nI=0;Q=Rm.prototype;Q.open=function(e,t){if(this.readyState!=nI)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,dh(this)};Q.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ue).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jh(this)),this.readyState=nI};Q.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,dh(this)),this.g&&(this.readyState=3,dh(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uF(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function uF(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Q.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jh(this):dh(this),this.readyState==3&&uF(this)}};Q.Ua=function(e){this.g&&(this.response=this.responseText=e,Jh(this))};Q.Ta=function(e){this.g&&(this.response=e,Jh(this))};Q.ha=function(){this.g&&Jh(this)};function Jh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,dh(e)}Q.setRequestHeader=function(e,t){this.v.append(e,t)};Q.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function dh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Rm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var f7=ue.JSON.parse;function _t(e){Bt.call(this),this.headers=new Wc,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cF,this.K=this.L=!1}tn(_t,Bt);var cF="",h7=/^https?$/i,d7=["POST","PUT"];Q=_t.prototype;Q.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():EE.g(),this.C=this.u?_x(this.u):_x(EE),this.g.onreadystatechange=Xt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){bx(this,s);return}e=n||"";var i=new Wc(this.headers);r&&JT(r,function(s,a){i.set(a,s)}),r=IG(i.T()),n=ue.FormData&&e instanceof ue.FormData,!(0<=kM(d7,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hF(this),0<this.B&&((this.K=p7(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.pa,this)):this.A=GT(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){bx(this,s)}};function p7(e){return mc&&AG()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function v7(e){return e.toLowerCase()=="content-type"}Q.pa=function(){typeof FT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))};function bx(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,lF(e),xm(e)}function lF(e){e.D||(e.D=!0,Jt(e,"complete"),Jt(e,"error"))}Q.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Jt(this,"complete"),Jt(this,"abort"),xm(this))};Q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xm(this,!0)),_t.Z.M.call(this)};Q.Fa=function(){this.s||(this.F||this.v||this.l?fF(this):this.cb())};Q.cb=function(){fF(this)};function fF(e){if(e.h&&typeof FT<"u"&&(!e.C[1]||Yi(e)!=4||e.ba()!=2)){if(e.v&&Yi(e)==4)GT(e.Fa,0,e);else if(Jt(e,"readystatechange"),Yi(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(ZM)[1]||null;if(!s&&ue.self&&ue.self.location){var a=ue.self.location.protocol;s=a.substr(0,a.length-1)}i=!h7.test(s?s.toLowerCase():"")}r=i}if(r)Jt(e,"complete"),Jt(e,"success");else{e.m=6;try{var c=2<Yi(e)?e.g.statusText:""}catch{c=""}e.j=c+" ["+e.ba()+"]",lF(e)}}finally{xm(e)}}}}function xm(e,t){if(e.g){hF(e);var n=e.g,r=e.C[0]?ug:null;e.g=null,e.C=null,t||Jt(e,"ready");try{n.onreadystatechange=r}catch{}}}function hF(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ue.clearTimeout(e.A),e.A=null)}function Yi(e){return e.g?e.g.readyState:0}Q.ba=function(){try{return 2<Yi(this)?this.g.status:-1}catch{return-1}};Q.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),f7(t)}};function Tx(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case cF:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Q.Da=function(){return this.m};Q.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function g7(e){var t="";return jT(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function rI(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=g7(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Qe(e,t,n))}function tf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function dF(e){this.za=0,this.l=[],this.h=new Im,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tf("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tf("baseRetryDelayMs",5e3,e),this.$a=tf("retryDelaySeedMs",1e4,e),this.Ya=tf("forwardChannelMaxRetries",2,e),this.ra=tf("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new rF(e&&e.concurrentRequestLimit),this.Ca=new u7,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Q=dF.prototype;Q.ma=8;Q.G=1;function iI(e){if(pF(e),e.G==3){var t=e.V++,n=ao(e.F);Qe(n,"SID",e.J),Qe(n,"RID",t),Qe(n,"TYPE","terminate"),Zh(e,n),t=new Qh(e,e.h,t,void 0),t.K=2,t.v=Am(ao(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon&&(n=ue.navigator.sendBeacon(t.v.toString(),"")),!n&&ue.Image&&(new Image().src=t.v,n=!0),n||(t.g=bF(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Yh(t)}wF(e)}Q.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Pm(e){e.g&&(sI(e),e.g.cancel(),e.g=null)}function pF(e){Pm(e),e.u&&(ue.clearTimeout(e.u),e.u=null),vg(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ue.clearTimeout(e.m),e.m=null)}function kw(e,t){e.l.push(new s7(e.Za++,t)),e.G==3&&Om(e)}function Om(e){iF(e.i)||e.m||(e.m=!0,WT(e.Ha,e),e.C=0)}function m7(e,t){return oF(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Kh(Xt(e.Ha,e,t),_F(e,e.C)),e.C++,!0)}Q.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Qh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=NM(n),AM(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=vF(this,t,r),i=ao(this.F),Qe(i,"RID",e),Qe(i,"CVER",22),this.D&&Qe(i,"X-HTTP-Session-Id",this.D),Zh(this,i),this.o&&n&&rI(i,this.o,n),eI(this.i,t),this.Ra&&Qe(i,"TYPE","init"),this.ja?(Qe(i,"$req",r),Qe(i,"SID","null"),t.$=!0,TE(t,i,null)):TE(t,i,r),this.G=2}}else this.G==3&&(e?Ix(this,e):this.l.length==0||iF(this.i)||Ix(this))};function Ix(e,t){var n;t?n=t.m:n=e.V++;var r=ao(e.F);Qe(r,"SID",e.J),Qe(r,"RID",n),Qe(r,"AID",e.U),Zh(e,r),e.o&&e.s&&rI(r,e.o,e.s),n=new Qh(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=vF(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),eI(e.i,n),TE(n,r,t)}function Zh(e,t){e.j&&JT({},function(n,r){Qe(t,r,n)})}function vF(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Xt(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].h,p=i[l].g;if(h-=s,0>h)s=Math.max(0,i[l].h-100),c=!1;else try{c7(p,a,"req"+h+"_")}catch{r&&r(p)}}if(c){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function gF(e){e.g||e.u||(e.Y=1,WT(e.Ga,e),e.A=0)}function oI(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Kh(Xt(e.Ga,e),_F(e,e.A)),e.A++,!0)}Q.Ga=function(){if(this.u=null,mF(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Kh(Xt(this.bb,this),e)}};Q.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Cn(10),Pm(this),mF(this))};function sI(e){e.B!=null&&(ue.clearTimeout(e.B),e.B=null)}function mF(e){e.g=new Qh(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=ao(e.oa);Qe(t,"RID","rpc"),Qe(t,"SID",e.J),Qe(t,"CI",e.N?"0":"1"),Qe(t,"AID",e.U),Zh(e,t),Qe(t,"TYPE","xmlhttp"),e.o&&e.s&&rI(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Am(ao(t)),n.s=null,n.U=!0,QM(n,e)}Q.ab=function(){this.v!=null&&(this.v=null,Pm(this),oI(this),Cn(19))};function vg(e){e.v!=null&&(ue.clearTimeout(e.v),e.v=null)}function yF(e,t){var n=null;if(e.g==t){vg(e),sI(e),e.g=null;var r=2}else if(SE(e.i,t))n=t.D,sF(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Sm(),Jt(r,new HM(r,n)),Om(e)}else gF(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&m7(e,t)||r==2&&oI(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:oa(e,5);break;case 4:oa(e,10);break;case 3:oa(e,6);break;default:oa(e,2)}}}function _F(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function oa(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Xt(e.jb,e);n||(n=new Ca("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||hg(n,"https"),Am(n)),l7(n.toString(),r)}else Cn(2);e.G=0,e.j&&e.j.va(t),wF(e),pF(e)}Q.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Cn(2)):(this.h.info("Failed to ping google.com"),Cn(1))};function wF(e){e.G=0,e.I=-1,e.j&&((aF(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,UT(e.l),e.l.length=0),e.j.ua())}function EF(e,t,n){var r=JG(n);if(r.i!="")t&&dg(r,t+"."+r.i),pg(r,r.m);else{var i=ue.location;r=ZG(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&jT(e.aa,function(s,a){Qe(r,a,s)}),t=e.D,n=e.sa,t&&n&&Qe(r,t,n),Qe(r,"VER",e.ma),Zh(e,r),r}function bF(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new _t(new Xh({ib:!0})):new _t(e.qa),t.L=e.H,t}function TF(){}Q=TF.prototype;Q.xa=function(){};Q.wa=function(){};Q.va=function(){};Q.ua=function(){};Q.Oa=function(){};function gg(){if(mc&&!(10<=Number(RG)))throw Error("Environmental error: no available transport.")}gg.prototype.g=function(e,t){return new lr(e,t)};function lr(e,t){Bt.call(this),this.g=new dF(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!cg(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!cg(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Gc(this)}tn(lr,Bt);lr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),WT(Xt(e.hb,e,t))),Cn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=EF(e,null,e.W),Om(e)};lr.prototype.close=function(){iI(this.g)};lr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,kw(this.g,t)}else this.v?(t={},t.__data__=HT(e),kw(this.g,t)):kw(this.g,e)};lr.prototype.M=function(){this.g.j=null,delete this.j,iI(this.g),delete this.g,lr.Z.M.call(this)};function IF(e){YT.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}tn(IF,YT);function SF(){XT.call(this),this.status=1}tn(SF,XT);function Gc(e){this.g=e}tn(Gc,TF);Gc.prototype.xa=function(){Jt(this.g,"a")};Gc.prototype.wa=function(e){Jt(this.g,new IF(e))};Gc.prototype.va=function(e){Jt(this.g,new SF)};Gc.prototype.ua=function(){Jt(this.g,"b")};gg.prototype.createWebChannel=gg.prototype.g;lr.prototype.send=lr.prototype.u;lr.prototype.open=lr.prototype.m;lr.prototype.close=lr.prototype.close;km.NO_ERROR=0;km.TIMEOUT=8;km.HTTP_ERROR=6;WM.COMPLETE="complete";KM.EventType=Gh;Gh.OPEN="a";Gh.CLOSE="b";Gh.ERROR="c";Gh.MESSAGE="d";Bt.prototype.listen=Bt.prototype.N;_t.prototype.listenOnce=_t.prototype.O;_t.prototype.getLastError=_t.prototype.La;_t.prototype.getLastErrorCode=_t.prototype.Da;_t.prototype.getStatus=_t.prototype.ba;_t.prototype.getResponseJson=_t.prototype.Qa;_t.prototype.getResponseText=_t.prototype.ga;_t.prototype.send=_t.prototype.ea;var y7=function(){return new gg},_7=function(){return Sm()},Cw=km,w7=WM,E7=Va,Sx={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},b7=Xh,Up=KM,T7=_t;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();rr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return K(t,e),t}(Error),ni=new Fa("@firebase/firestore");function kE(){return ni.logLevel}function z(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ni.logLevel<=me.DEBUG){var r=t.map(aI);ni.debug.apply(ni,de(["Firestore (8.10.1): "+e],r))}}function mt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ni.logLevel<=me.ERROR){var r=t.map(aI);ni.error.apply(ni,de(["Firestore (8.10.1): "+e],r))}}function ph(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ni.logLevel<=me.WARN){var r=t.map(aI);ni.warn.apply(ni,de(["Firestore (8.10.1): "+e],r))}}function aI(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw mt(t),new Error(t)}function ie(e,t){e||Z()}function W(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kF=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=I7(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function we(e,t){return e<t?-1:e>t?1:0}function yc(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function CF(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new j(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new j(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new j(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?we(this.nanoseconds,t.nanoseconds):we(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ge=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Wn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $a(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function NF(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AF=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Z(),r===void 0?r=t.length-n:r>t.length-n&&Z(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),xe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new j(O.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(AF),S7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oi=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return S7.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new j(O.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new j(O.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new j(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new j(O.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(AF),_c=function(){function e(t){this.fields=t,t.sort(oi.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return yc(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Rn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return we(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Rn.EMPTY_BYTE_STRING=new Rn("");var k7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(e){if(ie(!!e),typeof e=="string"){var t=0,n=k7.exec(e);if(ie(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:vt(e.seconds),nanos:vt(e.nanos)}}function vt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function wc(e){return typeof e=="string"?Rn.fromBase64String(e):Rn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function RF(e){var t=e.mapValue.fields.__previous_value__;return uI(t)?RF(t):t}function vh(e){var t=cs(e.mapValue.fields.__local_write_time__.timestampValue);return new Wn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(e){return e==null}function mg(e){return e===0&&1/e==-1/0}function xF(e){return typeof e=="number"&&Number.isInteger(e)&&!mg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(xe.fromString(t))},e.fromName=function(t){return new e(xe.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&xe.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return xe.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new xe(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uI(e)?4:10:Z()}function Pi(e,t){var n=Na(e);if(n!==Na(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vh(e).isEqual(vh(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=cs(r.timestampValue),a=cs(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return wc(r.bytesValue).isEqual(wc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return vt(r.geoPointValue.latitude)===vt(i.geoPointValue.latitude)&&vt(r.geoPointValue.longitude)===vt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return vt(r.integerValue)===vt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=vt(r.doubleValue),a=vt(i.doubleValue);return s===a?mg(s)===mg(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return yc(e.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(kx(s)!==kx(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Pi(s[c],a[c])))return!1;return!0}(e,t);default:return Z()}}function gh(e,t){return(e.values||[]).find(function(n){return Pi(n,t)})!==void 0}function Ec(e,t){var n=Na(e),r=Na(t);if(n!==r)return we(n,r);switch(n){case 0:return 0;case 1:return we(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=vt(i.integerValue||i.doubleValue),c=vt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return Cx(e.timestampValue,t.timestampValue);case 4:return Cx(vh(e),vh(t));case 5:return we(e.stringValue,t.stringValue);case 6:return function(i,s){var a=wc(i),c=wc(s);return a.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=we(a[l],c[l]);if(h!==0)return h}return we(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=we(vt(i.latitude),vt(s.latitude));return a!==0?a:we(vt(i.longitude),vt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=Ec(a[l],c[l]);if(h)return h}return we(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var p=0;p<c.length&&p<h.length;++p){var v=we(c[p],h[p]);if(v!==0)return v;var m=Ec(a[c[p]],l[h[p]]);if(m!==0)return m}return we(c.length,h.length)}(e.mapValue,t.mapValue);default:throw Z()}}function Cx(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return we(e,t);var n=cs(e),r=cs(t),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function cI(e){return CE(e)}function CE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=cs(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ee.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=CE(c[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+CE(r.fields[l])}return i+"}"}(e.mapValue):Z();var t,n}function yg(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function NE(e){return!!e&&"integerValue"in e}function lI(e){return!!e&&"arrayValue"in e}function Nx(e){return!!e&&"nullValue"in e}function Ax(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fv(e){return!!e&&"mapValue"in e}function Pf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return $a(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=Pf(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Pf(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!fv(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pf(n)},e.prototype.setAll=function(t){var n=this,r=oi.emptyPath(),i={},s=[];t.forEach(function(c,l){if(!r.isImmediateParentOf(l)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=l.popLast()}c?i[l.lastSegment()]=Pf(c):s.push(l.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());fv(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Pi(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];fv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){$a(n,function(c,l){return t[c]=l});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(Pf(this.value))},e}();function PF(e){var t=[];return $a(e.fields,function(n,r){var i=new oi([n]);if(fv(r)){var s=PF(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];t.push(i.child(l))}}else t.push(i)}),new _c(t)}var en=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ge.min(),tr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,tr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,tr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=tr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=tr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),C7=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new C7(e,t,n,r,i,s,a)}function ed(e){var t=W(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+cI(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),qa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=wg(t.startAt)),t.endAt&&(n+="|ub:",n+=wg(t.endAt)),t.h=n}return t.h}function Dm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!L7(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Pi(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Px(e.startAt,t.startAt)&&Px(e.endAt,t.endAt)}function _g(e){return ee.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var ir=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return K(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new N7(n,r,i):r==="array-contains"?new x7(n,i):r==="in"?new P7(n,i):r==="not-in"?new O7(n,i):r==="array-contains-any"?new D7(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new A7(n,i):new R7(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Ec(r,this.value)):r!==null&&Na(this.value)===Na(r)&&this.m(Ec(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Z()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),N7=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=ee.fromName(i.referenceValue),s}return K(t,e),t.prototype.matches=function(n){var r=ee.comparator(n.key,this.key);return this.m(r)},t}(ir),A7=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=OF("in",r),i}return K(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(ir),R7=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=OF("not-in",r),i}return K(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(ir);function OF(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ee.fromName(r.referenceValue)})}var x7=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return K(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return lI(r)&&gh(r.arrayValue,this.value)},t}(ir),P7=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return K(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&gh(this.value.arrayValue,r)},t}(ir),O7=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return K(t,e),t.prototype.matches=function(n){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!gh(this.value.arrayValue,r)},t}(ir),D7=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return K(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!lI(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return gh(r.value.arrayValue,s)})},t}(ir),mh=function(e,t){this.position=e,this.before=t};function wg(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return cI(t)}).join(",")}var Zu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function L7(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function xx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ee.comparator(ee.fromName(a.referenceValue),n.key):Ec(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function Px(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Pi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ho=function(e,t,n,r,i,s,a,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function DF(e,t,n,r,i,s,a,c){return new ho(e,t,n,r,i,s,a,c)}function Qc(e){return new ho(e)}function hv(e){return!qa(e.limit)&&e.limitType==="F"}function Eg(e){return!qa(e.limit)&&e.limitType==="L"}function fI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function hI(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function dI(e){return e.collectionGroup!==null}function bc(e){var t=W(e);if(t.p===null){t.p=[];var n=hI(t),r=fI(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Zu(n)),t.p.push(new Zu(oi.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var c=a[s];t.p.push(c),c.field.isKeyField()&&(i=!0)}if(!i){var l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Zu(oi.keyField(),l))}}}return t.p}function Pr(e){var t=W(e);if(!t.T)if(t.limitType==="F")t.T=Rx(t.path,t.collectionGroup,bc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=bc(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Zu(s.field,a))}var c=t.endAt?new mh(t.endAt.position,!t.endAt.before):null,l=t.startAt?new mh(t.startAt.position,!t.startAt.before):null;t.T=Rx(t.path,t.collectionGroup,n,t.filters,t.limit,c,l)}return t.T}function LF(e,t,n){return new ho(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function td(e,t){return Dm(Pr(e),Pr(t))&&e.limitType===t.limitType}function MF(e){return ed(Pr(e))+"|lt:"+e.limitType}function AE(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+cI(i.value);var i}).join(", ")+"]"),qa(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+wg(t.startAt)),t.endAt&&(n+=", endAt: "+wg(t.endAt)),"Target("+n+")"}(Pr(e))+"; limitType="+e.limitType+")"}function nd(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ee.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!xx(n.startAt,bc(n),r))&&(!n.endAt||!xx(n.endAt,bc(n),r))}(e,t)}function FF(e){return function(t,n){for(var r=!1,i=0,s=bc(e);i<s.length;i++){var a=s[i],c=M7(a,t,n);if(c!==0)return c;r=r||a.field.isKeyField()}return 0}}function M7(e,t,n){var r=e.field.isKeyField()?ee.comparator(t.key,n.key):function(i,s,a){var c=s.data.field(i),l=a.data.field(i);return c!==null&&l!==null?Ec(c,l):Z()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mg(t)?"-0":t}}function jF(e){return{integerValue:""+e}}function BF(e,t){return xF(t)?jF(t):UF(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lm=function(){this._=void 0};function F7(e,t,n){return e instanceof Tc?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Aa?$F(e,t):e instanceof Ra?qF(e,t):function(r,i){var s=VF(r,i),a=Ox(s)+Ox(r.A);return NE(s)&&NE(r.A)?jF(a):UF(r.R,a)}(e,t)}function U7(e,t,n){return e instanceof Aa?$F(e,t):e instanceof Ra?qF(e,t):n}function VF(e,t){return e instanceof Ic?NE(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Tc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t}(Lm),Aa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return K(t,e),t}(Lm);function $F(e,t){for(var n=zF(t),r=function(a){n.some(function(c){return Pi(c,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ra=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return K(t,e),t}(Lm);function qF(e,t){for(var n=zF(t),r=function(a){n=n.filter(function(c){return!Pi(c,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ic=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return K(t,e),t}(Lm);function Ox(e){return vt(e.integerValue||e.doubleValue)}function zF(e){return lI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rd=function(e,t){this.field=e,this.transform=t},j7=function(e,t){this.version=e,this.transformResults=t},cn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function dv(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Mm=function(){};function B7(e,t,n){e instanceof id?function(r,i,s){var a=r.value.clone(),c=Mx(r.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof ms?function(r,i,s){if(dv(r.precondition,i)){var a=Mx(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(HF(r)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function RE(e,t,n){e instanceof id?function(r,i,s){if(dv(r.precondition,i)){var a=r.value.clone(),c=Fx(r.fieldTransforms,s,i);a.setAll(c),i.convertToFoundDocument(Lx(i),a).setHasLocalMutations()}}(e,t,n):e instanceof ms?function(r,i,s){if(dv(r.precondition,i)){var a=Fx(r.fieldTransforms,s,i),c=i.data;c.setAll(HF(r)),c.setAll(a),i.convertToFoundDocument(Lx(i),c).setHasLocalMutations()}}(e,t,n):function(r,i){dv(r.precondition,i)&&i.convertToNoDocument(ge.min())}(e,t)}function V7(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),c=VF(s.transform,a||null);c!=null&&(n==null&&(n=tr.empty()),n.set(s.field,c))}return n||null}function Dx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&yc(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof Aa&&h instanceof Aa||l instanceof Ra&&h instanceof Ra?yc(l.elements,h.elements,Pi):l instanceof Ic&&h instanceof Ic?Pi(l.A,h.A):l instanceof Tc&&h instanceof Tc}(a.transform,c.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Lx(e){return e.isFoundDocument()?e.version:ge.min()}var id=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return K(t,e),t}(Mm),ms=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.fieldMask=i,c.precondition=s,c.fieldTransforms=a,c.type=1,c}return K(t,e),t}(Mm);function HF(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Mx(e,t,n){var r=new Map;ie(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,c=t.data.field(s.field);r.set(s.field,U7(a,c,n[i]))}return r}function Fx(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],c=a.transform,l=n.data.field(a.field);r.set(a.field,F7(c,l,t))}return r}var pt,Se,od=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return K(t,e),t}(Mm),pI=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return K(t,e),t}(Mm),$7=function(e){this.count=e};function WF(e){switch(e){case O.OK:return Z();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return Z()}}function KF(e){if(e===void 0)return mt("GRPC error has no .code"),O.UNKNOWN;switch(e){case pt.OK:return O.OK;case pt.CANCELLED:return O.CANCELLED;case pt.UNKNOWN:return O.UNKNOWN;case pt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case pt.INTERNAL:return O.INTERNAL;case pt.UNAVAILABLE:return O.UNAVAILABLE;case pt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case pt.NOT_FOUND:return O.NOT_FOUND;case pt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case pt.ABORTED:return O.ABORTED;case pt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case pt.DATA_LOSS:return O.DATA_LOSS;default:return Z()}}(Se=pt||(pt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn=function(){function e(t,n){this.comparator=t,this.root=n||Mo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mo.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new jp(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new jp(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new jp(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new jp(this.root,t,this.comparator,!0)},e}(),jp=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Mo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();var t=this.left.check();if(t!==this.right.check())throw Z();return t+(this.isRed()?0:1)},e}();Mo.EMPTY=null,Mo.RED=!0,Mo.BLACK=!1,Mo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Z()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Mo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt=function(){function e(t){this.comparator=t,this.data=new gn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new Ux(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new Ux(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Ux=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),q7=new gn(ee.comparator);function Cr(){return q7}var z7=new gn(ee.comparator);function xE(){return z7}var H7=new gn(ee.comparator);function GF(){return H7}var W7=new Nt(ee.comparator);function Le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=W7,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var K7=new Nt(we);function Fm(){return K7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vI=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,gI.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ge.min(),r,Fm(),Cr(),Le())},e}(),gI=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Rn.EMPTY_BYTE_STRING,n,Le(),Le(),Le())},e}(),pv=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},QF=function(e,t){this.targetId=e,this.V=t},YF=function(e,t,n,r){n===void 0&&(n=Rn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},jx=function(){function e(){this.S=0,this.D=Vx(),this.C=Rn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Le(),n=Le(),r=Le();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new gI(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=Vx()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),G7=function(){function e(t){this.W=t,this.G=new Map,this.H=Cr(),this.J=Bx(),this.Y=new Nt(we)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:Z()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(_g(s))if(r===0){var a=new ee(s.path);this.tt(n,a,en.newNoDocument(a,ge.min()))}else ie(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,c){var l=n.ot(c);if(l){if(a.current&&_g(l.target)){var h=new ee(l.target.path);n.H.get(h)!==null||n.at(c,h)||n.tt(c,h,en.newNoDocument(h,t))}a.$&&(r.set(c,a.M()),a.L())}});var i=Le();this.J.forEach(function(a,c){var l=!0;c.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new vI(t,r,this.Y,this.H,i);return this.H=Cr(),this.J=Bx(),this.Y=new Nt(we),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new jx,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Nt(we),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||z("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new jx),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function Bx(){return new gn(ee.comparator)}function Vx(){return new gn(ee.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q7={asc:"ASCENDING",desc:"DESCENDING"},Y7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X7=function(e,t){this.databaseId=e,this.I=t};function yh(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function XF(e,t){return e.I?t.toBase64():t.toUint8Array()}function J7(e,t){return yh(e,t.toTimestamp())}function Ft(e){return ie(!!e),ge.fromTimestamp(function(t){var n=cs(t);return new Wn(n.seconds,n.nanos)}(e))}function mI(e,t){return function(n){return new xe(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function JF(e){var t=xe.fromString(e);return ie(s4(t)),t}function _h(e,t){return mI(e.databaseId,t.path)}function Ii(e,t){var n=JF(t);if(n.get(1)!==e.databaseId.projectId)throw new j(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new j(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ee(e4(n))}function PE(e,t){return mI(e.databaseId,t)}function ZF(e){var t=JF(e);return t.length===4?xe.emptyPath():e4(t)}function wh(e){return new xe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function e4(e){return ie(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function $x(e,t,n){return{name:_h(e,t),fields:n.value.mapValue.fields}}function t4(e,t,n){var r=Ii(e,t.name),i=Ft(t.updateTime),s=new tr({mapValue:{fields:t.fields}}),a=en.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function bg(e,t){var n;if(t instanceof id)n={update:$x(e,t.key,t.value)};else if(t instanceof od)n={delete:_h(e,t.key)};else if(t instanceof ms)n={update:$x(e,t.key,t.data),updateMask:rQ(t.fieldMask)};else{if(!(t instanceof pI))return Z();n={verify:_h(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof Tc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Aa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ra)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ic)return{fieldPath:s.field.canonicalString(),increment:a.A};throw Z()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:J7(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(e,t.precondition)),n}function qx(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?cn.updateTime(Ft(h.updateTime)):h.exists!==void 0?cn.exists(h.exists):cn.none()}(t.currentDocument):cn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,v){var m=null;if("setToServerValue"in v)ie(v.setToServerValue==="REQUEST_TIME"),m=new Tc;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new Aa(y)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];m=new Ra(w)}else"increment"in v?m=new Ic(p,v.increment):Z();var I=oi.fromServerFormat(v.fieldPath);return new rd(I,m)}(e,h)}):[];if(t.update){t.update.name;var i=Ii(e,t.update.name),s=new tr({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new _c(p.map(function(v){return oi.fromServerFormat(v)}))}(t.updateMask);return new ms(i,s,a,n,r)}return new id(i,s,n,r)}if(t.delete){var c=Ii(e,t.delete);return new od(c,n)}if(t.verify){var l=Ii(e,t.verify);return new pI(l,n)}return Z()}function n4(e,t){return{documents:[PE(e,t.path)]}}function r4(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=PE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=PE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(p){if(p.op==="=="){if(Ax(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NAN"}};if(Nx(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(Ax(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NOT_NAN"}};if(Nx(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(p.field),op:eQ(p.op),value:p.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:Iu(h.field),direction:Z7(h.dir)}}(l)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.I||qa(l)?l:{value:l}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=zx(t.startAt)),t.endAt&&(n.structuredQuery.endAt=zx(t.endAt)),n}function i4(e){var t=ZF(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ie(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=o4(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(v){return function(m){return new Zu(Hu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var l=null;n.limit&&(l=function(v){var m;return qa(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=Hx(n.startAt));var p=null;return n.endAt&&(p=Hx(n.endAt)),DF(t,i,c,a,l,"F",h,p)}function o4(e){return e?e.unaryFilter!==void 0?[nQ(e)]:e.fieldFilter!==void 0?[tQ(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return o4(t)}).reduce(function(t,n){return t.concat(n)}):Z():[]}function zx(e){return{before:e.before,values:e.position}}function Hx(e){var t=!!e.before,n=e.values||[];return new mh(n,t)}function Z7(e){return Q7[e]}function eQ(e){return Y7[e]}function Iu(e){return{fieldPath:e.canonicalString()}}function Hu(e){return oi.fromServerFormat(e.fieldPath)}function tQ(e){return ir.create(Hu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Z()}}(e.fieldFilter.op),e.fieldFilter.value)}function nQ(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Hu(e.unaryFilter.field);return ir.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Hu(e.unaryFilter.field);return ir.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hu(e.unaryFilter.field);return ir.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Hu(e.unaryFilter.field);return ir.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Z()}}function rQ(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function s4(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Wx(t)),t=iQ(e.get(n),t);return Wx(t)}function iQ(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Wx(e){return e+""}function Xi(e){var t=e.length;if(ie(t>=2),t===2)return ie(e.charAt(0)===""&&e.charAt(1)===""),xe.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&Z(),e.charAt(a+1)){case"":var c=e.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:Z()}s=a+2}return new xe(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oQ=function(e,t){this.seconds=e,this.nanoseconds=t},Zn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Zn.store="owner",Zn.key="owner";var es=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};es.store="mutationQueues",es.keyPath="userId";var ze=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ze.store="mutations",ze.keyPath="batchId",ze.userMutationsIndex="userMutationsIndex",ze.userMutationsKeyPath=["userId","batchId"];var un=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,ri(n)]},e.key=function(t,n,r){return[t,ri(n),r]},e}();un.store="documentMutations",un.PLACEHOLDER=new un;var sQ=function(e,t){this.path=e,this.readTime=t},aQ=function(e,t){this.path=e,this.version=t},st=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};st.store="remoteDocuments",st.readTimeIndex="readTimeIndex",st.readTimeIndexPath="readTime",st.collectionReadTimeIndex="collectionReadTimeIndex",st.collectionReadTimeIndexPath=["parentPath","readTime"];var wi=function(e){this.byteSize=e};wi.store="remoteDocumentGlobal",wi.key="remoteDocumentGlobalKey";var Vn=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};Vn.store="targets",Vn.keyPath="targetId",Vn.queryTargetsIndexName="queryTargetsIndex",Vn.queryTargetsKeyPath=["canonicalId","targetId"];var Gt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Gt.store="targetDocuments",Gt.keyPath=["targetId","path"],Gt.documentTargetsIndex="documentTargetsIndex",Gt.documentTargetsKeyPath=["path","targetId"];var er=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};er.key="targetGlobalKey",er.store="targetGlobal";var da=function(e,t){this.collectionId=e,this.parent=t};da.store="collectionParents",da.keyPath=["collectionId","parent"];var eo=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};eo.store="clientMetadata",eo.keyPath="clientId";var Sc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Sc.store="bundles",Sc.keyPath="bundleId";var kc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};kc.store="namedQueries",kc.keyPath="name";var uQ=de(de([],de(de([],de(de([],de(de([],[es.store,ze.store,un.store,st.store,Vn.store,Zn.store,er.store,Gt.store]),[eo.store])),[wi.store])),[da.store])),[Sc.store,kc.store]),a4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",u4=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),vn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},B=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(c){return c?e.resolve(c):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),c4=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new vn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Of(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=yI(i.target.error);r.ft.reject(new Of(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new Of(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(z("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new lQ(n)},e}(),Cc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(ba())===12.2&&mt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return z("SimpleDb","Removing database:",t),Js(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=ba(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(z("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new Of(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new j(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Of(t,h))},c.onupgradeneeded=function(l){z("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.wt.Rt(h,c.transaction,l.oldVersion,r.version).next(function(){z("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return A(this,void 0,void 0,function(){var s,a,c,l,h;return N(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,c=function(){var v,m,y,w,I;return N(this,function(C){switch(C.label){case 0:++a,C.label=1;case 1:return C.trys.push([1,4,,5]),[4,l.At(t)];case 2:return l.db=C.sent(),v=c4.open(l.db,t,s?"readonly":"readwrite",r),m=i(v).catch(function(b){return v.abort(b),B.reject(b)}).toPromise(),y={},m.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(C.sent(),m),y)];case 4:return w=C.sent(),I=w.name!=="FirebaseError"&&a<3,z("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),l.close(),I?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},l=this,p.label=1;case 1:return[5,c()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),cQ=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Js(this.Pt.delete())},e}(),Of=function(e){function t(n,r){var i=this;return(i=e.call(this,O.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return K(t,e),t}(j);function za(e){return e.name==="IndexedDbTransactionError"}var lQ=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(z("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Js(r)},e.prototype.add=function(t){return z("SimpleDb","ADD",this.store.name,t,t),Js(this.store.add(t))},e.prototype.get=function(t){var n=this;return Js(this.store.get(t)).next(function(r){return r===void 0&&(r=null),z("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return z("SimpleDb","DELETE",this.store.name,t),Js(this.store.delete(t))},e.prototype.count=function(){return z("SimpleDb","COUNT",this.store.name),Js(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.kt=function(t,n){z("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(s,a,c){return c.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new B(function(r,i){n.onerror=function(s){var a=yI(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new B(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var c=a.target.result;if(c){var l=new cQ(c),h=n(c.primaryKey,c.value,l);if(h instanceof B){var p=h.catch(function(v){return l.done(),B.reject(v)});r.push(p)}l.isDone?i():l.Dt===null?c.continue():c.continue(l.Dt)}else i()}}).next(function(){return B.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Js(e){return new B(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=yI(r.target.error);n(i)}})}var Kx=!1;function yI(e){var t=Cc._t(ba());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new j("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Kx||(Kx=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gx=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return K(t,e),t}(u4);function Gn(e,t){var n=W(e);return Cc.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _I=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&B7(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&RE(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&RE(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(ge.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Le())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&yc(this.mutations,t.mutations,function(n,r){return Dx(n,r)})&&yc(this.baseMutations,t.baseMutations,function(n,r){return Dx(n,r)})},e}(),fQ=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){ie(t.mutations.length===r.length);for(var i=GF(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),Um=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=ge.min()),a===void 0&&(a=ge.min()),c===void 0&&(c=Rn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),l4=function(e){this.Lt=e};function OE(e,t){if(t.document)return t4(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ee.fromSegments(t.noDocument.path),r=Ac(t.noDocument.readTime),i=en.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=ee.fromSegments(t.unknownDocument.path);return r=Ac(t.unknownDocument.version),en.newUnknownDocument(s,r)}return Z()}function Qx(e,t,n){var r=wI(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,m){return{name:_h(v,m.key),fields:m.data.value.mapValue.fields,updateTime:yh(v,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new st(null,null,s,a,r,i)}if(t.isNoDocument()){var c=t.key.path.toArray(),l=Nc(t.version);return a=t.hasCommittedMutations,new st(null,new sQ(c,l),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),p=Nc(t.version);return new st(new aQ(h,p),null,null,!0,r,i)}return Z()}function wI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function f4(e){var t=new Wn(e[0],e[1]);return ge.fromTimestamp(t)}function Nc(e){var t=e.toTimestamp();return new oQ(t.seconds,t.nanoseconds)}function Ac(e){var t=new Wn(e.seconds,e.nanoseconds);return ge.fromTimestamp(t)}function Nu(e,t){for(var n=(t.baseMutations||[]).map(function(l){return qx(e.Lt,l)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(l){return qx(e.Lt,l)}),c=Wn.fromMillis(t.localWriteTimeMs);return new _I(t.batchId,c,n,a)}function ff(e){var t,n,r=Ac(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Ac(e.lastLimboFreeSnapshotVersion):ge.min();return e.query.documents!==void 0?(ie((n=e.query).documents.length===1),t=Pr(Qc(ZF(n.documents[0])))):t=function(s){return Pr(i4(s))}(e.query),new Um(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Rn.fromBase64String(e.resumeToken))}function h4(e,t){var n,r=Nc(t.snapshotVersion),i=Nc(t.lastLimboFreeSnapshotVersion);n=_g(t.target)?n4(e.Lt,t.target):r4(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Vn(t.targetId,ed(t.target),r,s,t.sequenceNumber,i,n)}function EI(e){var t=i4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?LF(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hQ=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return Yx(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Ac(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return Yx(t).put({bundleId:(r=n).id,createTime:Nc(Ft(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return Xx(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:EI(i.bundledQuery),readTime:Ac(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return Xx(t).put(function(r){return{name:r.name,readTime:Nc(Ft(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function Yx(e){return Gn(e,Sc.store)}function Xx(e){return Gn(e,kc.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dQ=function(){function e(){this.Bt=new bI}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),B.resolve()},e.prototype.getCollectionParents=function(t,n){return B.resolve(this.Bt.getEntries(n))},e}(),bI=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Nt(xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Nt(xe.comparator)).toArray()},e}(),pQ=function(){function e(){this.qt=new bI}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:ri(s)};return Jx(t).put(a)}return B.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[CF(n),""],!1,!0);return Jx(t).Nt(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(Xi(l.parent))}return r})},e}();function Jx(e){return Gn(e,da.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yi=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(e,t,n){var r=e.store(ze.store),i=e.store(un.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.$t({range:a},function(w,I,C){return c++,C.delete()});s.push(l.next(function(){ie(c===1)}));for(var h=[],p=0,v=n.mutations;p<v.length;p++){var m=v[p],y=un.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return B.waitFor(s).next(function(){return h})}function Tg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Z();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi.DEFAULT_COLLECTION_PERCENTILE=10,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yi.DEFAULT=new yi(41943040,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yi.DISABLED=new yi(-1,0,0);var vQ=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return ie(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return No(t).$t({index:ze.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=Au(t),c=No(t);return c.add({}).next(function(l){ie(typeof l=="number");for(var h=new _I(l,n,r,i),p=function(b,T,S){var x=S.baseMutations.map(function(P){return bg(b.Lt,P)}),L=S.mutations.map(function(P){return bg(b.Lt,P)});return new ze(T,S.batchId,S.localWriteTime.toMillis(),x,L)}(s.R,s.userId,h),v=[],m=new Nt(function(b,T){return we(b.canonicalString(),T.canonicalString())}),y=0,w=i;y<w.length;y++){var I=w[y],C=un.key(s.userId,I.key.path,l);m=m.add(I.key.path.popLast()),v.push(c.put(p)),v.push(a.put(C,un.PLACEHOLDER))}return m.forEach(function(b){v.push(s.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){s.Kt[l]=h.keys()}),B.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return No(t).get(n).next(function(i){return i?(ie(i.userId===r.userId),Nu(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?B.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return No(t).$t({index:ze.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(ie(l.batchId>=i),a=Nu(r.R,l)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return No(t).$t({index:ze.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return No(t).Nt(ze.userMutationsIndex,r).next(function(i){return i.map(function(s){return Nu(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=un.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Au(t).$t({range:s},function(c,l,h){var p=c[0],v=c[1],m=c[2],y=Xi(v);if(p===r.userId&&n.path.isEqual(y))return No(t).get(m).next(function(w){if(!w)throw Z();ie(w.userId===r.userId),a.push(Nu(r.R,w))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Nt(we),s=[];return n.forEach(function(a){var c=un.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=Au(t).$t({range:l},function(p,v,m){var y=p[0],w=p[1],I=p[2],C=Xi(w);y===r.userId&&a.path.isEqual(C)?i=i.add(I):m.done()});s.push(h)}),B.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=un.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new Nt(we);return Au(t).$t({range:c},function(h,p,v){var m=h[0],y=h[1],w=h[2],I=Xi(y);m===r.userId&&i.isPrefixOf(I)?I.length===s&&(l=l.add(w)):v.done()}).next(function(){return r.Wt(t,l)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(No(t).get(a).next(function(c){if(c===null)throw Z();ie(c.userId===r.userId),i.push(Nu(r.R,c))}))}),B.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return d4(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),B.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return B.resolve();var i=IDBKeyRange.lowerBound(un.prefixForUser(n.userId)),s=[];return Au(t).$t({range:i},function(a,c,l){if(a[0]===n.userId){var h=Xi(a[1]);s.push(h)}else l.done()}).next(function(){ie(s.length===0)})})},e.prototype.containsKey=function(t,n){return p4(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return v4(t).get(this.userId).next(function(r){return r||new es(n.userId,-1,"")})},e}();function p4(e,t,n){var r=un.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Au(e).$t({range:s,Ft:!0},function(c,l,h){var p=c[0],v=c[1];c[2],p===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function No(e){return Gn(e,ze.store)}function Au(e){return Gn(e,un.store)}function v4(e){return Gn(e,es.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ig=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),gQ=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new Ig(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ge.fromTimestamp(new Wn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Su(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return ie(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return Su(t).$t(function(c,l){var h=ff(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return B.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Su(t).$t(function(r,i){var s=ff(i);n(s)})},e.prototype.Xt=function(t){return eP(t).get(er.key).next(function(n){return ie(n!==null),n})},e.prototype.Zt=function(t,n){return eP(t).put(er.key,n)},e.prototype.te=function(t,n){return Su(t).put(h4(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=ed(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Su(t).$t({range:i,index:Vn.queryTargetsIndexName},function(a,c,l){var h=ff(c);Dm(n,h.target)&&(s=h,l.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=Fo(t);return n.forEach(function(c){var l=ri(c.path);s.push(a.put(new Gt(r,l))),s.push(i.referenceDelegate.addReference(t,r,c))}),B.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=Fo(t);return B.forEach(n,function(a){var c=ri(a.path);return B.waitFor([s.delete([r,c]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Fo(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Fo(t),s=Le();return i.$t({range:r,Ft:!0},function(a,c,l){var h=Xi(a[1]),p=new ee(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=ri(n.path),i=IDBKeyRange.bound([r],[CF(r)],!1,!0),s=0;return Fo(t).$t({index:Gt.documentTargetsIndex,Ft:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Su(t).get(n).next(function(r){return r?ff(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(e){return Gn(e,Vn.store)}function eP(e){return Gn(e,er.store)}function Fo(e){return Gn(e,Gt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(e){return A(this,void 0,void 0,function(){return N(this,function(t){if(e.code!==O.FAILED_PRECONDITION||e.message!==a4)throw e;return z("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=we(n,i);return a===0?we(r,s):a}var mQ=function(){function e(t){this.ne=t,this.buffer=new Nt(tP),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();tP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),yQ=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;z("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return A(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return za(i=s.sent())?(z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ha(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),_Q=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return B.resolve(rr.o);var i=new mQ(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Zx)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Zx):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,c,l,h,p=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),i=p.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),p.nthSequenceNumber(t,i)}).next(function(m){return r=m,c=Date.now(),p.removeTargets(t,r,n)}).next(function(m){return s=m,l=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),kE()<=me.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+m+" documents in "+(h-l)+`ms
Total Duration: `+(h-v)+"ms"),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),wQ=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new _Q(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Bp(t,r)},e.prototype.removeReference=function(t,n,r){return Bp(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Bp(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return v4(r).Ot(function(a){return p4(r,a,i).next(function(c){return c&&(s=!0),B.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(c,l){if(l<=n){var h=r._e(t,c).next(function(p){if(!p)return a++,i.getEntry(t,c).next(function(){return i.removeEntry(c),Fo(t).delete([0,ri(c.path)])})});s.push(h)}}).next(function(){return B.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Bp(t,n)},e.prototype.we=function(t,n){var r,i=Fo(t),s=rr.o;return i.$t({index:Gt.documentTargetsIndex},function(a,c){var l=a[0];a[1];var h=c.path,p=c.sequenceNumber;l===0?(s!==rr.o&&n(new ee(Xi(r)),s),s=p,r=h):s=rr.o}).next(function(){s!==rr.o&&n(new ee(Xi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Bp(e,t){return Fo(e).put(function(n,r){return new Gt(0,ri(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yc=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.equalsFn(c,t))return l}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){$a(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];t(c,l)}})},e.prototype.isEmpty=function(){return NF(this.inner)},e}(),g4=function(){function e(){this.changes=new Yc(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ge.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:en.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?B.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),EQ=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Oo(t).put(Vp(n),r)},e.prototype.removeEntry=function(t,n){var r=Oo(t),i=Vp(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Oo(t).get(Vp(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Oo(t).get(Vp(n)).next(function(i){return{document:r.ye(n,i),size:Tg(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Cr();return this.pe(t,n,function(s,a){var c=r.ye(s,a);i=i.insert(s,c)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Cr(),s=new gn(ee.comparator);return this.pe(t,n,function(a,c){var l=r.ye(a,c);i=i.insert(a,l),s=s.insert(a,Tg(c))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return B.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Oo(t).$t({range:i},function(c,l,h){for(var p=ee.fromSegments(c);a&&ee.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=Cr(),a=n.path.length+1,c={};if(r.isEqual(ge.min())){var l=n.path.toArray();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.toArray(),p=wI(r);c.range=IDBKeyRange.lowerBound([h,p],!0),c.index=st.collectionReadTimeIndex}return Oo(t).$t(c,function(v,m,y){if(v.length===a){var w=OE(i.R,m);n.path.isPrefixOf(w.key.path)?nd(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new bQ(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return nP(t).get(wi.key).next(function(n){return ie(!!n),n})},e.prototype.me=function(t,n){return nP(t).put(wi.key,n)},e.prototype.ye=function(t,n){if(n){var r=OE(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ge.min()))return r}return en.newInvalidDocument(t)},e}(),bQ=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Yc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return K(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new Nt(function(c,l){return we(c.canonicalString(),l.canonicalString())});return this.changes.forEach(function(c,l){var h=r.Ae.get(c);if(l.document.isValidDocument()){var p=Qx(r.Ie.R,l.document,r.getReadTime(c));a=a.add(c.path.popLast());var v=Tg(p);s+=v-h,i.push(r.Ie.addEntry(n,c,p))}else if(s-=h,r.trackRemovals){var m=Qx(r.Ie.R,en.newNoDocument(c,ge.min()),r.getReadTime(c));i.push(r.Ie.addEntry(n,c,m))}else i.push(r.Ie.removeEntry(n,c))}),a.forEach(function(c){i.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),i.push(this.Ie.updateMetadata(n,s)),B.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(c,l){i.Ae.set(c,l)}),a})},t}(g4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(e){return Gn(e,wi.store)}function Oo(e){return Gn(e,st.store)}function Vp(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TQ=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;ie(r<i&&r>=0&&i<=11);var a=new c4("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(Zn.store)}(t),function(l){l.createObjectStore(es.store,{keyPath:es.keyPath}),l.createObjectStore(ze.store,{keyPath:ze.keyPath,autoIncrement:!0}).createIndex(ze.userMutationsIndex,ze.userMutationsKeyPath,{unique:!0}),l.createObjectStore(un.store)}(t),rP(t),function(l){l.createObjectStore(st.store)}(t));var c=B.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Gt.store),l.deleteObjectStore(Vn.store),l.deleteObjectStore(er.store)}(t),rP(t)),c=c.next(function(){return function(l){var h=l.store(er.store),p=new er(0,0,ge.min().toTimestamp(),0);return h.put(er.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(ze.store).Nt().next(function(p){l.deleteObjectStore(ze.store),l.createObjectStore(ze.store,{keyPath:ze.keyPath,autoIncrement:!0}).createIndex(ze.userMutationsIndex,ze.userMutationsKeyPath,{unique:!0});var v=h.store(ze.store),m=p.map(function(y){return v.put(y)});return B.waitFor(m)})}(t,a)})),c=c.next(function(){(function(l){l.createObjectStore(eo.store,{keyPath:eo.keyPath})})(t)})),r<5&&i>=5&&(c=c.next(function(){return s.Re(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(wi.store)}(t),s.be(a)})),r<7&&i>=7&&(c=c.next(function(){return s.ve(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(t),function(l){var h=l.objectStore(st.store);h.createIndex(st.readTimeIndex,st.readTimeIndexPath,{unique:!1}),h.createIndex(st.collectionReadTimeIndex,st.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Ve(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(Sc.store,{keyPath:Sc.keyPath})})(t),function(l){l.createObjectStore(kc.store,{keyPath:kc.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(st.store).$t(function(r,i){n+=Tg(i)}).next(function(){var r=new wi(n);return t.store(wi.store).put(wi.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(es.store),i=t.store(ze.store);return r.Nt().next(function(s){return B.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(ze.userMutationsIndex,c).next(function(l){return B.forEach(l,function(h){ie(h.userId===a.userId);var p=Nu(n.R,h);return d4(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Gt.store),r=t.store(st.store);return t.store(er.store).get(er.key).next(function(i){var s=[];return r.$t(function(a,c){var l=new xe(a),h=function(p){return[0,ri(p)]}(l);s.push(n.get(h).next(function(p){return p?B.resolve():function(v){return n.put(new Gt(0,ri(v),i.highestListenSequenceNumber))}(l)}))}).next(function(){return B.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(da.store,{keyPath:da.keyPath});var r=n.store(da.store),i=new bI,s=function(a){if(i.add(a)){var c=a.lastSegment(),l=a.popLast();return r.put({collectionId:c,parent:ri(l)})}};return n.store(st.store).$t({Ft:!0},function(a,c){var l=new xe(a);return s(l.popLast())}).next(function(){return n.store(un.store).$t({Ft:!0},function(a,c){a[0];var l=a[1];a[2];var h=Xi(l);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Vn.store);return r.$t(function(i,s){var a=ff(s),c=h4(n.R,a);return r.put(c)})},e}();function rP(e){e.createObjectStore(Gt.store,{keyPath:Gt.keyPath}).createIndex(Gt.documentTargetsIndex,Gt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Vn.store,{keyPath:Vn.keyPath}).createIndex(Vn.queryTargetsIndexName,Vn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(er.store)}var Nw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",IQ=function(){function e(t,n,r,i,s,a,c,l,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=c,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new j(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wQ(this,i),this.Le=n+"main",this.R=new l4(l),this.Be=new Cc(this.Le,11,new TQ(this.R)),this.qe=new gQ(this.referenceDelegate,this.R),this.Ut=new pQ,this.Ue=function(v,m){return new EQ(v,m)}(this.R,this.Ut),this.Ke=new hQ,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&mt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new j(O.FAILED_PRECONDITION,Nw);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new rr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return A(n,void 0,void 0,function(){return N(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return A(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return A(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return $p(n).put(new eo(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(za(n))return z("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return nf(t).get(Zn.key).next(function(r){return B.resolve(n.tn(r))})},e.prototype.en=function(t){return $p(t).delete(this.clientId)},e.prototype.nn=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=Gn(c,eo.store);return l.Nt().next(function(h){var p=s.rn(h,18e5),v=h.filter(function(m){return p.indexOf(m)===-1});return B.forEach(v,function(m){return l.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?B.resolve(!0):nf(t).get(Zn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new j(O.FAILED_PRECONDITION,Nw);return!1}}return!(!n.networkEnabled||!n.inForeground)||$p(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&z("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return A(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Zn.store,eo.store],function(r){var i=new Gx(r,rr.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return $p(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return vQ.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;z("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,uQ,function(c){return s=new Gx(c,i.Ne?i.Ne.next():rr.o),n==="readwrite-primary"?i.Je(s).next(function(l){return!!l||i.Ye(s)}).next(function(l){if(!l)throw mt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new j(O.FAILED_PRECONDITION,a4);return r(s)}).next(function(l){return i.Ze(s).next(function(){return l})}):i.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return nf(t).get(Zn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new j(O.FAILED_PRECONDITION,Nw)})},e.prototype.Ze=function(t){var n=new Zn(this.clientId,this.allowTabSynchronization,Date.now());return nf(t).put(Zn.key,n)},e.yt=function(){return Cc.yt()},e.prototype.Xe=function(t){var n=this,r=nf(t);return r.get(Zn.key).next(function(i){return n.tn(i)?(z("IndexedDbPersistence","Releasing primary lease."),r.delete(Zn.key)):B.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(mt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),uz()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return z("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return mt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){mt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function nf(e){return Gn(e,Zn.store)}function $p(e){return Gn(e,eo.store)}function TI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var SQ=function(e,t){this.progress=e,this.wn=t},m4=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):dI(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new ee(n)).next(function(r){var i=xE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=xE();return this.Ut.getCollectionParents(t,s).next(function(c){return B.forEach(c,function(l){var h=function(p,v){return new ho(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return i.An(t,h,r).next(function(p){p.forEach(function(v,m){a=a.insert(v,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(c){return i=c,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return s=c,a.Rn(t,s,i).next(function(l){i=l;for(var h=0,p=s;h<p.length;h++)for(var v=p[h],m=0,y=v.mutations;m<y.length;m++){var w=y[m],I=w.key,C=i.get(I);C==null&&(C=en.newInvalidDocument(I),i=i.insert(I,C)),RE(w,C,v.localWriteTime),C.isFoundDocument()||(i=i.remove(I))}})}).next(function(){return i.forEach(function(c,l){nd(n,l)||(i=i.remove(c))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Le(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof ms&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(m,y){y.isFoundDocument()&&(p=p.insert(m,y))}),p})},e}(),kQ=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Le(),i=Le(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),y4=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ge.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var c=s.Cn(n,a);return(hv(n)||Eg(n))&&s.Nn(n.limitType,c,i,r)?s.Dn(t,n):(kE()<=me.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),AE(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(l){return c.forEach(function(h){l=l.insert(h.key,h)}),l}))})},e.prototype.Cn=function(t,n){var r=new Nt(FF(t));return n.forEach(function(i,s){nd(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return kE()<=me.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",AE(n)),this.Sn.getDocumentsMatchingQuery(t,n,ge.min())},e}(),CQ=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new gn(we),this.Fn=new Yc(function(s){return ed(s)},Dm),this.$n=ge.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new m4(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(e,t,n,r){return new CQ(e,t,n,r)}function w4(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=W(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n._n.getAllMutationBatches(c).next(function(h){return l=h,r=n.persistence.getMutationQueue(t),i=new m4(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(h){for(var p=[],v=[],m=Le(),y=0,w=l;y<w.length;y++){var I=w[y];p.push(I.batchId);for(var C=0,b=I.mutations;C<b.length;C++){var T=b[C];m=m.add(T.key)}}for(var S=0,x=h;S<x.length;S++){var L=x[S];v.push(L.batchId);for(var P=0,$=L.mutations;P<$.length;P++){var F=$[P];m=m.add(F.key)}}return i.pn(c,m).next(function(ce){return{Ln:ce,removedBatchIds:p,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function NQ(e,t){var n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){var p=l.batch,v=p.keys(),m=B.resolve();return v.forEach(function(y){m=m.next(function(){return h.getEntry(c,y)}).next(function(w){var I=l.docVersions.get(y);ie(I!==null),w.version.compareTo(I)<0&&(p.applyToRemoteDocument(w,l),w.isValidDocument()&&h.addEntry(w,l.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(c,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function E4(e){var t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function AQ(e,t){var n=W(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var c=[];t.targetChanges.forEach(function(p,v){var m=i.get(v);if(m){c.push(n.qe.removeMatchingKeys(s,p.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,v)}));var y=p.resumeToken;if(y.approximateByteSize()>0){var w=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,w),function(I,C,b){return ie(C.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,w,p)&&c.push(n.qe.updateTargetData(s,w))}}});var l=Cr();if(t.documentUpdates.forEach(function(p,v){t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(b4(s,a,t.documentUpdates,r,void 0).next(function(p){l=p})),!r.isEqual(ge.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(h)}return B.waitFor(c).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,l)}).next(function(){return l})}).then(function(s){return n.kn=i,s})}function b4(e,t,n,r,i){var s=Le();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var c=Cr();return n.forEach(function(l,h){var p=a.get(l),v=(i==null?void 0:i.get(l))||r;h.isNoDocument()&&h.version.isEqual(ge.min())?(t.removeEntry(l,v),c=c.insert(l,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,v),c=c.insert(l,h)):z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",p.version," Watch version:",h.version)}),c})}function RQ(e,t){var n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Rc(e,t){var n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,B.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new Um(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function xc(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:r=W(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.referenceDelegate.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!za(a=c.sent()))throw a;return z("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function Sg(e,t,n){var r=W(e),i=ge.min(),s=Le();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var p=W(c),v=p.Fn.get(h);return v!==void 0?B.resolve(p.kn.get(v)):p.qe.getTargetData(l,h)}(r,a,Pr(t)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,c.targetId).next(function(l){s=l})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:ge.min(),n?s:Le())}).next(function(c){return{documents:c,Bn:s}})})}function T4(e,t){var n=W(e),r=W(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function I4(e){var t=W(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=W(r),c=Cr(),l=wI(s),h=Oo(i),p=IDBKeyRange.lowerBound(l,!0);return h.$t({index:st.readTimeIndex,range:p},function(v,m){var y=OE(a.R,m);c=c.insert(y.key,y),l=m.readTime}).next(function(){return{wn:c,readTime:f4(l)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function xQ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,(t=W(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Oo(i),a=ge.min();return s.$t({index:st.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=f4(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function PQ(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,c,l,h,p,v,m,y;return N(this,function(w){switch(w.label){case 0:for(i=W(e),s=Le(),a=Cr(),c=GF(),l=0,h=n;l<h.length;l++)p=h[l],v=t.qn(p.metadata.name),p.document&&(s=s.add(v)),a=a.insert(v,t.Un(p)),c=c.insert(v,t.Kn(p.metadata.readTime));return m=i.On.newChangeBuffer({trackRemovals:!0}),[4,Rc(i,function(I){return Pr(Qc(xe.fromString("__bundle__/docs/"+I)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(I){return b4(I,m,a,ge.min(),c).next(function(C){return m.apply(I),C}).next(function(C){return i.qe.removeMatchingKeysForTargetId(I,y.targetId).next(function(){return i.qe.addMatchingKeys(I,s,y.targetId)}).next(function(){return i.Mn.En(I,C)}).next(function(){return C})})})]}})})}function OQ(e,t,n){return n===void 0&&(n=Le()),A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,Rc(e,Pr(EI(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=W(e)).persistence.runTransaction("Save named query","readwrite",function(a){var c=Ft(t.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ke.saveNamedQuery(a,t);var l=r.withResumeToken(Rn.EMPTY_BYTE_STRING,c);return i.kn=i.kn.insert(l.targetId,l),i.qe.updateTargetData(a,l).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DQ=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return B.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ft(r.createTime)}),B.resolve()},e.prototype.getNamedQuery=function(t,n){return B.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:EI(r.bundledQuery),readTime:Ft(r.readTime)}}(n)),B.resolve()},e}(),II=function(){function e(){this.Wn=new Nt(xt.Gn),this.zn=new Nt(xt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new xt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new xt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new ee(new xe([])),i=new xt(r,t),s=new xt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(c){n.Yn(c),a.push(c.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new ee(new xe([])),r=new xt(n,t),i=new xt(n,t+1),s=Le();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new xt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),xt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return ee.comparator(t.key,n.key)||we(t.ns,n.ns)},e.Hn=function(t,n){return we(t.ns,n.ns)||ee.comparator(t.key,n.key)},e}(),LQ=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Nt(xt.Gn)}return e.prototype.checkEmpty=function(t){return B.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new _I(s,n,r,i);this._n.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.rs=this.rs.add(new xt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return B.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return B.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return B.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return B.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return B.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new xt(n,0),s=new xt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(c){var l=r.os(c.ns);a.push(l)}),B.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Nt(we);return n.forEach(function(s){var a=new xt(s,0),c=new xt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,c],function(l){i=i.add(l.ns)})}),B.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;ee.isDocumentKey(s)||(s=s.child(""));var a=new xt(new ee(s),0),c=new Nt(we);return this.rs.forEachWhile(function(l){var h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(l.ns)),!0)},a),B.resolve(this.us(c))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;ie(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return B.forEach(n.mutations,function(s){var a=new xt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new xt(n,0),i=this.rs.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,B.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),MQ=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new gn(ee.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:c,readTime:r}),this.size+=c-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return B.resolve(r?r.document.clone():en.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Cr();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():en.newInvalidDocument(s))}),B.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Cr(),s=new ee(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var c=a.getNext(),l=c.key,h=c.value,p=h.document,v=h.readTime;if(!n.path.isPrefixOf(l.path))break;v.compareTo(r)<=0||nd(n,p)&&(i=i.insert(p.key,p.clone()))}return B.resolve(i)},e.prototype.fs=function(t,n){return B.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new FQ(this)},e.prototype.getSize=function(t){return B.resolve(this.size)},e}(),FQ=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return K(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),B.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(g4),UQ=function(){function e(t){this.persistence=t,this.ds=new Yc(function(n){return ed(n)},Dm),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.ws=0,this._s=new II,this.targetCount=0,this.ys=Ig.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),B.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return B.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return B.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),B.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),B.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Ig(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,B.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),B.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,B.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.ds.delete(c),a.push(i.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),B.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return B.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return B.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),B.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),B.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),B.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return B.resolve(r)},e.prototype.containsKey=function(t,n){return B.resolve(this._s.containsKey(n))},e}(),jQ=function(){function e(t,n){var r=this;this.gs={},this.Ne=new rr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new UQ(this),this.Ut=new dQ,this.Ue=function(i,s){return new MQ(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new l4(n),this.Ke=new DQ(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new LQ(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;z("MemoryPersistence","Starting transaction:",t);var s=new BQ(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return B.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),BQ=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return K(t,e),t}(u4),VQ=function(){function e(t){this.persistence=t,this.As=new II,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Z()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),B.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),B.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),B.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.vs,function(i){var s=ee.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return B.or([function(){return B.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Ht=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(e,t){return"firestore_clients_"+e+"_"+t}function oP(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Aw(e,t){return"firestore_targets_"+e+"_"+t}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");var sP=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new j(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(mt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Rw=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new j(i.error.code,i.error.message)),s?new e(t,i.state,r):(mt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),aP=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Fm(),a=0;i&&a<r.activeTargetIds.length;++a)i=xF(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(mt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),$Q=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(mt("SharedClientState","Failed to parse online state: "+t),null)},e}(),DE=function(){function e(){this.activeTargetIds=Fm()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),xw=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new gn(we),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=iP(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new DE),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Ks=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,c,l,h,p,v,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(iP(this.persistenceKey,i)))&&(a=aP.Vs(i,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(c=this.storage.getItem(this.Us))&&(l=this.js(c))&&this.Ws(l),h=0,p=this.$s;h<p.length;h++)v=p[h],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Aw(this.persistenceKey,t));if(r){var i=Rw.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Aw(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return z("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){z("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){z("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(z("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void mt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return A(n,void 0,void 0,function(){var i,s,a,c,l,h;return N(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(l=this.js(r.newValue)))return[2,this.Ws(l)]}else if(r.key===this.Ms)(h=function(v){var m=rr.o;if(v!=null)try{var y=JSON.parse(v);ie(typeof y=="number"),m=y}catch(w){mt("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(r.newValue))!==rr.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new sP(this.currentUser,t,n,r),s=oP(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=oP(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=Aw(this.persistenceKey,t),s=new Rw(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return aP.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return sP.Vs(new Ht(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return Rw.Vs(i,n)},e.prototype.js=function(t){return $Q.Vs(t)},e.prototype.ii=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(z("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this.syncEngine.hi(c,l).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Fm();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),S4=function(){function e(){this.li=new DE,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new DE,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),qQ=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),uP=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),zQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},HQ=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),WQ=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return K(t,e),t.prototype.Fi=function(n,r,i,s){return new Promise(function(a,c){var l=new T7;l.listenOnce(w7.COMPLETE,function(){try{switch(l.getLastErrorCode()){case Cw.NO_ERROR:var p=l.getResponseJson();z("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Cw.TIMEOUT:z("Connection",'RPC "'+n+'" timed out'),c(new j(O.DEADLINE_EXCEEDED,"Request time out"));break;case Cw.HTTP_ERROR:var v=l.getStatus();if(z("Connection",'RPC "'+n+'" failed with status:',v,"response text:",l.getResponseText()),v>0){var m=l.getResponseJson().error;if(m&&m.status&&m.message){var y=function(w){var I=w.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(I)>=0?I:O.UNKNOWN}(m.status);c(new j(y,m.message))}else c(new j(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new j(O.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{z("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=y7(),a=_7(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new b7({})),this.ki(c.initMessageHeaders,r),Yb()||zD()||oz()||sz()||az()||Xb()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");z("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),p=!1,v=!1,m=new HQ({Ei:function(w){v?z("Connection","Not sending because WebChannel is closed:",w):(p||(z("Connection","Opening WebChannel transport."),h.open(),p=!0),z("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),y=function(w,I,C){w.listen(I,function(b){try{C(b)}catch(T){setTimeout(function(){throw T},0)}})};return y(h,Up.EventType.OPEN,function(){v||z("Connection","WebChannel transport opened.")}),y(h,Up.EventType.CLOSE,function(){v||(v=!0,z("Connection","WebChannel transport closed"),m.Vi())}),y(h,Up.EventType.ERROR,function(w){v||(v=!0,ph("Connection","WebChannel transport errored:",w),m.Vi(new j(O.UNAVAILABLE,"The operation could not be completed")))}),y(h,Up.EventType.MESSAGE,function(w){var I;if(!v){var C=w.data[0];ie(!!C);var b=C,T=b.error||((I=b[0])===null||I===void 0?void 0:I.error);if(T){z("Connection","WebChannel received error:",T);var S=T.status,x=function(P){var $=pt[P];if($!==void 0)return KF($)}(S),L=T.message;x===void 0&&(x=O.INTERNAL,L="Unknown error status: "+S+" with message "+T.message),v=!0,m.Vi(new j(x,L)),h.close()}else z("Connection","WebChannel received:",C),m.Si(C)}}),y(a,E7.STAT_EVENT,function(w){w.stat===Sx.PROXY?z("Connection","Detected buffering proxy"):w.stat===Sx.NOPROXY&&z("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);z("RestConnection","Sending: ",s,r);var a={};return this.ki(a,i),this.Fi(t,s,a,r).then(function(c){return z("RestConnection","Received: ",c),c},function(c){throw ph("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=zQ[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){return typeof window<"u"?window:null}function vv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(e){return new X7(e,!0)}var SI=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&z("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),C4=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new SI(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return A(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(mt(n.toString()),mt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===O.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new j(O.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return A(t,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return z("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),KQ=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,c}return K(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(C){return C==="NO_CHANGE"?0:C==="ADD"?1:C==="REMOVE"?2:C==="CURRENT"?3:C==="RESET"?4:Z()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(C,b){return C.I?(ie(b===void 0||typeof b=="string"),Rn.fromBase64String(b||"")):(ie(b===void 0||b instanceof Uint8Array),Rn.fromUint8Array(b||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(C){var b=C.code===void 0?O.UNKNOWN:KF(C.code);return new j(b,C.message||"")}(m);c=new YF(l,h,p,v||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=Ii(s,l.document.name),p=Ft(l.document.updateTime);var m=new tr({mapValue:{fields:l.document.fields}}),y=(v=en.newFoundDocument(h,p,m),l.targetIds||[]),w=l.removedTargetIds||[];c=new pv(y,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=Ii(s,l.document),p=l.readTime?Ft(l.readTime):ge.min(),m=en.newNoDocument(h,p),v=l.removedTargetIds||[],c=new pv([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=Ii(s,l.document),p=l.removedTargetIds||[],c=new pv([],p,h,null);else{if(!("filter"in a))return Z();a.filter;var I=a.filter;I.targetId,l=I.count||0,h=new $7(l),p=I.targetId,c=new QF(p,h)}return c}(this.R,n),i=function(s){if(!("targetChange"in s))return ge.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?ge.min():a.readTime?Ft(a.readTime):ge.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=wh(this.R),r.addTarget=function(s,a){var c,l=a.target;return(c=_g(l)?{documents:n4(s,l)}:{query:r4(s,l)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=XF(s,a.resumeToken):a.snapshotVersion.compareTo(ge.min())>0&&(c.readTime=yh(s,a.snapshotVersion.toTimestamp())),c}(this.R,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Z()}}(0,a.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=wh(this.R),r.removeTarget=n,this.cr(r)},t}(C4),GQ=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,c.gr=!1,c}return K(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(ie(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(ie(a!==void 0),s.map(function(c){return function(l,h){var p=l.updateTime?Ft(l.updateTime):Ft(h);return p.isEqual(ge.min())&&(p=Ft(h)),new j7(p,l.transformResults||[])}(c,a)})):[]}(n.writeResults,n.commitTime),i=Ft(n.commitTime);return this.listener.Tr(i,r)}return ie(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=wh(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return bg(r.R,s)})};this.cr(i)},t}(C4),QQ=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return K(t,e),t.prototype.br=function(){if(this.Rr)throw new j(O.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(O.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(O.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),YQ=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(mt(n),this.Vr=!1):z("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),XQ=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return A(s,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return ys(this)?(z("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return A(this,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return(h=W(l)).Or.add(4),[4,Xc(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,ad(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new YQ(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!ys(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Xc(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function jm(e,t){var n=W(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),NI(n)?CI(n):Zc(n).er()&&kI(n,t))}function Eh(e,t){var n=W(e),r=Zc(n);n.$r.delete(t),r.er()&&N4(n,t),n.$r.size===0&&(r.er()?r.ir():ys(n)&&n.Br.set("Unknown"))}function kI(e,t){e.qr.U(t.targetId),Zc(e).mr(t)}function N4(e,t){e.qr.U(t),Zc(e).yr(t)}function CI(e){e.qr=new G7({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Zc(e).start(),e.Br.Sr()}function NI(e){return ys(e)&&!Zc(e).tr()&&e.$r.size>0}function ys(e){return W(e).Or.size===0}function A4(e){e.qr=void 0}function JQ(e){return A(this,void 0,void 0,function(){return N(this,function(t){return e.$r.forEach(function(n,r){kI(e,n)}),[2]})})}function ZQ(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){return A4(e),NI(e)?(e.Br.Nr(t),CI(e)):e.Br.set("Unknown"),[2]})})}function e9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof YF&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return A(this,void 0,void 0,function(){var h,p,v,m;return N(this,function(y){switch(y.label){case 0:h=l.cause,p=0,v=l.targetIds,y.label=1;case 1:return p<v.length?(m=v[p],c.$r.has(m)?[4,c.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),c.$r.delete(m),c.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),z("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,kg(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof pv?e.qr.X(t):t instanceof QF?e.qr.rt(t):e.qr.et(t),n.isEqual(ge.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,E4(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(c,l){var h=c.qr.ut(l);return h.targetChanges.forEach(function(p,v){if(p.resumeToken.approximateByteSize()>0){var m=c.$r.get(v);m&&c.$r.set(v,m.withResumeToken(p.resumeToken,l))}}),h.targetMismatches.forEach(function(p){var v=c.$r.get(p);if(v){c.$r.set(p,v.withResumeToken(Rn.EMPTY_BYTE_STRING,v.snapshotVersion)),N4(c,p);var m=new Um(v.target,p,1,v.sequenceNumber);kI(c,m)}}),c.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return z("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,kg(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function kg(e,t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!za(t))throw t;return e.Or.add(1),[4,Xc(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return E4(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return A(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return z("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,ad(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function R4(e,t){return t().catch(function(n){return kg(e,n,t)})}function Jc(e){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:t=W(e),n=ls(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return ys(c)&&c.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,RQ(t.localStore,r)];case 3:return(i=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(c,l){c.Fr.push(l);var h=ls(c);h.er()&&h.pr&&h.Er(l.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,kg(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return x4(t)&&P4(t),[2]}})})}function x4(e){return ys(e)&&!ls(e).tr()&&e.Fr.length>0}function P4(e){ls(e).start()}function t9(e){return A(this,void 0,void 0,function(){return N(this,function(t){return ls(e).Ar(),[2]})})}function n9(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){for(t=ls(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function r9(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),i=fQ.from(r,t,n),[4,R4(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Jc(e)];case 2:return s.sent(),[2]}})})}function i9(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return t&&ls(e).pr?[4,function(r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(c){switch(c.label){case 0:return WF(a=i.code)&&a!==O.ABORTED?(s=r.Fr.shift(),ls(r).sr(),[4,R4(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,Jc(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return x4(e)&&P4(e),[2]}})})}function LE(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(e),t?(n.Or.delete(2),[4,ad(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Xc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Zc(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=W(n);return s.br(),new KQ(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:JQ.bind(null,e),Ri:ZQ.bind(null,e),_r:e9.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),NI(e)?CI(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),A4(e),r.label=3;case 3:return[2]}})})})),e.Ur}function ls(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=W(n);return s.br(),new GQ(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:t9.bind(null,e),Ri:i9.bind(null,e),Ir:n9.bind(null,e),Tr:r9.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Jc(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(z("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var o9=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function el(e,t){if(mt("AsyncQueue",t+": "+e),za(e))return new j(O.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O4=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||ee.comparator(n.key,r.key)}:function(n,r){return ee.comparator(n.key,r.key)},this.keyedMap=xE(),this.sortedSet=new gn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),cP=function(){function e(){this.Qr=new gn(ee.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Z():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Cg=function(){function e(t,n,r,i,s,a,c,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,O4.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&td(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),s9=function(){this.Wr=void 0,this.listeners=[]},a9=function(){this.queries=new Yc(function(e){return MF(e)},td),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(n=W(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new s9),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return c=h.sent(),l=el(c,"Initialization of query '"+AE(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&xI(n),[2]}})})}function RI(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){return n=W(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function u9(e,t){for(var n=W(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,p=l.listeners;h<p.length;h++)p[h].Hr(a)&&(r=!0);l.Wr=a}}r&&xI(n)}function c9(e,t,n){var r=W(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function xI(e){e.Gr.forEach(function(t){t.next()})}var PI=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new Cg(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Cg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),l9=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),lP=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Ii(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?t4(this.R,t.document,!1):en.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return Ft(t)},e}(),f9=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=D4(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new lP(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var c=r.qn(a.metadata.name),l=0,h=a.metadata.queries;l<h.length;l++){var p=h[l],v=(n.get(p)||Le()).add(c);n.set(p,v)}}return n},e.prototype.complete=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,PQ(this.localStore,new lP(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,OQ(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new SQ(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L4=function(e){this.key=e},M4=function(e){this.key=e},F4=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Le(),this.mutatedKeys=Le(),this.lo=FF(t),this.fo=new O4(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new cP,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,c=s,l=!1,h=hv(this.query)&&s.size===this.query.limit?s.last():null,p=Eg(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var w=s.get(m),I=nd(r.query,y)?y:null,C=!!w&&r.mutatedKeys.has(w.key),b=!!I&&(I.hasLocalMutations||r.mutatedKeys.has(I.key)&&I.hasCommittedMutations),T=!1;w&&I?w.data.isEqual(I.data)?C!==b&&(i.track({type:3,doc:I}),T=!0):r.yo(w,I)||(i.track({type:2,doc:I}),T=!0,(h&&r.lo(I,h)>0||p&&r.lo(I,p)<0)&&(l=!0)):!w&&I?(i.track({type:0,doc:I}),T=!0):w&&!I&&(i.track({type:1,doc:w}),T=!0,(h||p)&&(l=!0)),T&&(I?(c=c.add(I),a=b?a.add(m):a.delete(m)):(c=c.delete(m),a=a.delete(m)))}),hv(this.query)||Eg(this.query))for(;c.size>this.query.limit;){var v=hv(this.query)?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:c,mo:i,Nn:l,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,v){return function(m,y){var w=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return w(m)-w(y)}(p.type,v.type)||i.lo(p.doc,v.doc)}),this.po(r);var c=n?this.Eo():[],l=this.ho.size===0&&this.current?1:0,h=l!==this.ao;return this.ao=l,a.length!==0||h?{snapshot:new Cg(this.query,t.fo,s,a,t.mutatedKeys,l===0,h,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new cP,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Le(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new M4(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new L4(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Le();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Cg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),h9=function(e,t,n){this.query=e,this.targetId=t,this.view=n},d9=function(e){this.key=e,this.bo=!1},p9=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Yc(function(c){return MF(c)},td),this.Vo=new Map,this.So=new Set,this.Do=new gn(ee.comparator),this.Co=new Map,this.No=new II,this.xo={},this.ko=new Map,this.Fo=Ig.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function v9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return n=FI(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Rc(n.localStore,Pr(t))];case 2:return a=l.sent(),c=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,OI(n,t,r,c==="current")];case 3:i=l.sent(),n.isPrimaryClient&&jm(n.remoteStore,a),l.label=4;case 4:return[2,i]}})})}function OI(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,c,l,h;return N(this,function(p){switch(p.label){case 0:return e.Oo=function(v,m,y){return function(w,I,C,b){return A(this,void 0,void 0,function(){var T,S,x;return N(this,function(L){switch(L.label){case 0:return T=I.view._o(C),T.Nn?[4,Sg(w.localStore,I.query,!1).then(function(P){var $=P.documents;return I.view._o($,T)})]:[3,2];case 1:T=L.sent(),L.label=2;case 2:return S=b&&b.targetChanges.get(I.targetId),x=I.view.applyChanges(T,w.isPrimaryClient,S),[2,(ME(w,I.targetId,x.To),x.snapshot)]}})})}(e,v,m,y)},[4,Sg(e.localStore,t,!0)];case 1:return i=p.sent(),s=new F4(t,i.Bn),a=s._o(i.documents),c=gI.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),l=s.applyChanges(a,e.isPrimaryClient,c),ME(e,n,l.To),h=new h9(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot)]}})})}function g9(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=W(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!td(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,xc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Eh(n.remoteStore,r.targetId),Pc(n,r.targetId)}).catch(Ha)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Pc(n,r.targetId),[4,xc(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function m9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:r=UI(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var p,v=W(l),m=Wn.now(),y=h.reduce(function(w,I){return w.add(I.key)},Le());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Mn.pn(w,y).next(function(I){p=I;for(var C=[],b=0,T=h;b<T.length;b++){var S=T[b],x=V7(S,p.get(S.key));x!=null&&C.push(new ms(S.key,x,PF(x.value.mapValue),cn.exists(!0)))}return v._n.addMutationBatch(w,m,C,h)})}).then(function(w){return w.applyToLocalDocumentSet(p),{batchId:w.batchId,changes:p}})}(r.localStore,t)];case 2:return i=c.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(l,h,p){var v=l.xo[l.currentUser.toKey()];v||(v=new gn(we)),v=v.insert(h,p),l.xo[l.currentUser.toKey()]=v}(r,i.batchId,n),[4,po(r,i.changes)];case 3:return c.sent(),[4,Jc(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=el(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function U4(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=W(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,AQ(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var c=n.Co.get(a);c&&(ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?ie(c.bo):s.removedDocuments.size>0&&(ie(c.bo),c.bo=!1))}),[4,po(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ha(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function fP(e,t,n){var r=W(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var c=a.view.zr(t);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=W(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,p){for(var v=0,m=p.listeners;v<m.length;v++)m[v].zr(a)&&(l=!0)}),l&&xI(c)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function y9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return(r=W(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new gn(ee.comparator)).insert(s,en.newNoDocument(s,ge.min())),c=Le().add(s),l=new vI(ge.min(),new Map,new Nt(we),a,c),[4,U4(r,l)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),MI(r),[3,4];case 2:return[4,xc(r.localStore,t,!1).then(function(){return Pc(r,t,n)}).catch(Ha)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function _9(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=W(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,NQ(n.localStore,t)];case 2:return i=s.sent(),LI(n,r,null),DI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,po(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ha(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function w9(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=W(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=W(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return l._n.lookupMutationBatch(h,c).next(function(v){return ie(v!==null),p=v.keys(),l._n.removeMutationBatch(h,v)}).next(function(){return l._n.performConsistencyCheck(h)}).next(function(){return l.Mn.pn(h,p)})})}(r.localStore,t)];case 2:return i=s.sent(),LI(r,t,n),DI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,po(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ha(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function E9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:ys((n=W(e)).remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=W(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return s=c.sent(),a=el(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function DI(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function LI(e,t,n){var r=W(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Pc(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||j4(e,a)})}function j4(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Eh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),MI(e))}function ME(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof L4?(e.No.addReference(s.key,t),b9(e,s)):s instanceof M4?(z("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||j4(e,s.key)):Z()}}function b9(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(z("SyncEngine","New document in limbo: "+n),e.So.add(r),MI(e))}function MI(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ee(xe.fromString(t)),r=e.Fo.next();e.Co.set(r,new d9(n)),e.Do=e.Do.insert(n,r),jm(e.remoteStore,new Um(Pr(Qc(n.path)),r,2,rr.o))}}function po(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:return r=W(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(l,h){a.push(r.Oo(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var v=kQ.Pn(h.targetId,p);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.vo._r(i),[4,function(l,h){return A(this,void 0,void 0,function(){var p,v,m,y,w,I,C,b,T;return N(this,function(S){switch(S.label){case 0:p=W(l),S.label=1;case 1:return S.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(x){return B.forEach(h,function(L){return B.forEach(L.bn,function(P){return p.persistence.referenceDelegate.addReference(x,L.targetId,P)}).next(function(){return B.forEach(L.vn,function(P){return p.persistence.referenceDelegate.removeReference(x,L.targetId,P)})})})})];case 2:return S.sent(),[3,4];case 3:if(!za(v=S.sent()))throw v;return z("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)w=y[m],I=w.targetId,w.fromCache||(C=p.kn.get(I),b=C.snapshotVersion,T=C.withLastLimboFreeSnapshotVersion(b),p.kn=p.kn.insert(I,T));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function T9(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=W(e)).currentUser.isEqual(t)?[3,3]:(z("SyncEngine","User change. New user:",t.toKey()),[4,w4(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(c){c.forEach(function(l){l.reject(new j(O.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,po(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function I9(e,t){var n=W(e),r=n.Co.get(t);if(r&&r.bo)return Le().add(r.key);var i=Le(),s=n.Vo.get(t);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.Po.get(l);i=i.unionWith(h.view.wo)}return i}function S9(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Sg((n=W(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&ME(n,t.targetId,i.To),i)]}})})}function k9(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,I4((t=W(e)).localStore).then(function(r){return po(t,r)})]})})}function C9(e,t,n,r){return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=W(c),p=W(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return p.jt(v,l).next(function(m){return m?h.Mn.pn(v,m):B.resolve(null)})})}((i=W(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Jc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(LI(i,t,r||null),DI(i,t),function(c,l){W(W(c)._n).Gt(l)}(i.localStore,t)):Z(),a.label=4;case 4:return[4,po(i,s)];case 5:return a.sent(),[3,7];case 6:z("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function N9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return N(this,function(p){switch(p.label){case 0:return FI(n=W(e)),UI(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,hP(n,r.toArray())]);case 1:return i=p.sent(),n.$o=!0,[4,LE(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)c=a[s],jm(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(l=[],h=Promise.resolve(),n.Vo.forEach(function(v,m){n.sharedClientState.isLocalQueryTarget(m)?l.push(m):h=h.then(function(){return Pc(n,m),xc(n.localStore,m,!0)}),Eh(n.remoteStore,m)}),[4,h]);case 4:return p.sent(),[4,hP(n,l)];case 5:return p.sent(),function(v){var m=W(v);m.Co.forEach(function(y,w){Eh(m.remoteStore,w)}),m.No.ts(),m.Co=new Map,m.Do=new gn(ee.comparator)}(n),n.$o=!1,[4,LE(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function hP(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,c,l,h,p,v,m,y,w,I,C;return N(this,function(b){switch(b.label){case 0:r=W(e),i=[],s=[],a=0,c=t,b.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(p=r.Vo.get(l))&&p.length!==0?[4,Rc(r.localStore,Pr(p[0]))]:[3,7]):[3,13];case 2:h=b.sent(),v=0,m=p,b.label=3;case 3:return v<m.length?(y=m[v],w=r.Po.get(y),[4,S9(r,w)]):[3,6];case 4:(I=b.sent()).snapshot&&s.push(I.snapshot),b.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,T4(r.localStore,l)];case 8:return C=b.sent(),[4,Rc(r.localStore,C)];case 9:return h=b.sent(),[4,OI(r,B4(C),l,!1)];case 10:b.sent(),b.label=11;case 11:i.push(h),b.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function B4(e){return DF(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function A9(e){var t=W(e);return W(W(t.localStore).persistence).fn()}function R9(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a;return N(this,function(c){switch(c.label){case 0:return(i=W(e)).$o?(z("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,I4(i.localStore)];case 3:return s=c.sent(),a=vI.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,po(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,xc(i.localStore,t,!0)];case 6:return c.sent(),Pc(i,t,r),[3,8];case 7:Z(),c.label=8;case 8:return[2]}})})}function x9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,c,l,h,p,v,m;return N(this,function(y){switch(y.label){case 0:if(!(r=FI(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(z("SyncEngine","Adding an already active target "+a),[3,5]):[4,T4(r.localStore,a)]):[3,6];case 2:return c=y.sent(),[4,Rc(r.localStore,c)];case 3:return l=y.sent(),[4,OI(r,B4(c),l.targetId,!1)];case 4:y.sent(),jm(r.remoteStore,l),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return N(this,function(I){switch(I.label){case 0:return r.Vo.has(w)?[4,xc(r.localStore,w,!1).then(function(){Eh(r.remoteStore,w),Pc(r,w)}).catch(Ha)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},p=0,v=n,y.label=7;case 7:return p<v.length?(m=v[p],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function FI(e){var t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=U4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=I9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=y9.bind(null,t),t.vo._r=u9.bind(null,t.eventManager),t.vo.Mo=c9.bind(null,t.eventManager),t}function UI(e){var t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=w9.bind(null,t),t}function P9(e,t,n){var r=W(e);(function(i,s,a){return A(this,void 0,void 0,function(){var c,l,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return c=y.sent(),[4,function(w,I){var C=W(w),b=Ft(I.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",function(T){return C.Ke.getBundleMetadata(T,I.id)}).then(function(T){return!!T&&T.createTime.compareTo(b)>=0})}(i.localStore,c)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(c)))];case 4:return a._updateProgress(D4(c)),l=new f9(c,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,l.oo(h)]:[3,10];case 7:return(p=y.sent())&&a._updateProgress(p),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,l.complete()];case 11:return v=y.sent(),[4,po(i,v.wn,void 0)];case 12:return y.sent(),[4,function(w,I){var C=W(w);return C.persistence.runTransaction("Save bundle","readwrite",function(b){return C.Ke.saveBundleMetadata(b,I)})}(i.localStore,c)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return ph("SyncEngine","Loading bundle failed with "+(m=y.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var V4=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.R=sd(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return _4(this.persistence,new y4,t.initialUser,this.R)},e.prototype.qo=function(t){return new jQ(VQ.bs,this.R)},e.prototype.Bo=function(t){return new S4},e.prototype.terminate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),$4=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return K(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,xQ(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,UI(this.Qo.syncEngine)];case 4:return i.sent(),[4,Jc(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return _4(this.persistence,new y4,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new yQ(r,n.asyncQueue)},t.prototype.qo=function(n){var r=TI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?yi.withCacheSize(this.cacheSizeBytes):yi.DEFAULT;return new IQ(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,k4(),vv(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new S4},t}(V4),O9=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return K(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof xw?(this.sharedClientState.syncEngine={ui:C9.bind(null,r),ai:R9.bind(null,r),hi:x9.bind(null,r),fn:A9.bind(null,r),ci:k9.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return A(i,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return[4,N9(this.Qo.syncEngine,a)];case 1:return c.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=k4();if(!xw.yt(r))throw new j(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=TI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new xw(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}($4),FE=function(){function e(){}return e.prototype.initialize=function(t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return fP(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=T9.bind(null,this.syncEngine),[4,LE(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new a9},e.prototype.createDatastore=function(t){var n,r=sd(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new WQ(n));return function(s,a,c){return new QQ(s,a,c)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,c=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(l){return fP(c.syncEngine,l,0)},a=uP.yt()?new uP:new qQ,new XQ(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,c,l,h){var p=new p9(r,i,s,a,c,l);return h&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(t),z("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Xc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return A(this,void 0,void 0,function(){var r;return N(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return A(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bm=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),D9=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new vn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new l9(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),L9=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new j(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return A(this,void 0,void 0,function(){var c,l,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return c=W(s),l=wh(c.R)+"/documents",h={documents:a.map(function(w){return _h(c.R,w)})},[4,c.$i("BatchGetDocuments",l,h)];case 1:return p=y.sent(),v=new Map,p.forEach(function(w){var I=function(C,b){return"found"in b?function(T,S){ie(!!S.found),S.found.name,S.found.updateTime;var x=Ii(T,S.found.name),L=Ft(S.found.updateTime),P=new tr({mapValue:{fields:S.found.fields}});return en.newFoundDocument(x,L,P)}(C,b):"missing"in b?function(T,S){ie(!!S.missing),ie(!!S.readTime);var x=Ii(T,S.missing),L=Ft(S.readTime);return en.newNoDocument(x,L)}(C,b):Z()}(c.R,w);v.set(I.key.toString(),I)}),m=[],[2,(a.forEach(function(w){var I=v.get(w.toString());ie(!!I),m.push(I)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new od(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=ee.fromPath(s);n.mutations.push(new pI(a,n.precondition(a)))}),[4,function(i,s){return A(this,void 0,void 0,function(){var a,c,l;return N(this,function(h){switch(h.label){case 0:return a=W(i),c=wh(a.R)+"/documents",l={writes:s.map(function(p){return bg(a.R,p)})},[4,a.Ni("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Z();n=ge.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new j(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?cn.updateTime(n):cn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ge.min()))throw new j(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),M9=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new SI(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return A(t,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new L9(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(c){i.ic(c)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!qa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!WF(n)}return!1},e}(),F9=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ht.UNAUTHENTICATED,this.clientId=kF.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return A(i,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return z("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new j(O.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return A(t,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=el(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(e,t){return A(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return A(i,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return r.isEqual(a)?[3,2]:[4,w4(t.localStore,a)];case 1:c.sent(),r=a,c.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function z4(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,jI(e)];case 1:return n=i.sent(),z("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,c){return A(this,void 0,void 0,function(){var l,h;return N(this,function(p){switch(p.label){case 0:return(l=W(a)).asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials"),h=ys(l),l.Or.add(3),[4,Xc(l)];case 1:return p.sent(),h&&l.Br.set("Unknown"),[4,l.remoteSyncer.handleCredentialChange(c)];case 2:return p.sent(),l.Or.delete(3),[4,ad(l)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function jI(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(z("FirestoreClient","Using default OfflineComponentProvider"),[4,q4(e,new V4)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Vm(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(z("FirestoreClient","Using default OnlineComponentProvider"),[4,z4(e,new FE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function pP(e){return jI(e).then(function(t){return t.persistence})}function BI(e){return jI(e).then(function(t){return t.localStore})}function vP(e){return Vm(e).then(function(t){return t.remoteStore})}function VI(e){return Vm(e).then(function(t){return t.syncEngine})}function Oc(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,Vm(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=v9.bind(null,t.syncEngine),n.onUnlisten=g9.bind(null,t.syncEngine),n)]}})})}function gP(e,t,n){var r=this;n===void 0&&(n={});var i=new vn;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(c,l,h,p,v){var m=new Bm({next:function(w){l.enqueueAndForget(function(){return RI(c,y)});var I=w.docs.has(h);!I&&w.fromCache?v.reject(new j(O.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&p&&p.source==="server"?v.reject(new j(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new PI(Qc(h.path),m,{includeMetadataChanges:!0,so:!0});return AI(c,y)},[4,Oc(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function mP(e,t,n){var r=this;n===void 0&&(n={});var i=new vn;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(c,l,h,p,v){var m=new Bm({next:function(w){l.enqueueAndForget(function(){return RI(c,y)}),w.fromCache&&p.source==="server"?v.reject(new j(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new PI(h,m,{includeMetadataChanges:!0,so:!0});return AI(c,y)},[4,Oc(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var U9=function(e,t,n,r,i,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=c},Ng=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),yP=new Map,H4=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},_P=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Ht.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),j9=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),B9=function(){function e(t){var n=this;this.currentUser=Ht.UNAUTHENTICATED,this.oc=new vn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){z("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(z("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(z("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(ie(typeof i.accessToken=="string"),new H4(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return A(r,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ie(t===null||typeof t=="string"),new Ht(t)},e}(),V9=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),$9=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new V9(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Ht.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(e,t,n){if(!n)throw new j(O.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function qI(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new j(O.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function W4(e,t,n,r){if(t===!0&&r===!0)throw new j(O.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function wP(e){if(!ee.isDocumentKey(e))throw new j(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function EP(e){if(ee.isDocumentKey(e))throw new j(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function $m(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Z()}function Ae(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=$m(e);throw new j(O.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function bP(e,t){if(t<=0)throw new j(O.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TP=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new j(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new j(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,W4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),bh=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TP({}),this._settingsFrozen=!1,t instanceof Ng?(this._databaseId=t,this._credentials=new _P):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new j(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ng(r.options.projectId)}(t),this._credentials=new B9(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new j(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new j(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TP(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new _P;switch(n.type){case"gapi":var r=n.client;return ie(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new $9(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new j(O.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=yP.get(t))&&(z("ComponentProvider","Removing Datastore"),yP.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),tt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ts(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Kn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),ts=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Qc(i))||this)._path=i,s.type="collection",s}return K(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new tt(this.firestore,null,new ee(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Kn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=he(e),$I("collection","path",t),e instanceof bh)return EP(n=xe.fromString.apply(xe,de([t],r))),new ts(e,null,n);if(!(e instanceof tt||e instanceof ts))throw new j(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return EP(n=xe.fromString.apply(xe,de([e.path],r)).child(xe.fromString(t))),new ts(e.firestore,null,n)}function gv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=he(e),arguments.length===1&&(t=kF.u()),$I("doc","path",t),e instanceof bh)return wP(n=xe.fromString.apply(xe,de([t],r))),new tt(e,null,new ee(n));if(!(e instanceof tt||e instanceof ts))throw new j(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wP(n=e._path.child(xe.fromString.apply(xe,de([t],r)))),new tt(e.firestore,e instanceof ts?e.converter:null,new ee(n))}function G4(e,t){return e=he(e),t=he(t),(e instanceof tt||e instanceof ts)&&(t instanceof tt||t instanceof ts)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Q4(e,t){return e=he(e),t=he(t),e instanceof Kn&&t instanceof Kn&&e.firestore===t.firestore&&td(e._query,t._query)&&e.converter===t.converter}var q9=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new SI(this,"async_queue_retry"),this.Ic=function(){var r=vv();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=vv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=vv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new vn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!za(t=r.sent()))throw t;return z("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,mt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=o9.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Z()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,c){return a.targetTimeMs-c.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Dc(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var z9=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),H9=-1,ht=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new q9,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return K(t,e),t.prototype._terminate=function(){return this._firestoreClient||Y4(this),this._firestoreClient.terminate()},t}(bh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(e){return e._firestoreClient||Y4(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Y4(e){var t,n=e._freezeSettings(),r=function(i,s,a,c){return new U9(i,s,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new F9(e._credentials,e._queue,r)}function IP(e,t,n){var r=this,i=new vn;return e.asyncQueue.enqueue(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,q4(e,n)];case 1:return a.sent(),[4,z4(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===O.FAILED_PRECONDITION||c.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function SP(e){if(e._initialized||e._terminated)throw new j(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new j(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oi(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),xa=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Rn.fromBase64String(t))}catch(n){throw new j(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Rn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Wa=function(e){this._methodName=e},qm=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new j(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new j(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return we(this._lat,t._lat)||we(this._long,t._long)},e}(),W9=/^__.*__$/,K9=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new ms(t,this.data,this.fieldMask,n,this.fieldTransforms):new id(t,this.data,n,this.fieldTransforms)},e}(),X4=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new ms(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var Z4=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Ag(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(J4(this.Nc)&&W9.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),G9=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||sd(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new Z4({Nc:t,methodName:n,qc:r,path:oi.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ka(e){var t=e._freezeSettings(),n=sd(e._databaseId);return new G9(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zm(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);KI("Data must be an object, but it was:",a,r);var c,l,h=n3(r,a);if(s.merge)c=new _c(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){for(var p=[],v=0,m=s.mergeFields;v<m.length;v++){var y=UE(t,m[v],n);if(!a.contains(y))throw new j(O.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");i3(p,y)||p.push(y)}c=new _c(p),l=a.fieldTransforms.filter(function(w){return c.covers(w.field)})}else c=null,l=a.fieldTransforms;return new K9(new tr(h),c,l)}var zI=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Wa);function e3(e,t,n){return new Z4({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Q9=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype._toFieldTransform=function(n){return new rd(n.path,new Tc)},t.prototype.isEqual=function(n){return n instanceof t},t}(Wa),Y9=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=e3(this,n,!0),i=this.Kc.map(function(a){return Ga(a,r)}),s=new Aa(i);return new rd(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Wa),X9=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=e3(this,n,!0),i=this.Kc.map(function(a){return Ga(a,r)}),s=new Ra(i);return new rd(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Wa),J9=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=new Ic(n.R,BF(n.R,this.Qc));return new rd(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Wa);function HI(e,t,n,r){var i=e.Uc(1,t,n);KI("Data must be an object, but it was:",i,r);var s=[],a=tr.empty();$a(r,function(l,h){var p=GI(t,l,n);h=he(h);var v=i.Oc(p);if(h instanceof zI)s.push(p);else{var m=Ga(h,v);m!=null&&(s.push(p),a.set(p,m))}});var c=new _c(s);return new X4(a,c,i.fieldTransforms)}function WI(e,t,n,r,i,s){var a=e.Uc(1,t,n),c=[UE(t,r,n)],l=[i];if(s.length%2!=0)throw new j(O.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(UE(t,s[h])),l.push(s[h+1]);for(var p=[],v=tr.empty(),m=c.length-1;m>=0;--m)if(!i3(p,c[m])){var y=c[m],w=l[m];w=he(w);var I=a.Oc(y);if(w instanceof zI)p.push(y);else{var C=Ga(w,I);C!=null&&(p.push(y),v.set(y,C))}}var b=new _c(p);return new X4(v,b,a.fieldTransforms)}function t3(e,t,n,r){return r===void 0&&(r=!1),Ga(n,e.Uc(r?4:3,t))}function Ga(e,t){if(r3(e=he(e)))return KI("Unsupported field value:",t,e),n3(e,t);if(e instanceof Wa)return function(n,r){if(!J4(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=Ga(c[a],r.Mc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=he(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BF(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Wn.fromDate(n);return{timestampValue:yh(r.R,i)}}if(n instanceof Wn)return i=new Wn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:yh(r.R,i)};if(n instanceof qm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof xa)return{bytesValue:XF(r.R,n._byteString)};if(n instanceof tt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:mI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+$m(n))}(e,t)}function n3(e,t){var n={};return NF(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$a(e,function(r,i){var s=Ga(i,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function r3(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Wn||e instanceof qm||e instanceof xa||e instanceof tt||e instanceof Wa)}function KI(e,t,n){if(!r3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=$m(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function UE(e,t,n){if((t=he(t))instanceof Si)return t._internalPath;if(typeof t=="string")return GI(e,t);throw Ag("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Z9=new RegExp("[~\\*/\\[\\]]");function GI(e,t,n){if(t.search(Z9)>=0)throw Ag("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Si.bind.apply(Si,de([void 0],t.split("."))))()._internalPath}catch{throw Ag("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ag(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new j(O.INVALID_ARGUMENT,(c+=". ")+e+l)}function i3(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Th=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new tt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new eY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Rg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),eY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Th);function Rg(e,t){return typeof t=="string"?GI(e,t):t instanceof Si?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sa=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),to=function(e){function t(n,r,i,s,a,c){var l=this;return(l=e.call(this,n,r,i,s,c)||this)._firestore=n,l._firestoreImpl=n,l.metadata=a,l}return K(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Rg("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Th),Df=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(to),Uo=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new sa(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Df(r._firestore,r._userDataWriter,i.key,i,new sa(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){return{type:"added",doc:new Df(r._firestore,r._userDataWriter,c.doc.key,c.doc,new sa(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new Df(r._firestore,r._userDataWriter,c.doc.key,c.doc,new sa(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(p=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:tY(c.type),doc:l,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function tY(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function o3(e,t){return e instanceof to&&t instanceof to?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Uo&&t instanceof Uo&&e._firestore===t._firestore&&Q4(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(e){if(Eg(e)&&e.explicitOrderBy.length===0)throw new j(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ud=function(){};function Ao(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var nY=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return K(t,e),t.prototype._apply=function(n){var r=Ka(n.firestore),i=function(s,a,c,l,h,p,v){var m;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new j(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){RP(v,p);for(var y=[],w=0,I=v;w<I.length;w++){var C=I[w];y.push(AP(l,s,C))}m={arrayValue:{values:y}}}else m=AP(l,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||RP(v,p),m=t3(c,"where",v,p==="in"||p==="not-in");var b=ir.create(h,p,m);return function(T,S){if(S.g()){var x=hI(T);if(x!==null&&!x.isEqual(S.field))throw new j(O.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+x.toString()+"' and '"+S.field.toString()+"'");var L=fI(T);L!==null&&u3(T,S.field,L)}var P=function($,F){for(var ce=0,R=$.filters;ce<R.length;ce++){var Vt=R[ce];if(F.indexOf(Vt.op)>=0)return Vt.op}return null}(T,function($){switch($){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(S.op));if(P!==null)throw P===S.op?new j(O.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+S.op.toString()+"' filter."):new j(O.INVALID_ARGUMENT,"Invalid query. You cannot use '"+S.op.toString()+"' filters with '"+P.toString()+"' filters.")}(s,b),b}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Kn(n.firestore,n.converter,function(s,a){var c=s.filters.concat([a]);return new ho(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(ud),rY=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return K(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new j(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Zu(s,a);return function(l,h){if(fI(l)===null){var p=hI(l);p!==null&&u3(l,p,h.field)}}(i,c),c}(n._query,this.jc,this.zc);return new Kn(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new ho(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(ud),kP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return K(t,e),t.prototype._apply=function(n){return new Kn(n.firestore,n.converter,LF(n._query,this.Hc,this.Jc))},t}(ud),CP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return K(t,e),t.prototype._apply=function(n){var r=a3(n,this.type,this.Yc,this.Xc);return new Kn(n.firestore,n.converter,function(i,s){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(ud),NP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return K(t,e),t.prototype._apply=function(n){var r=a3(n,this.type,this.Yc,this.Xc);return new Kn(n.firestore,n.converter,function(i,s){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(ud);function a3(e,t,n,r){if(n[0]=he(n[0]),n[0]instanceof Th)return function(s,a,c,l,h){if(!l)throw new j(O.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var p=[],v=0,m=bc(s);v<m.length;v++){var y=m[v];if(y.field.isKeyField())p.push(yg(a,l.key));else{var w=l.data.field(y.field);if(uI(w))throw new j(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var I=y.field.canonicalString();throw new j(O.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}p.push(w)}}return new mh(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ka(e.firestore);return function(s,a,c,l,h,p){var v=s.explicitOrderBy;if(h.length>v.length)throw new j(O.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var w=h[y];if(v[y].field.isKeyField()){if(typeof w!="string")throw new j(O.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof w);if(!dI(s)&&w.indexOf("/")!==-1)throw new j(O.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+w+"' contains a slash.");var I=s.path.child(xe.fromString(w));if(!ee.isDocumentKey(I))throw new j(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var C=new ee(I);m.push(yg(a,C))}else{var b=t3(c,l,w);m.push(b)}}return new mh(m,p)}(e._query,e.firestore._databaseId,i,t,n,r)}function AP(e,t,n){if(typeof(n=he(n))=="string"){if(n==="")throw new j(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dI(t)&&n.indexOf("/")!==-1)throw new j(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(xe.fromString(n));if(!ee.isDocumentKey(r))throw new j(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return yg(e,new ee(r))}if(n instanceof tt)return yg(e,n._key);throw new j(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+$m(n)+".")}function RP(e,t){if(!Array.isArray(e)||e.length===0)throw new j(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new j(O.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function u3(e,t,n){if(!n.isEqual(t))throw new j(O.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QI=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Na(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(wc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Z()}},e.prototype.convertObject=function(t,n){var r=this,i={};return $a(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new qm(vt(t.latitude),vt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=RF(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vh(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=cs(t);return new Wn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=xe.fromString(t);ie(s4(r));var i=new Ng(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||mt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var iY=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new xa(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new tt(this.firestore,null,r)},t}(QI),oY=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ka(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=jo(t,this._firestore),s=Hm(i.converter,n,r),a=zm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,cn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,c=jo(t,this._firestore);return a=typeof(n=he(n))=="string"||n instanceof Si?WI(this._dataReader,"WriteBatch.update",c._key,n,r,i):HI(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(a.toMutation(c._key,cn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=jo(t,this._firestore);return this._mutations=this._mutations.concat(new od(n._key,cn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new j(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(e,t){if((e=he(e)).firestore!==t)throw new j(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pa=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new xa(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new tt(this.firestore,null,r)},t}(QI);function xP(e,t,n){e=Ae(e,tt);var r=Ae(e.firestore,ht),i=Hm(e.converter,t,n);return cd(r,[zm(Ka(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,cn.none())])}function PP(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ae(e,tt);var s=Ae(e.firestore,ht),a=Ka(s);return cd(s,[(typeof(t=he(t))=="string"||t instanceof Si?WI(a,"updateDoc",e._key,t,n,r):HI(a,"updateDoc",e._key,t)).toMutation(e._key,cn.exists(!0))])}function c3(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=he(e);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||Dc(i[c])||(a=i[c],c++);var l,h,p,v={includeMetadataChanges:a.includeMetadataChanges};if(Dc(i[c])){var m=i[c];i[c]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[c+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[c+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof tt)h=Ae(e.firestore,ht),p=Qc(e._key.path),l={next:function(I){i[c]&&i[c](jE(h,e,I))},error:i[c+1],complete:i[c+2]};else{var y=Ae(e,Kn);h=Ae(y.firestore,ht),p=y._query;var w=new pa(h);l={next:function(I){i[c]&&i[c](new Uo(h,w,y,I))},error:i[c+1],complete:i[c+2]},s3(e._query)}return function(I,C,b,T){var S=this,x=new Bm(T),L=new PI(C,x,b);return I.asyncQueue.enqueueAndForget(function(){return A(S,void 0,void 0,function(){var P;return N(this,function($){switch($.label){case 0:return P=AI,[4,Oc(I)];case 1:return[2,P.apply(void 0,[$.sent(),L])]}})})}),function(){x.Wo(),I.asyncQueue.enqueueAndForget(function(){return A(S,void 0,void 0,function(){var P;return N(this,function($){switch($.label){case 0:return P=RI,[4,Oc(I)];case 1:return[2,P.apply(void 0,[$.sent(),L])]}})})})}}(Lt(h),p,v,l)}function cd(e,t){return function(n,r){var i=this,s=new vn;return n.asyncQueue.enqueueAndForget(function(){return A(i,void 0,void 0,function(){var a;return N(this,function(c){switch(c.label){case 0:return a=m9,[4,VI(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(Lt(e),t)}function jE(e,t,n){var r=n.docs.get(t._key),i=new pa(e);return new to(e,i,t._key,r,new sa(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return K(t,e),t.prototype.get=function(n){var r=this,i=jo(n,this._firestore),s=new pa(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new to(r._firestore,s,i._key,a._document,new sa(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ka(t)}return e.prototype.get=function(t){var n=this,r=jo(t,this._firestore),i=new iY(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Z();var a=s[0];if(a.isFoundDocument())return new Th(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Th(n._firestore,i,r._key,null,r.converter);throw Z()})},e.prototype.set=function(t,n,r){var i=jo(t,this._firestore),s=Hm(i.converter,n,r),a=zm(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=jo(t,this._firestore);return a=typeof(n=he(n))=="string"||n instanceof Si?WI(this._dataReader,"Transaction.update",c._key,n,r,i):HI(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,a),this},e.prototype.delete=function(t){var n=jo(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){if(typeof Uint8Array>"u")throw new j(O.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function DP(){if(typeof atob>"u")throw new j(O.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var l3=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return DP(),new e(xa.fromBase64String(t))},e.fromUint8Array=function(t){return OP(),new e(xa.fromUint8Array(t))},e.prototype.toBase64=function(){return DP(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return OP(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),aY=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){SP(r=Ae(r,ht));var s=Lt(r),a=r._freezeSettings(),c=new FE;return IP(s,c,new $4(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){SP(n=Ae(n,ht));var r=Lt(n),i=n._freezeSettings(),s=new FE;return IP(r,s,new O9(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new j(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new vn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return A(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return Cc.yt()?(l=c+"main",[4,Cc.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(TI(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),YI=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ng||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||ph("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,c){var l;c===void 0&&(c={});var h=(i=Ae(i,bh))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&ph("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:s+":"+a,ssl:!1})),c.mockUserToken){var p,v;if(typeof c.mockUserToken=="string")p=c.mockUserToken,v=Ht.MOCK_USER;else{p=Qb(c.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);var m=c.mockUserToken.sub||c.mockUserToken.user_id;if(!m)throw new j(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ht(m)}i._credentials=new j9(new H4(p,v))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,pP(t)];case 1:return r=s.sent(),[4,vP(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var c=W(a);return c.Or.delete(0),ad(c)}(i))]}})})})}(Lt(Ae(this._delegate,ht)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,pP(t)];case 1:return r=s.sent(),[4,vP(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return A(this,void 0,void 0,function(){var c;return N(this,function(l){switch(l.label){case 0:return(c=W(a)).Or.add(0),[4,Xc(c)];case 1:return l.sent(),c.Br.set("Offline"),[2]}})})}(i))]}})})})}(Lt(Ae(this._delegate,ht)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&W4("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new vn;return t.asyncQueue.enqueueAndForget(function(){return A(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return i=E9,[4,VI(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Lt(Ae(this._delegate,ht)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,c=new Bm(s);return i.asyncQueue.enqueueAndForget(function(){return A(a,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return l=function(p,v){W(p).Gr.add(v),v.next()},[4,Oc(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})}),function(){c.Wo(),i.asyncQueue.enqueueAndForget(function(){return A(a,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return l=function(p,v){W(p).Gr.delete(v)},[4,Oc(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})})}}(Lt(n=Ae(n,ht)),Dc(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new j(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new xg(this,K4(this._delegate,t))}catch(n){throw bn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new va(this,gv(this._delegate,t))}catch(n){throw bn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ld(this,function(n,r){if(n=Ae(n,bh),$I("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new j(O.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Kn(n,null,function(i){return new ho(xe.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw bn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var c=this,l=new vn;return s.asyncQueue.enqueueAndForget(function(){return A(c,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return[4,function(v){return Vm(v).then(function(m){return m.datastore})}(s)];case 1:return h=p.sent(),new M9(s.asyncQueue,h,a,l).run(),[2]}})})}),l.promise}(Lt(r),function(s){return i(new sY(r,s))})}(this._delegate,function(r){return t(new f3(n,r))})},e.prototype.batch=function(){var t=this;return Lt(this._delegate),new h3(new oY(this._delegate,function(n){return cd(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new j(O.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new j(O.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Wm=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new l3(new xa(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return va.eu(r,this.firestore,null)},t}(QI);function uY(e){var t;t=e,ni.setLogLevel(t)}var f3=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Wm(t)}return e.prototype.get=function(t){var n=this,r=aa(t);return this._delegate.get(r).then(function(i){return new Ih(n._firestore,new to(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=aa(t);return r?(qI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=aa(t);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,de([c,n,r],s)),this},e.prototype.delete=function(t){var n=aa(t);return this._delegate.delete(n),this},e}(),h3=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=aa(t);return r?(qI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=aa(t);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,de([c,n,r],s)),this},e.prototype.delete=function(t){var n=aa(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Km=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Df(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Sh(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Wm(t),n),i.set(n,s)),s},e}();Km.su=new WeakMap;var va=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Wm(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new j(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new tt(n._delegate,r,new ee(t)))},e.eu=function(t,n,r){return new e(n,new tt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new xg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new xg(this.firestore,K4(this._delegate,t))}catch(n){throw bn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=he(t))instanceof tt&&G4(this._delegate,t)},e.prototype.set=function(t,n){n=qI("DocumentReference.set",n);try{return n?xP(this._delegate,t,n):xP(this._delegate,t)}catch(r){throw bn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?PP(this._delegate,t):PP.apply(void 0,de([this._delegate,t,n],r))}catch(s){throw bn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return cd(Ae((t=this._delegate).firestore,ht),[new od(t._key,cn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=d3(n),s=p3(n,function(a){return new Ih(t.firestore,new to(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return c3(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ae(r,tt);var i=Ae(r.firestore,ht),s=Lt(i),a=new pa(i);return function(c,l){var h=this,p=new vn;return c.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=function(y,w,I){return A(this,void 0,void 0,function(){var C,b;return N(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,function(S,x){var L=W(S);return L.persistence.runTransaction("read document","readonly",function(P){return L.Mn.mn(P,x)})}(y,w)];case 1:return(b=T.sent()).isFoundDocument()?I.resolve(b):b.isNoDocument()?I.resolve(null):I.reject(new j(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return C=T.sent(),b=el(C,"Failed to get document '"+w+" from cache"),I.reject(b),[3,3];case 3:return[2]}})})},[4,BI(c)];case 1:return[2,v.apply(void 0,[m.sent(),l,p])]}})})}),p.promise}(s,r._key).then(function(c){return new to(i,a,r._key,c,new sa(c!==null&&c.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ae(r,tt);var i=Ae(r.firestore,ht);return gP(Lt(i),r._key,{source:"server"}).then(function(s){return jE(i,r,s)})}(this._delegate):function(r){r=Ae(r,tt);var i=Ae(r.firestore,ht);return gP(Lt(i),r._key).then(function(s){return jE(i,r,s)})}(this._delegate)).then(function(r){return new Ih(n.firestore,new to(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Km.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function bn(e,t,n){return e.message=e.message.replace(t,n),e}function d3(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Dc(r))return r}return{}}function p3(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Dc(e[0])?e[0]:Dc(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Ih=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new va(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return o3(this._delegate,t._delegate)},e}(),Sh=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Ih),ld=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Wm(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ao(this._delegate,function(i,s,a){var c=s,l=Rg("where",i);return new nY(l,c,a)}(t,n,r)))}catch(i){throw bn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ao(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=Rg("orderBy",r);return new rY(a,s)}(t,n)))}catch(r){throw bn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ao(this._delegate,function(n){return bP("limit",n),new kP("limit",n,"F")}(t)))}catch(n){throw bn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ao(this._delegate,function(n){return bP("limitToLast",n),new kP("limitToLast",n,"L")}(t)))}catch(n){throw bn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ao(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new CP("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw bn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ao(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new CP("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw bn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ao(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new NP("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw bn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ao(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new NP("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw bn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Q4(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ae(r,Kn);var i=Ae(r.firestore,ht),s=Lt(i),a=new pa(i);return function(c,l){var h=this,p=new vn;return c.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=function(y,w,I){return A(this,void 0,void 0,function(){var C,b,T,S,x;return N(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,Sg(y,w,!0)];case 1:return x=L.sent(),C=new F4(w,x.Bn),b=C._o(x.documents),T=C.applyChanges(b,!1),I.resolve(T.snapshot),[3,3];case 2:return S=L.sent(),x=el(S,"Failed to execute query '"+w+" against cache"),I.reject(x),[3,3];case 3:return[2]}})})},[4,BI(c)];case 1:return[2,v.apply(void 0,[m.sent(),l,p])]}})})}),p.promise}(s,r._query).then(function(c){return new Uo(i,a,r,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ae(r,Kn);var i=Ae(r.firestore,ht),s=Lt(i),a=new pa(i);return mP(s,r._query,{source:"server"}).then(function(c){return new Uo(i,a,r,c)})}(this._delegate):function(r){r=Ae(r,Kn);var i=Ae(r.firestore,ht),s=Lt(i),a=new pa(i);return s3(r._query),mP(s,r._query).then(function(c){return new Uo(i,a,r,c)})}(this._delegate)).then(function(r){return new BE(n.firestore,new Uo(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=d3(n),s=p3(n,function(a){return new BE(t.firestore,new Uo(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return c3(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Km.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),cY=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Sh(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),BE=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new ld(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Sh(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new cY(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Sh(r._firestore,i))})},e.prototype.isEqual=function(t){return o3(this._delegate,t._delegate)},e}(),xg=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return K(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new va(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new va(this.firestore,n===void 0?gv(this._delegate):gv(this._delegate,n))}catch(r){throw bn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Ae(i.firestore,ht),c=gv(i),l=Hm(i.converter,s);return cd(a,[zm(Ka(i.firestore),"addDoc",c._key,l,i.converter!==null,{}).toMutation(c._key,cn.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(i){return new va(r.firestore,i)})},t.prototype.isEqual=function(n){return G4(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Km.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(ld);function aa(e){return Ae(e,tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lY=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Si.bind.apply(Si,de([void 0],t)))}return e.documentId=function(){return new e(oi.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=he(t))instanceof Si&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),fY=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new Q9("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new zI("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new Y9("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new X9("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new J9("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(e){return function(t,n){var r=Lt(t=Ae(t,ht)),i=new z9;return function(s,a,c,l){var h=this,p=function(v,m){return function(y,w){return new D9(y,w)}(function(y,w){if(y instanceof Uint8Array)return dP(y,w);if(y instanceof ArrayBuffer)return dP(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(c,sd(a));s.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=P9,[4,VI(s)];case 1:return v.apply(void 0,[m.sent(),p,l]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function dY(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return A(a,void 0,void 0,function(){var c;return N(this,function(l){switch(l.label){case 0:return c=function(h,p){var v=W(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.Ke.getNamedQuery(m,p)})},[4,BI(i)];case 1:return[2,c.apply(void 0,[l.sent(),s])]}})})})}(Lt(t=Ae(t,ht)),n).then(function(i){return i?new Kn(t,null,i.query):null})).then(function(i){return i?new ld(r,i):null})}var pY={Firestore:YI,GeoPoint:qm,Timestamp:Wn,Blob:l3,Transaction:f3,WriteBatch:h3,DocumentReference:va,DocumentSnapshot:Ih,Query:ld,QueryDocumentSnapshot:Sh,QuerySnapshot:BE,CollectionReference:xg,FieldPath:lY,FieldValue:fY,setLogLevel:uY,CACHE_SIZE_UNLIMITED:H9};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(e){(function(t,n){t.INTERNAL.registerComponent(new pn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},pY)))})(e,function(t,n){return new YI(t,new ht(t,n),new aY)}),e.registerVersion("@firebase/firestore","2.4.1")}vY(J);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gY(e){e.prototype.loadBundle=hY,e.prototype.namedQuery=dY}gY(YI);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ec=function(e){K(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function mY(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function yY(e,t,n){var r=mY(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var c=a.status;if(typeof c=="string"){if(!LP[c])return new ec("internal","internal");r=LP[c],i=c}var l=a.message;typeof l=="string"&&(i=l),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new ec(r,i,s)}var _Y=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wY="type.googleapis.com/google.protobuf.Int64Value",EY="type.googleapis.com/google.protobuf.UInt64Value";function MP(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var bY=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return MP(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case wY:case EY:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?MP(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TY(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new ec("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var FP=function(){function e(t,n,r,i,s,a){var c=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new bY,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(c.deleteService())}},this.contextProvider=new _Y(n,r),this.cancelAllRequests=new Promise(function(h){c.deleteService=function(){return h()}});try{var l=new URL(s);this.customDomain=l.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return A(this,void 0,void 0,function(){var i,s,a;return N(this,function(c){switch(c.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=c.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=c.sent(),[3,5];case 4:return c.sent(),[2,{status:0,json:null}];case 5:a=null,c.label=6;case 6:return c.trys.push([6,8,,9]),[4,s.json()];case 7:return a=c.sent(),[3,9];case 8:return c.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return A(this,void 0,void 0,function(){var i,s,a,c,l,h,p,v,m,y,w,I;return N(this,function(C){switch(C.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return c=C.sent(),c.authToken&&(a.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=c.instanceIdToken),l=r.timeout||7e4,h=TY(l),p=h.timer,v=h.promise,[4,Promise.race([UP(p,this.postJSON(i,s,a)),v,UP(p,this.cancelAllRequests)])];case 2:if(m=C.sent(),!m)throw new ec("cancelled","Firebase Functions instance was deleted.");if(y=yY(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new ec("internal","Response is not valid JSON object.");if(w=m.json.data,typeof w>"u"&&(w=m.json.result),typeof w>"u")throw new ec("internal","Response is missing data field.");return I=this.serializer.decode(w),[2,{data:I}]}})})},e}();function UP(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IY="functions";function SY(e,t){var n={Functions:FP};function r(i,s){var a=s.instanceIdentifier,c=i.getProvider("app").getImmediate(),l=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new FP(c,l,p,h,a,t)}e.INTERNAL.registerComponent(new pn(IY,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var kY="@firebase/functions",CY="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */SY(J,fetch.bind(self));J.registerVersion(kY,CY);function NY(e){return Array.prototype.slice.call(e)}function v3(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Gm(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),v3(r).then(s,a)});return i.request=r,i}function AY(e,t,n){var r=Gm(e,t,n);return r.then(function(i){if(i)return new kh(i,r.request)})}function tl(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function XI(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Gm(this[t],i,arguments)})})}function Qm(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function g3(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return AY(this[t],i,arguments)})})}function Qa(e){this._index=e}tl(Qa,"_index",["name","keyPath","multiEntry","unique"]);XI(Qa,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);g3(Qa,"_index",IDBIndex,["openCursor","openKeyCursor"]);function kh(e,t){this._cursor=e,this._request=t}tl(kh,"_cursor",["direction","key","primaryKey","value"]);XI(kh,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(kh.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),v3(t._request).then(function(r){if(r)return new kh(r,t._request)})})})});function Li(e){this._store=e}Li.prototype.createIndex=function(){return new Qa(this._store.createIndex.apply(this._store,arguments))};Li.prototype.index=function(){return new Qa(this._store.index.apply(this._store,arguments))};tl(Li,"_store",["name","keyPath","indexNames","autoIncrement"]);XI(Li,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);g3(Li,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Qm(Li,"_store",IDBObjectStore,["deleteIndex"]);function fd(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}fd.prototype.objectStore=function(){return new Li(this._tx.objectStore.apply(this._tx,arguments))};tl(fd,"_tx",["objectStoreNames","mode"]);Qm(fd,"_tx",IDBTransaction,["abort"]);function Ym(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new fd(n)}Ym.prototype.createObjectStore=function(){return new Li(this._db.createObjectStore.apply(this._db,arguments))};tl(Ym,"_db",["name","version","objectStoreNames"]);Qm(Ym,"_db",IDBDatabase,["deleteObjectStore","close"]);function Xm(e){this._db=e}Xm.prototype.transaction=function(){return new fd(this._db.transaction.apply(this._db,arguments))};tl(Xm,"_db",["name","version","objectStoreNames"]);Qm(Xm,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Li,Qa].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=NY(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Qa,Li].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function JI(e,t,n){var r=Gm(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new Ym(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Xm(s)})}function Pw(e){return Gm(indexedDB,"deleteDatabase",[e])}var RY="@firebase/installations",m3="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y3=1e4,_3="w:"+m3,w3="FIS_v2",xY="https://firebaseinstallations.googleapis.com/v1",PY=60*60*1e3,OY="installations",DY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro,LY=(Ro={},Ro["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ro["not-registered"]="Firebase Installation is not registered.",Ro["installation-not-found"]="Firebase Installation not found.",Ro["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Ro["app-offline"]="Could not process request. Application offline.",Ro["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Ro),uo=new fo(OY,DY,LY);function E3(e){return e instanceof Vc&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(e){var t=e.projectId;return xY+"/projects/"+t+"/installations"}function b3(e){return{token:e.token,requestStatus:2,expiresIn:MY(e.expiresIn),creationTime:Date.now()}}function eS(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,uo.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function T3(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function I3(e,t){var n=t.refreshToken,r=T3(e);return r.append("Authorization",FY(n)),r}function tS(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function MY(e){return Number(e.replace("s","000"))}function FY(e){return w3+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(e,t){var n=t.fid;return A(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return N(this,function(p){switch(p.label){case 0:return r=ZI(e),i=T3(e),s={fid:n,authVersion:w3,appId:e.appId,sdkVersion:_3},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,tS(function(){return fetch(r,a)})];case 1:return c=p.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=p.sent(),h={fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:b3(l.authToken)},[2,h];case 3:return[4,eS("Create Installation",c)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(e){var t=btoa(String.fromCharCode.apply(String,de([],Kt(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BY=/^[cdef][\w-]{21}$/,VE="";function VY(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=$Y(e);return BY.test(n)?n:VE}catch{return VE}}function $Y(e){var t=jY(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lc=new Map;function k3(e,t){var n=nl(e);C3(n,t),HY(n,t)}function qY(e,t){N3();var n=nl(e),r=Lc.get(n);r||(r=new Set,Lc.set(n,r)),r.add(t)}function zY(e,t){var n=nl(e),r=Lc.get(n);r&&(r.delete(t),r.size===0&&Lc.delete(n),A3())}function C3(e,t){var n,r,i=Lc.get(e);if(i)try{for(var s=jt(i),a=s.next();!a.done;a=s.next()){var c=a.value;c(t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function HY(e,t){var n=N3();n&&n.postMessage({key:e,fid:t}),A3()}var ua=null;function N3(){return!ua&&"BroadcastChannel"in self&&(ua=new BroadcastChannel("[Firebase] FID Change"),ua.onmessage=function(e){C3(e.data.key,e.data.fid)}),ua}function A3(){Lc.size===0&&ua&&(ua.close(),ua=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WY="firebase-installations-database",KY=1,Pa="firebase-installations-store",Ow=null;function nS(){return Ow||(Ow=JI(WY,KY,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Pa)}})),Ow}function Pg(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return n=nl(e),[4,nS()];case 1:return r=c.sent(),i=r.transaction(Pa,"readwrite"),s=i.objectStore(Pa),[4,s.get(n)];case 2:return a=c.sent(),[4,s.put(t,n)];case 3:return c.sent(),[4,i.complete];case 4:return c.sent(),(!a||a.fid!==t.fid)&&k3(e,t.fid),[2,t]}})})}function rS(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=nl(e),[4,nS()];case 1:return n=i.sent(),r=n.transaction(Pa,"readwrite"),[4,r.objectStore(Pa).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function hd(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return n=nl(e),[4,nS()];case 1:return r=l.sent(),i=r.transaction(Pa,"readwrite"),s=i.objectStore(Pa),[4,s.get(n)];case 2:return a=l.sent(),c=t(a),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),c&&(!a||a.fid!==c.fid)&&k3(e,c.fid),[2,c]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,hd(e,function(s){var a=GY(s),c=QY(e,a);return t=c.registrationPromise,c.installationEntry})];case 1:return n=i.sent(),n.fid!==VE?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function GY(e){var t=e||{fid:VY(),registrationStatus:0};return R3(t)}function QY(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(uo.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=YY(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:XY(e)}:{installationEntry:t}}function YY(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,UY(e,t)];case 1:return n=i.sent(),[2,Pg(e,n)];case 2:return r=i.sent(),E3(r)&&r.customData.serverCode===409?[4,rS(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Pg(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function XY(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,jP(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,S3(100)];case 3:return s.sent(),[4,jP(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,iS(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function jP(e){return hd(e,function(t){if(!t)throw uo.create("installation-not-found");return R3(t)})}function R3(e){return JY(e)?{fid:e.fid,registrationStatus:0}:e}function JY(e){return e.registrationStatus===1&&e.registrationTime+y3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZY(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return A(this,void 0,void 0,function(){var i,s,a,c,l,h,p,v;return N(this,function(m){switch(m.label){case 0:return i=eX(n,t),s=I3(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),c={installation:{sdkVersion:_3}},l={method:"POST",headers:s,body:JSON.stringify(c)},[4,tS(function(){return fetch(i,l)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=m.sent(),v=b3(p),[2,v];case 3:return[4,eS("Generate Auth Token",h)];case 4:throw m.sent()}})})}function eX(e,t){var n=t.fid;return ZI(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,hd(e.appConfig,function(c){if(!x3(c))throw uo.create("not-registered");var l=c.authToken;if(!t&&rX(l))return c;if(l.requestStatus===1)return n=tX(e,t),c;if(!navigator.onLine)throw uo.create("app-offline");var h=oX(c);return n=nX(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function tX(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,BP(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,S3(100)];case 3:return i.sent(),[4,BP(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,oS(e,t)]:[2,r]}})})}function BP(e){return hd(e,function(t){if(!x3(t))throw uo.create("not-registered");var n=t.authToken;return sX(n)?ne(ne({},t),{authToken:{requestStatus:0}}):t})}function nX(e,t){return A(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,ZY(e,t)];case 1:return n=s.sent(),i=ne(ne({},t),{authToken:n}),[4,Pg(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),E3(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,rS(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ne(ne({},t),{authToken:{requestStatus:0}}),[4,Pg(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function x3(e){return e!==void 0&&e.registrationStatus===2}function rX(e){return e.requestStatus===2&&!iX(e)}function iX(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+PY}function oX(e){var t={requestStatus:1,requestTime:Date.now()};return ne(ne({},e),{authToken:t})}function sX(e){return e.requestStatus===1&&e.requestTime+y3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,iS(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):oS(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uX(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,cX(e.appConfig)];case 1:return r.sent(),[4,oS(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function cX(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,iS(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=fX(e,t),r=I3(e,t),i={method:"DELETE",headers:r},[4,tS(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,eS("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function fX(e,t){var n=t.fid;return ZI(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,hd(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw uo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw uo.create("app-offline");case 3:return[4,lX(t,n)];case 4:return r.sent(),[4,rS(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(e,t){var n=e.appConfig;return qY(n,t),function(){zY(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pX(e){var t,n;if(!e||!e.options)throw Dw("App Configuration");if(!e.name)throw Dw("App Name");var r=["projectId","apiKey","appId"];try{for(var i=jt(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw Dw(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Dw(e){return uo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(e){var t="installations";e.INTERNAL.registerComponent(new pn(t,function(n){var r=n.getProvider("app").getImmediate(),i=pX(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},c={app:r,getId:function(){return aX(a)},getToken:function(l){return uX(a,l)},delete:function(){return hX(a)},onIdChange:function(l){return dX(a,l)}};return c},"PUBLIC")),e.registerVersion(RY,m3)}vX(J);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,gX=(Tt={},Tt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Tt["only-available-in-window"]="This method is available in a Window context.",Tt["only-available-in-sw"]="This method is available in a service worker context.",Tt["permission-default"]="The notification permission was not granted and dismissed instead.",Tt["permission-blocked"]="The notification permission was not granted and blocked instead.",Tt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Tt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Tt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Tt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Tt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Tt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Tt["token-update-no-token"]="FCM returned no token when updating the user to push.",Tt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Tt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Tt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Tt["invalid-vapid-key"]="The public VAPID key must be a string.",Tt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Tt),De=new fo("messaging","Messaging",gX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mX="/firebase-messaging-sw.js",yX="/firebase-cloud-messaging-push-scope",Og="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_X="https://fcmregistrations.googleapis.com/v1",P3="FCM_MSG",wX="FirebaseMessaging: ",EX="google.c.a.e",O3="google.c.a.c_id",bX="google.c.a.ts",TX="google.c.a.c_l",IX=1e3,SX=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Oa;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Oa||(Oa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,de([],Kt(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kX(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lw="fcm_token_details_db",CX=5,VP="fcm_token_object_Store";function NX(e){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(c){return c.name}),!n.includes(Lw))return[2,null];a.label=2;case 2:return r=null,[4,JI(Lw,CX,function(c){return A(s,void 0,void 0,function(){var l,h,p,p,p,v;return N(this,function(m){switch(m.label){case 0:return c.oldVersion<2?[2]:c.objectStoreNames.contains(VP)?(l=c.transaction.objectStore(VP),[4,l.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,l.clear()];case 2:if(m.sent(),!h)return[2];if(c.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(v=p.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Hi(p.vapidKey)}}}else c.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Hi(p.auth),p256dh:Hi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Hi(p.vapidKey)}}):c.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Hi(p.auth),p256dh:Hi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Hi(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,Pw(Lw)];case 4:return a.sent(),[4,Pw("fcm_vapid_details_db")];case 5:return a.sent(),[4,Pw("undefined")];case 6:return a.sent(),[2,AX(r)?r:null]}})})}function AX(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RX="firebase-messaging-database",xX=1,Da="firebase-messaging-store",Mw=null;function sS(){return Mw||(Mw=JI(RX,xX,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Da)}})),Mw}function Dg(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return t=uS(e),[4,sS()];case 1:return n=s.sent(),[4,n.transaction(Da).objectStore(Da).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,NX(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,aS(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function aS(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=uS(e),[4,sS()];case 1:return r=s.sent(),i=r.transaction(Da,"readwrite"),[4,i.objectStore(Da).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function PX(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=uS(e),[4,sS()];case 1:return n=i.sent(),r=n.transaction(Da,"readwrite"),[4,r.objectStore(Da).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function uS(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OX(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return[4,lS(e)];case 1:n=h.sent(),r=L3(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(cS(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),De.create("token-subscribe-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,De.create("token-subscribe-failed",{errorInfo:l});if(!s.token)throw De.create("token-subscribe-no-token");return[2,s.token]}})})}function DX(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return[4,lS(e)];case 1:n=h.sent(),r=L3(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(cS(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),De.create("token-update-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,De.create("token-update-failed",{errorInfo:l});if(!s.token)throw De.create("token-update-no-token");return[2,s.token]}})})}function D3(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,lS(e)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(cS(e.appConfig)+"/"+t,r)];case 3:return i=l.sent(),[4,i.json()];case 4:if(s=l.sent(),s.error)throw a=s.error.message,De.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw c=l.sent(),De.create("token-unsubscribe-failed",{errorInfo:c});case 6:return[2]}})})}function cS(e){var t=e.projectId;return _X+"/projects/"+t+"/registrations"}function lS(e){var t=e.appConfig,n=e.installations;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function L3(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==Og&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LX=7*24*60*60*1e3;function $E(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:if(Notification.permission!=="granted")throw De.create("permission-blocked");return[4,FX(t,n)];case 1:return r=c.sent(),[4,Dg(e)];case 2:return i=c.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Hi(r.getKey("auth")),p256dh:Hi(r.getKey("p256dh"))},i?[3,3]:[2,$P(e,s)];case 3:if(UX(i.subscriptionOptions,s))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,D3(e,i.token)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),console.warn(a),[3,7];case 7:return[2,$P(e,s)];case 8:return Date.now()>=i.createTime+LX?[2,MX({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function Lf(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,Dg(e)];case 1:return n=i.sent(),n?[4,D3(e,n.token)]:[3,4];case 2:return i.sent(),[4,PX(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function MX(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,DX(t,e)];case 1:return r=a.sent(),i=ne(ne({},e),{token:r,createTime:Date.now()}),[4,aS(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,Lf(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function $P(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,OX(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,aS(e,r)];case 2:return i.sent(),[2,r.token]}})})}function FX(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kX(t)})]}})})}function UX(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jX(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return BX(t,e),VX(t,e),$X(t,e),t}function BX(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function VX(e,t){t.data&&(e.data=t.data)}function $X(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(e){return typeof e=="object"&&!!e&&O3 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qX=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw De.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Dg(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Og,i.label=2;case 2:return[2,$E(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return Lf(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw De.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw De.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw De.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw De.create("only-available-in-window")},e.prototype.onMessage=function(){throw De.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw De.create("only-available-in-window")},e.prototype.onPush=function(t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=HX(t),n?[4,F3()]:(console.debug(wX+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),KX(r)?[2,GX(r,n)]:(i=!1,n.notification?[4,QX(zX(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=jX(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,qP(IX)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,Lf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Dg(this.firebaseDependencies)];case 3:return s=a.sent(),[4,Lf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,$E(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Og)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[P3],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=YX(i),s?(a=new URL(s,self.location.href),c=new URL(self.location.origin),a.host!==c.host?[2]:[4,WX(a)]):[2];case 1:return l=h.sent(),l?[3,4]:[4,self.clients.openWindow(s)];case 2:return l=h.sent(),[4,qP(SX)];case 3:return h.sent(),[3,6];case 4:return[4,l.focus()];case 5:l=h.sent(),h.label=6;case 6:return l?(i.messageType=Oa.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,l.postMessage(i)]):[2]}})})},e}();function zX(e){var t,n=ne({},e.notification);return n.data=(t={},t[P3]=e,t),n}function HX(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function WX(e){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,F3()];case 1:t=l.sent();try{for(n=jt(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function KX(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function GX(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Oa.PUSH_RECEIVED;try{for(var i=jt(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function F3(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function QX(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function YX(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(M3(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XX=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Oa.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(ZX(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,M3(r)&&r[EX]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw De.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,$E(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Og),[2]})})},e.prototype.updateSwReg=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw De.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(mX,{scope:yX})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),De.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Lf(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?De.create("permission-blocked"):De.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw De.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw De.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw De.create("invalid-sw-registration");if(this.swRegistration)throw De.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw De.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw De.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=JX(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[O3],message_name:n[TX],message_time:n[bX],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function JX(e){switch(e){case Oa.NOTIFICATION_CLICKED:return"notification_open";case Oa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ZX(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(e){var t,n;if(!e||!e.options)throw Fw("App Configuration Object");if(!e.name)throw Fw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=jt(r),a=s.next();!a.done;a=s.next()){var c=a.value;if(!i[c])throw Fw(c)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function Fw(e){return De.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tJ="messaging";function nJ(e){var t=e.getProvider("app").getImmediate(),n=eJ(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!U3())throw De.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new qX(s):new XX(s)}var rJ={isSupported:U3};J.INTERNAL.registerComponent(new pn(tJ,nJ,"PUBLIC").setServiceProps(rJ));function U3(){return self&&"ServiceWorkerGlobalScope"in self?oJ():iJ()}function iJ(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function oJ(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j3="firebasestorage.googleapis.com",B3="storageBucket",sJ=2*60*1e3,aJ=10*60*1e3,wt=function(e){K(t,e);function t(n,r){var i=e.call(this,Uw(n),"Firebase Storage: "+r+" ("+Uw(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return Uw(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Vc);function Uw(e){return"storage/"+e}function fS(){var e="An unknown error occurred, please check the error payload for server response.";return new wt("unknown",e)}function uJ(e){return new wt("object-not-found","Object '"+e+"' does not exist.")}function cJ(e){return new wt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lJ(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt("unauthenticated",e)}function fJ(){return new wt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function hJ(e){return new wt("unauthorized","User does not have permission to access '"+e+"'.")}function dJ(){return new wt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function V3(){return new wt("canceled","User canceled the upload/download.")}function pJ(e){return new wt("invalid-url","Invalid URL '"+e+"'.")}function vJ(e){return new wt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function gJ(){return new wt("no-default-bucket","No default bucket found. Did you set the '"+B3+"' property when initializing the app?")}function $3(){return new wt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function mJ(){return new wt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function yJ(){return new wt("no-download-url","The given file does not have any download URLs.")}function tc(e){return new wt("invalid-argument",e)}function q3(){return new wt("app-deleted","The Firebase app was deleted.")}function z3(e){return new wt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mf(e,t){return new wt("invalid-format","String does not match format '"+e+"': "+t)}function qp(e){throw new wt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},jw=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function H3(e,t){switch(e){case Tr.RAW:return new jw(W3(t));case Tr.BASE64:case Tr.BASE64URL:return new jw(K3(e,t));case Tr.DATA_URL:return new jw(EJ(t),bJ(t))}throw fS()}function W3(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function wJ(e){var t;try{t=decodeURIComponent(e)}catch{throw Mf(Tr.DATA_URL,"Malformed data URL.")}return W3(t)}function K3(e,t){switch(e){case Tr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Mf(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Tr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Mf(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=_J(t)}catch{throw Mf(e,"Invalid character found")}for(var l=new Uint8Array(c.length),h=0;h<c.length;h++)l[h]=c.charCodeAt(h);return l}var G3=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Mf(Tr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=TJ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function EJ(e){var t=new G3(e);return t.base64?K3(Tr.BASE64,t.rest):wJ(t.rest)}function bJ(e){var t=new G3(e);return t.contentType}function TJ(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IJ={STATE_CHANGED:"state_changed"},Tn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bw(e){switch(e){case"running":case"pausing":case"canceling":return Tn.RUNNING;case"paused":return Tn.PAUSED;case"success":return Tn.SUCCESS;case"canceled":return Tn.CANCELED;case"error":return Tn.ERROR;default:return Tn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ga;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ga||(ga={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SJ=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ga.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ga.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ga.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw qp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw qp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw qp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw qp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function kJ(){return new SJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CJ=function(){function e(){}return e.prototype.createConnection=function(){return kJ()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw vJ(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}var a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function h(ce){ce.path_=decodeURIComponent(ce.path)}for(var p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+p+"/b/"+i+"/o"+m,"i"),w={bucket:1,path:3},I=n===j3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",b=new RegExp("^https?://"+I+"/"+i+"/"+C,"i"),T={bucket:1,path:2},S=[{regex:c,indices:l,postModify:s},{regex:y,indices:w,postModify:h},{regex:b,indices:T,postModify:h}],x=0;x<S.length;x++){var L=S[x],P=L.regex.exec(t);if(P){var $=P[L.indices.bucket],F=P[L.indices.path];F||(F=""),r=new e($,F),L.postModify(r);break}}if(r==null)throw pJ(t);return r},e}(),NJ=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AJ(e,t,n){var r=1,i=null,s=!1,a=0;function c(){return a===2}var l=!1;function h(){for(var w=[],I=0;I<arguments.length;I++)w[I]=arguments[I];l||(l=!0,t.apply(null,w))}function p(w){i=setTimeout(function(){i=null,e(v,c())},w)}function v(w){for(var I=[],C=1;C<arguments.length;C++)I[C-1]=arguments[C];if(!l){if(w){h.call.apply(h,de([null,w],I));return}var b=c()||s;if(b){h.call.apply(h,de([null,w],I));return}r<64&&(r*=2);var T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,p(T)}}var m=!1;function y(w){m||(m=!0,!l&&(i!==null?(w||(a=2),clearTimeout(i),p(0)):w||(a=1)))}return p(0),setTimeout(function(){s=!0,y(!0)},n),y}function RJ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xJ(e){return e!==void 0}function PJ(e){return typeof e=="function"}function OJ(e){return typeof e=="object"&&!Array.isArray(e)}function Jm(e){return typeof e=="string"||e instanceof String}function zP(e){return hS()&&e instanceof Blob}function hS(){return typeof Blob<"u"}function qE(e,t,n,r){if(r<t)throw tc("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw tc("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function Q3(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DJ=function(){function e(t,n,r,i,s,a,c,l,h,p,v){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=p,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,w){m.resolve_=y,m.reject_=w,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new zp(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function c(l){var h=l.loaded,p=l.lengthComputable?l.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(c),t.pendingConnection_=null;var l=a.getErrorCode()===ga.NO_ERROR,h=a.getStatus();if(!l||t.isRetryStatusCode_(h)){var p=a.getErrorCode()===ga.ABORT;i(!1,new zp(!1,null,p));return}var v=t.successCodes_.indexOf(h)!==-1;i(!0,new zp(v,a))})}function r(i,s){var a=t.resolve_,c=t.reject_,l=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(l,l.getResponseText());xJ(h)?a(h):a()}catch(v){c(v)}else if(l!==null){var p=fS();p.serverResponse=l.getResponseText(),t.errorCallback_?c(t.errorCallback_(l,p)):c(p)}else if(s.canceled){var p=t.appDelete_?q3():V3();c(p)}else{var p=dJ();c(p)}}this.canceled_?r(!1,new zp(!1,null,!0)):this.backoffId_=AJ(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&RJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),zp=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function LJ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function MJ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function FJ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function UJ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function jJ(e,t,n,r,i,s){var a=Q3(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return FJ(l,t),LJ(l,n),MJ(l,s),UJ(l,r),new DJ(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function VJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=BJ();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(hS())return new Blob(e);throw new wt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function $J(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dS=function(){function e(t,n){var r=0,i="";zP(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(zP(this.data_)){var r=this.data_,i=$J(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(hS()){var r=t.map(function(l){return l instanceof e?l.data_:l});return new e(VJ.apply(null,r))}else{var i=t.map(function(l){return Jm(l)?H3(Tr.RAW,l).data:l.data_}),s=0;i.forEach(function(l){s+=l.byteLength});var a=new Uint8Array(s),c=0;return i.forEach(function(l){for(var h=0;h<l.length;h++)a[c++]=l[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(e){var t;try{t=JSON.parse(e)}catch{return null}return OJ(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function zJ(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function Y3(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HJ(e,t){return t}var _n=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||HJ}return e}(),Hp=null;function WJ(e){return!Jm(e)||e.length<2?e:Y3(e)}function Zm(){if(Hp)return Hp;var e=[];e.push(new _n("bucket")),e.push(new _n("generation")),e.push(new _n("metageneration")),e.push(new _n("name","fullPath",!0));function t(s,a){return WJ(a)}var n=new _n("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new _n("size");return i.xform=r,e.push(i),e.push(new _n("timeCreated")),e.push(new _n("updated")),e.push(new _n("md5Hash",null,!0)),e.push(new _n("cacheControl",null,!0)),e.push(new _n("contentDisposition",null,!0)),e.push(new _n("contentEncoding",null,!0)),e.push(new _n("contentLanguage",null,!0)),e.push(new _n("contentType",null,!0)),e.push(new _n("metadata","customMetadata",!0)),Hp=e,Hp}function KJ(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new Ir(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function GJ(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return KJ(r,e),r}function X3(e,t,n){var r=pS(t);if(r===null)return null;var i=r;return GJ(e,i,n)}function QJ(e,t,n){var r=pS(t);if(r===null||!Jm(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),c=a.map(function(l){var h=e.bucket,p=e.fullPath,v="/b/"+s(h)+"/o/"+s(p),m=_s(v,n),y=Q3({alt:"media",token:l});return m+y});return c[0]}function vS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HP="prefixes",WP="items";function YJ(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[HP])for(var i=0,s=n[HP];i<s.length;i++){var a=s[i],c=a.replace(/\/$/,""),l=e._makeStorageReference(new Ir(t,c));r.prefixes.push(l)}if(n[WP])for(var h=0,p=n[WP];h<p.length;h++){var v=p[h],l=e._makeStorageReference(new Ir(t,v.name));r.items.push(l)}return r}function XJ(e,t,n){var r=pS(n);if(r===null)return null;var i=r;return YJ(e,t,i)}var vo=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(e){if(!e)throw fS()}function ey(e,t){function n(r,i){var s=X3(e,i,t);return ki(s!==null),s}return n}function JJ(e,t){function n(r,i){var s=XJ(e,t,i);return ki(s!==null),s}return n}function ZJ(e,t){function n(r,i){var s=X3(e,i,t);return ki(s!==null),QJ(s,i,e.host)}return n}function rl(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=fJ():i=lJ():n.getStatus()===402?i=cJ(e.bucket):n.getStatus()===403?i=hJ(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function ty(e){var t=rl(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=uJ(e.path)),s.serverResponse=i.serverResponse,s}return n}function J3(e,t,n){var r=t.fullServerUrl(),i=_s(r,e.host),s="GET",a=e.maxOperationRetryTime,c=new vo(i,s,ey(e,n),a);return c.errorHandler=ty(t),c}function eZ(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),c=_s(a,e.host),l="GET",h=e.maxOperationRetryTime,p=new vo(c,l,JJ(e,t.bucket),h);return p.urlParams=s,p.errorHandler=rl(t),p}function tZ(e,t,n){var r=t.fullServerUrl(),i=_s(r,e.host),s="GET",a=e.maxOperationRetryTime,c=new vo(i,s,ZJ(e,n),a);return c.errorHandler=ty(t),c}function nZ(e,t,n,r){var i=t.fullServerUrl(),s=_s(i,e.host),a="PATCH",c=vS(n,r),l={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new vo(s,a,ey(e,r),h);return p.headers=l,p.body=c,p.errorHandler=ty(t),p}function rZ(e,t){var n=t.fullServerUrl(),r=_s(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(l,h){}var c=new vo(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=ty(t),c}function iZ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Z3(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=iZ(null,t)),r}function oZ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var S="",x=0;x<2;x++)S=S+Math.random().toString().slice(2);return S}var l=c();a["Content-Type"]="multipart/related; boundary="+l;var h=Z3(t,r,i),p=vS(h,n),v="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+l+"--",y=dS.getBlob(v,r,m);if(y===null)throw $3();var w={name:h.fullPath},I=_s(s,e.host),C="POST",b=e.maxUploadRetryTime,T=new vo(I,C,ey(e,n),b);return T.urlParams=w,T.headers=a,T.body=y.uploadData(),T.errorHandler=rl(t),T}var Lg=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function gS(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{ki(!1)}var r=t||["active"];return ki(!!n&&r.indexOf(n)!==-1),n}function sZ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=Z3(t,r,i),c={name:a.fullPath},l=_s(s,e.host),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=vS(a,n),m=e.maxUploadRetryTime;function y(I){gS(I);var C;try{C=I.getResponseHeader("X-Goog-Upload-URL")}catch{ki(!1)}return ki(Jm(C)),C}var w=new vo(l,h,y,m);return w.urlParams=c,w.headers=p,w.body=v,w.errorHandler=rl(t),w}function aZ(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=gS(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ki(!1)}v||ki(!1);var m=Number(v);return ki(!isNaN(m)),new Lg(m,r.size(),p==="final")}var a="POST",c=e.maxUploadRetryTime,l=new vo(n,a,s,c);return l.headers=i,l.errorHandler=rl(t),l}var KP=256*1024;function uZ(e,t,n,r,i,s,a,c){var l=new Lg(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw mJ();var h=l.total-l.current,p=h;i>0&&(p=Math.min(p,i));var v=l.current,m=v+p,y=p===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+l.current},I=r.slice(v,m);if(I===null)throw $3();function C(x,L){var P=gS(x,["active","final"]),$=l.current+p,F=r.size(),ce;return P==="final"?ce=ey(t,s)(x,L):ce=null,new Lg($,F,P==="final",ce)}var b="POST",T=t.maxUploadRetryTime,S=new vo(n,b,C,T);return S.headers=w,S.body=I.uploadData(),S.progressCallback=c||null,S.errorHandler=rl(e),S}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cZ=function(){function e(t,n,r){var i=PJ(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eU=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Zm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=sZ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=aZ(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(c){c=c,t._request=void 0,t._updateProgress(c.current),t._needToFetchStatus=!1,c.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=KP*this._chunkMultiplier,r=new Lg(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var c;try{c=uZ(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var l=t._ref.storage._makeRequest(c,s,a);t._request=l,l.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=KP*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=J3(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=oZ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=V3(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Bw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new cZ(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Bw(this._state)){case Tn.SUCCESS:ku(this._resolve.bind(null,this.snapshot))();break;case Tn.CANCELED:case Tn.ERROR:var n=this._reject;ku(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Bw(this._state);switch(n){case Tn.RUNNING:case Tn.PAUSED:t.next&&ku(t.next.bind(t,this.snapshot))();break;case Tn.SUCCESS:t.complete&&ku(t.complete.bind(t))();break;case Tn.CANCELED:case Tn.ERROR:t.error&&ku(t.error.bind(t,this._error))();break;default:t.error&&ku(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ny=function(){function e(t,n){this._service=t,n instanceof Ir?this._location=n:this._location=Ir.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Ir(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Y3(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=qJ(this._location.path);if(t===null)return null;var n=new Ir(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw z3(t)},e}();function lZ(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new eU(e,new dS(t),n)}function fZ(e){var t={prefixes:[],items:[]};return tU(e,t).then(function(){return t})}function tU(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,nU(e,r)];case 1:return i=c.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,tU(e,t,i.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function nU(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&qE("options.maxResults",1,1e3,t.maxResults),n=t||{},r=eZ(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function hZ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=J3(e.storage,e._location,Zm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function dZ(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=nZ(e.storage,e._location,t,Zm()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function pZ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=tZ(e.storage,e._location,Zm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw yJ();return r})]}})})}function vZ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=rZ(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function rU(e,t){var n=zJ(e._location.path,t),r=new Ir(e._location.bucket,n);return new ny(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(e){return/^[A-Za-z]+:\/\//.test(e)}function gZ(e,t){return new ny(e,t)}function iU(e,t){if(e instanceof ry){var n=e;if(n._bucket==null)throw gJ();var r=new ny(n,n._bucket);return t!=null?iU(r,t):r}else return t!==void 0?rU(e,t):e}function mZ(e,t){if(t&&zE(t)){if(e instanceof ry)return gZ(e,t);throw tc("To use ref(service, url), the first argument must be a Storage instance.")}else return iU(e,t)}function GP(e,t){var n=t==null?void 0:t[B3];return n==null?null:Ir.makeFromBucketSpec(n,e)}function yZ(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:Qb(i,e.app.options.projectId))}var ry=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=j3,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sJ,this._maxUploadRetryTime=aJ,this._requests=new Set,s!=null?this._bucket=Ir.makeFromBucketSpec(s,this._host):this._bucket=GP(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,t):this._bucket=GP(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){qE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){qE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new ny(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new NJ(q3());var s=jJ(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(e,t,n){return e=he(e),lZ(e,t,n)}function wZ(e){return e=he(e),hZ(e)}function EZ(e,t){return e=he(e),dZ(e,t)}function bZ(e,t){return e=he(e),nU(e,t)}function TZ(e){return e=he(e),fZ(e)}function IZ(e){return e=he(e),pZ(e)}function SZ(e){return e=he(e),vZ(e)}function QP(e,t){return e=he(e),mZ(e,t)}function kZ(e,t){return rU(e,t)}function CZ(e,t,n,r){r===void 0&&(r={}),yZ(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wp=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YP=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Wp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Wp(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new Wp(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new Wp(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),XP=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Ch(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Ch(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ch=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=kZ(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new YP(_Z(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=Tr.RAW),this._throwIfRoot("putString");var i=H3(n,t),s=ne({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new YP(new eU(this._delegate,new dS(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return TZ(this._delegate).then(function(n){return new XP(n,t.storage)})},e.prototype.list=function(t){var n=this;return bZ(this._delegate,t||void 0).then(function(r){return new XP(r,n.storage)})},e.prototype.getMetadata=function(){return wZ(this._delegate)},e.prototype.updateMetadata=function(t){return EZ(this._delegate,t)},e.prototype.getDownloadURL=function(){return IZ(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),SZ(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw z3(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NZ=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(zE(t))throw tc("ref() expected a child path but got a URL, use refFromURL instead.");return new Ch(QP(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!zE(t))throw tc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ir.makeFromUrl(t,this._delegate.host)}catch{throw tc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ch(QP(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),CZ(this._delegate,t,n,r)},e}(),AZ="@firebase/storage",RZ="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xZ="storage";function PZ(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new NZ(r,new ry(r,i,s,new CJ,n,J.SDK_VERSION));return a}function OZ(e){var t={TaskState:Tn,TaskEvent:IJ,StringFormat:Tr,Storage:ry,Reference:Ch};e.INTERNAL.registerComponent(new pn(xZ,PZ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(AZ,RZ)}OZ(J);var DZ="@firebase/performance",oU="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sU=oU,LZ="FB-PERF-TRACE-START",MZ="FB-PERF-TRACE-STOP",HE="FB-PERF-TRACE-MEASURE",aU="_wt_",uU="_fp",cU="_fcp",lU="_fid",fU="@firebase/performance/config",hU="@firebase/performance/configexpire",FZ="performance",dU="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,UZ=(qt={},qt["trace started"]="Trace {$traceName} was started before.",qt["trace stopped"]="Trace {$traceName} is not running.",qt["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",qt["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",qt["no window"]="Window is not available.",qt["no app id"]="App id is not available.",qt["no project id"]="Project id is not available.",qt["no api key"]="Api key is not available.",qt["invalid cc log"]="Attempted to queue invalid cc event",qt["FB not default"]="Performance can only start when Firebase app instance is the default one.",qt["RC response not ok"]="RC response is not ok",qt["invalid attribute name"]="Attribute name {$attributeName} is invalid.",qt["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",qt["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",qt["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",qt),sn=new fo(FZ,dU,UZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co=new Fa(dU);co.logLevel=me.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vw,pU,fn=function(){function e(t){if(this.window=t,!t)throw sn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(co.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Lh()?!0:(co.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var c=a[s];n(c)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return Vw===void 0&&(Vw=new e(pU)),Vw},e}();function jZ(e){pU=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(e,t){var n=e.length-t.length;if(n<0||n>1)throw sn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $w,Ct=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=JP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=JP("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw sn.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw sn.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw sn.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return $w===void 0&&($w=new e),$w},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vU;function BZ(){var e=Ct.getInstance().installationsService.getId();return e.then(function(t){vU=t}),e}function mS(){return vU}function VZ(){var e=Ct.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nc;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(nc||(nc={}));var $Z=["firebase_","google_","ga_"],qZ=new RegExp("^[a-zA-Z]\\w*$"),zZ=40,HZ=100;function WZ(){var e=fn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function gU(){var e=fn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return nc.VISIBLE;case"hidden":return nc.HIDDEN;default:return nc.UNKNOWN}}function KZ(){var e=fn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function GZ(e){if(e.length===0||e.length>zZ)return!1;var t=$Z.some(function(n){return e.startsWith(n)});return!t&&!!e.match(qZ)}function QZ(e){return e.length!==0&&e.length<=HZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YZ="0.0.1",XZ={loggingEnabled:!0},JZ="FIREBASE_INSTALLATIONS_AUTH";function ZZ(e){var t=eee();return t?(ZP(t),Promise.resolve()):ree(e).then(ZP).then(function(n){return tee(n)},function(){})}function eee(){var e=fn.getInstance().localStorage;if(e){var t=e.getItem(hU);if(!(!t||!iee(t))){var n=e.getItem(fU);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function tee(e){var t=fn.getInstance().localStorage;!e||!t||(t.setItem(fU,JSON.stringify(e)),t.setItem(hU,String(Date.now()+Ct.getInstance().configTimeToLive*60*60*1e3)))}var nee="Could not fetch config, will use default configs";function ree(e){return VZ().then(function(t){var n=Ct.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Ct.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:JZ+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Ct.getInstance().getAppId(),app_version:sU,sdk_version:YZ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw sn.create("RC response not ok")})}).catch(function(){co.info(nee)})}function ZP(e){if(!e)return e;var t=Ct.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=XZ.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=eO(t.tracesSamplingRate),t.logNetworkAfterSampling=eO(t.networkRequestsSamplingRate),e}function iee(e){return Number(e)>Date.now()}function eO(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yS=1,qw;function mU(){return yS=2,qw=qw||see(),qw}function oee(){return yS===3}function see(){return aee().then(function(){return BZ()}).then(function(e){return ZZ(e)}).then(function(){return tO()},function(){return tO()})}function aee(){var e=fn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function tO(){yS=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _S=10*1e3,uee=5.5*1e3,yU=3,cee=1e3,Mg=yU,ns=[],nO=!1;function lee(){nO||(iy(uee),nO=!0)}function iy(e){setTimeout(function(){if(Mg!==0){if(!ns.length)return iy(_S);fee()}},e)}function fee(){var e=ns.splice(0,cee),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ct.getInstance().logSource,log_event:t};hee(n,e).catch(function(){ns=de(de([],e),ns),Mg--,co.info("Tries left: "+Mg+"."),iy(_S)})}function hee(e,t){return dee(e).then(function(n){return n.ok||co.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=_S;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(ns=de(de([],t),ns),co.info("Retry transport request later.")),Mg=yU,iy(i)})}function dee(e){var t=Ct.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function pee(e){if(!e.eventTime||!e.message)throw sn.create("invalid cc log");ns=de(de([],ns),[e])}function vee(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);pee({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zw;function _U(e,t){zw||(zw=vee(mee)),zw(e,t)}function Kp(e){var t=Ct.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||fn.getInstance().requiredApisAvailable()&&(e.isAuto&&gU()!==nc.VISIBLE||(oee()?Hw(e):mU().then(function(){return Hw(e)},function(){return Hw(e)})))}function Hw(e){if(mS()){var t=Ct.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return _U(e,1)},0)}}function gee(e){var t=Ct.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return _U(e,0)},0)}}function mee(e,t){return t===0?yee(e):_ee(e)}function yee(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:wU(),network_request_metric:t};return JSON.stringify(n)}function _ee(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:wU(),trace_metric:t};return JSON.stringify(r)}function wU(){return{google_app_id:Ct.getInstance().getAppId(),app_instance_id:mS(),web_app_info:{sdk_version:sU,page_url:fn.getInstance().getUrl(),service_worker_status:WZ(),visibility_state:gU(),effective_connection_type:KZ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wee=100,Eee="_",bee=[uU,cU,lU];function Tee(e,t){return e.length===0||e.length>wee?!1:t&&t.startsWith(aU)&&bee.indexOf(e)>-1||!e.startsWith(Eee)}function Iee(e){var t=Math.floor(e);return t<e&&co.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ff=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=fn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=LZ+"-"+this.randomId+"-"+this.name,this.traceStopMark=MZ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||HE+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw sn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw sn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Kp(this)},e.prototype.record=function(t,n,r){if(t<=0)throw sn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw sn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=ne({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Kp(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(Tee(t,this.name))this.counters[t]=Iee(n);else throw sn.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=GZ(t),i=QZ(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw sn.create("invalid attribute name",{attributeName:t});if(!i)throw sn.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return ne({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=fn.getInstance().getUrl();if(i){var s=new e(aU+i,!0),a=Math.floor(fn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var c="first-paint",l="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===c});h&&h.startTime&&s.putMetric(uU,Math.floor(h.startTime*1e3));var p=n.find(function(v){return v.name===l});p&&p.startTime&&s.putMetric(cU,Math.floor(p.startTime*1e3)),r&&s.putMetric(lU,Math.floor(r*1e3))}Kp(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);Kp(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=fn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],c={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};gee(c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var See=5e3;function iO(){mS()&&(setTimeout(function(){return Cee()},0),setTimeout(function(){return kee()},0),setTimeout(function(){return Nee()},0))}function kee(){for(var e=fn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];rO(i)}e.setupObserver("resource",rO)}function Cee(){var e=fn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Ff.createOobTrace(t,n),r=void 0},See);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Ff.createOobTrace(t,n,i))})}else Ff.createOobTrace(t,n)}function Nee(){for(var e=fn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];oO(i)}e.setupObserver("measure",oO)}function oO(e){var t=e.name;t.substring(0,HE.length)!==HE&&Ff.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aee=function(){function e(t){this.app=t,fn.getInstance().requiredApisAvailable()&&Jb().then(function(n){n&&(lee(),mU().then(iO,iO))}).catch(function(n){co.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Ff(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Ct.getInstance().instrumentationEnabled},set:function(t){Ct.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Ct.getInstance().dataCollectionEnabled},set:function(t){Ct.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ree="[DEFAULT]";function xee(e){var t=function(n,r){if(n.name!==Ree)throw sn.create("FB not default");if(typeof window>"u")throw sn.create("no window");return jZ(window),Ct.getInstance().firebaseAppInstance=n,Ct.getInstance().installationsService=r,new Aee(n)};e.INTERNAL.registerComponent(new pn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(DZ,oU)}xee(J);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pee="firebase_id",Oee="origin",Dee=60*1e3,Lee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",EU="https://www.googletagmanager.com/gtag/js",hn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(hn||(hn={}));var WE;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(WE||(WE={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mee(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(c){switch(c.label){case 0:return i&&i.global?(e(hn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=c.sent(),a=ne(ne({},r),{send_to:s}),e(hn.EVENT,n,a),c.label=3;case 3:return[2]}})})}function Fee(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(hn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(hn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function Uee(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(hn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(hn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function jee(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)c=a[s],i["user_properties."+c]=n[c];return e(hn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:l=h.sent(),e(hn.CONFIG,l,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function Bee(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt=new Fa("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vee(e,t){var n=document.createElement("script");n.src=EU+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function $ee(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function qee(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,c,l,h;return N(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=p.sent(),l=c.find(function(v){return v.measurementId===i}),l?[4,t[l.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return h=p.sent(),Wt.error(h),[3,8];case 8:return e(hn.CONFIG,i,s),[2]}})})}function zee(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a,c,l,h,p,v,m,y;return N(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=w.sent(),l=function(I){var C=c.find(function(T){return T.measurementId===I}),b=C&&t[C.appId];if(b)s.push(b);else return s=[],"break"},h=0,p=a;h<p.length&&(v=p[h],m=l(v),m!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return w.sent(),e(hn.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),Wt.error(y),[3,5];case 5:return[2]}})})}function Hee(e,t,n,r){function i(s,a,c){return A(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==hn.EVENT?[3,2]:[4,zee(e,t,n,a,c)];case 1:return h.sent(),[3,5];case 2:return s!==hn.CONFIG?[3,4]:[4,qee(e,t,n,r,a,c)];case 3:return h.sent(),[3,5];case 4:e(hn.SET,a),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),Wt.error(l),[3,7];case 7:return[2]}})})}return i}function Wee(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Hee(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function Kee(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(EU))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr,Gee=(Hr={},Hr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Hr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Hr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Hr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Hr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Hr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Hr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Hr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Hr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Hr),Nr=new fo("analytics","Analytics",Gee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qee=30,Yee=1e3,Xee=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=Yee),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),bU=new Xee;function Jee(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Zee(e){var t;return A(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Jee(r)},s=Lee.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];c="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return l=h.sent(),!((t=l.error)===null||t===void 0)&&t.message&&(c=l.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Nr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c});case 6:return[2,a.json()]}})})}function ete(e,t,n){return t===void 0&&(t=bU),A(this,void 0,void 0,function(){var r,i,s,a,c,l,h=this;return N(this,function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Nr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Nr.create("no-api-key")}return c=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new rte,setTimeout(function(){return A(h,void 0,void 0,function(){return N(this,function(v){return l.abort(),[2]})})},n!==void 0?n:Dee),[2,TU({appId:i,apiKey:s,measurementId:a},c,l,t)]})})}function TU(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=bU),A(this,void 0,void 0,function(){var a,c,l,h,p,v,m;return N(this,function(y){switch(y.label){case 0:a=e.appId,c=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,tte(n,i)];case 2:return y.sent(),[3,4];case 3:if(l=y.sent(),c)return Wt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]")),[2,{appId:a,measurementId:c}];throw l;case 4:return y.trys.push([4,6,,7]),[4,Zee(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(p=y.sent(),!nte(p)){if(r.deleteThrottleMetadata(a),c)return Wt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:c}];throw p}return v=Number(p.customData.httpStatus)===503?W1(s,r.intervalMillis,Qee):W1(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),Wt.debug("Calling attemptFetch again in "+v+" millis"),[2,TU(e,m,n,r)];case 7:return[2]}})})}function tte(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Nr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function nte(e){if(!(e instanceof Vc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var rte=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ite(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return Lh()?[3,1]:(Wt.warn(Nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Jb()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Wt.warn(Nr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function ote(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,c,l,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return a=ete(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&Wt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return Wt.error(w)}),t.push(a),c=ite().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,c])];case 1:return l=y.sent(),h=l[0],p=l[1],Kee()||Vee(s,h.measurementId),i("js",new Date),v=(m={},m[Oee]="firebase",m.update=!0,m),p!=null&&(v[Pee]=p),i(hn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi={},sO=[],aO={},mv="dataLayer",IU="gtag",uO,rf,KE=!1;function ste(e){if(KE)throw Nr.create("already-initialized");e.dataLayerName&&(mv=e.dataLayerName),e.gtagName&&(IU=e.gtagName)}function ate(){var e=[];if(Xb()&&e.push("This is a browser extension environment."),WD()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Nr.create("invalid-analytics-context",{errorInfo:t});Wt.warn(n.message)}}function ute(e,t){ate();var n=e.options.appId;if(!n)throw Nr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Wt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Nr.create("no-api-key");if(qi[n]!=null)throw Nr.create("already-exists",{id:n});if(!KE){$ee(mv);var r=Wee(qi,sO,aO,mv,IU),i=r.wrappedGtag,s=r.gtagCore;rf=i,uO=s,KE=!0}qi[n]=ote(e,sO,aO,t,uO,mv);var a={app:e,logEvent:function(c,l,h){Mee(rf,qi[n],c,l,h).catch(function(p){return Wt.error(p)})},setCurrentScreen:function(c,l){Fee(rf,qi[n],c,l).catch(function(h){return Wt.error(h)})},setUserId:function(c,l){Uee(rf,qi[n],c,l).catch(function(h){return Wt.error(h)})},setUserProperties:function(c,l){jee(rf,qi[n],c,l).catch(function(h){return Wt.error(h)})},setAnalyticsCollectionEnabled:function(c){Bee(qi[n],c).catch(function(l){return Wt.error(l)})},INTERNAL:{delete:function(){return delete qi[n],Promise.resolve()}}};return a}var cte="@firebase/analytics",lte="0.6.18",cO="analytics";function fte(e){e.INTERNAL.registerComponent(new pn(cO,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return ute(r,i)},"PUBLIC").setServiceProps({settings:ste,EventName:WE,isSupported:hte})),e.INTERNAL.registerComponent(new pn("analytics-internal",t,"PRIVATE")),e.registerVersion(cte,lte);function t(n){try{var r=n.getProvider(cO).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Nr.create("interop-component-reg-failed",{reason:i})}}}fte(J);function hte(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(Xb())return[2,!1];if(!WD())return[2,!1];if(!Lh())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Jb()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dte=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=c.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=c.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return c.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,pte=(wn={},wn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",wn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",wn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",wn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",wn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",wn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",wn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",wn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",wn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",wn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',wn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',wn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",wn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",wn),Sr=new fo("remoteconfig","Remote Config",pte);function vte(e,t){return e instanceof Vc&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gte(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mte=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,p,v,m,y,w,I,C,b,T,S,x;return N(this,function(L){switch(L.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=L.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:gte()},h={method:"POST",headers:c,body:JSON.stringify(l)},p=fetch(a,h),v=new Promise(function(P,$){t.signal.addEventListener(function(){var F=new Error("The operation was aborted.");F.name="AbortError",$(F)})}),L.label=2;case 2:return L.trys.push([2,5,,6]),[4,Promise.race([p,v])];case 3:return L.sent(),[4,p];case 4:return m=L.sent(),[3,6];case 5:throw y=L.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),Sr.create(w,{originalErrorMessage:y.message});case 6:if(I=m.status,C=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];S=void 0,L.label=7;case 7:return L.trys.push([7,9,,10]),[4,m.json()];case 8:return S=L.sent(),[3,10];case 9:throw x=L.sent(),Sr.create("fetch-client-parse",{originalErrorMessage:x.message});case 10:b=S.entries,T=S.state,L.label=11;case 11:if(T==="INSTANCE_STATE_UNSPECIFIED"?I=500:T==="NO_CHANGE"?I=304:(T==="NO_TEMPLATE"||T==="EMPTY_CONFIG")&&(b={}),I!==304&&I!==200)throw Sr.create("fetch-status",{httpStatus:I});return[2,{status:I,eTag:C,config:b}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yte=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _te=!1,wte="",lO=0,Ete=["1","true","t","yes","y","on"],Ww=function(){function e(t,n){n===void 0&&(n=wte),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?_te:Ete.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return lO;var t=Number(this._value);return isNaN(t)&&(t=lO),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bte=60*1e3,Tte=12*60*60*1e3,Ite=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:bte,minimumFetchIntervalMillis:Tte},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=me.DEBUG;break;case"silent":this._logger.logLevel=me.SILENT;break;default:this._logger.logLevel=me.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return A(this,void 0,void 0,function(){var t,n,r,i=this;return N(this,function(s){switch(s.label){case 0:t=new yte,setTimeout(function(){return A(i,void 0,void 0,function(){return N(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=vte(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return Ste(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new Ww("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new Ww("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Ww("static"))},e}();function Ste(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(ne(ne({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e,t){var n=e.target.error||void 0;return Sr.create(t,{originalErrorMessage:n&&n.message})}var Ys="app_namespace_store",kte="firebase_remote_config",Cte=1;function Nte(){return new Promise(function(e,t){var n=indexedDB.open(kte,Cte);n.onerror=function(r){t(yv(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ys,{keyPath:"compositeKey"})}}})}var Ate=function(){function e(t,n,r,i){i===void 0&&(i=Nte()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([Ys],"readonly"),l=c.objectStore(Ys),h=r.createCompositeKey(t);try{var p=l.get(h);p.onerror=function(v){a(yv(v,"storage-get"))},p.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(Sr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,c){var l=r.transaction([Ys],"readwrite"),h=l.objectStore(Ys),p=i.createCompositeKey(t);try{var v=h.put({compositeKey:p,value:n});v.onerror=function(m){c(yv(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){c(Sr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([Ys],"readwrite"),l=c.objectStore(Ys),h=r.createCompositeKey(t);try{var p=l.delete(h);p.onerror=function(v){a(yv(v,"storage-delete"))},p.onsuccess=function(){s()}}catch(v){a(Sr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rte=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=c.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=c.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=c.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xte(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Sr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Pte(e){if(!(e instanceof Vc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Ote=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return A(this,void 0,void 0,function(){var s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,xte(t.signal,r)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,s];case 5:if(a=l.sent(),!Pte(a))throw a;return c={throttleEndTimeMillis:Date.now()+W1(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(c)];case 6:return l.sent(),[2,this.attemptFetch(t,c)];case 7:return[2]}})})},e}(),fO="@firebase/remote-config",Dte="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lte(e){e.INTERNAL.registerComponent(new pn("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(fO,Dte);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Sr.create("registration-window");var c=s.options,l=c.projectId,h=c.apiKey,p=c.appId;if(!l)throw Sr.create("registration-project-id");if(!h)throw Sr.create("registration-api-key");if(!p)throw Sr.create("registration-app-id");i=i||"firebase";var v=new Ate(p,s.name,i),m=new Rte(v),y=new Fa(fO);y.logLevel=me.ERROR;var w=new mte(a,e.SDK_VERSION,i,l,h,p),I=new Ote(w,v),C=new dte(I,v,m,y),b=new Ite(s,C,m,v,y);return b.ensureInitialized(),b}}Lte(J);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr,Mte=(Wr={},Wr["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Wr["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Wr["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Wr["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Wr["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Wr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Wr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Wr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Wr["recaptcha-error"]="ReCAPTCHA error.",Wr),or=new fo("appCheck","AppCheck",Mte);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SU=new Map,Fte={activated:!1,tokenObservers:[]},Ute={enabled:!1};function xn(e){return SU.get(e)||Fte}function Ci(e,t){SU.set(e,t)}function wS(){return Ute}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kU="https://content-firebaseappcheck.googleapis.com/v1beta",jte="exchangeRecaptchaToken",Bte="exchangeDebugToken",hO={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vte=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Mt,[4,$te(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Mt,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function $te(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return self.grecaptcha}function CU(e){if(!xn(e).activated)throw or.create("use-before-activation",{appName:e.name})}function qte(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function zte(e){return em.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(e,t){var n=e.url,r=e.body;return A(this,void 0,void 0,function(){var i,s,a,c,l,h,p,v,m,y;return N(this,function(w){switch(w.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return c=w.sent(),[3,4];case 3:throw l=w.sent(),or.create("fetch-network-error",{originalErrorMessage:l.message});case 4:if(c.status!==200)throw or.create("fetch-status-error",{httpStatus:c.status});w.label=5;case 5:return w.trys.push([5,7,,8]),[4,c.json()];case 6:return h=w.sent(),[3,8];case 7:throw p=w.sent(),or.create("fetch-parse-error",{originalErrorMessage:p.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw or.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return m=Number(v[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+m,issuedAtTimeMillis:y}]}})})}function Hte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:kU+"/projects/"+r+"/apps/"+i+":"+jte+"?key="+s,body:{recaptcha_token:t}}}function Wte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:kU+"/projects/"+r+"/apps/"+i+":"+Bte+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kte="firebase-app-check-database",Gte=1,Nh="firebase-app-check-store",AU="debug-token",Gp=null;function RU(){return Gp||(Gp=new Promise(function(e,t){try{var n=indexedDB.open(Kte,Gte);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(or.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Nh,{keyPath:"compositeKey"})}}}catch(r){t(or.create("storage-open",{originalErrorMessage:r.message}))}}),Gp)}function Qte(e){return PU(OU(e))}function Yte(e,t){return xU(OU(e),t)}function Xte(e){return xU(AU,e)}function Jte(){return PU(AU)}function xU(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,RU()];case 1:return n=a.sent(),r=n.transaction(Nh,"readwrite"),i=r.objectStore(Nh),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(c,l){s.onsuccess=function(h){c()},r.onerror=function(h){var p;l(or.create("storage-set",{originalErrorMessage:(p=h.target.error)===null||p===void 0?void 0:p.message}))}})]}})})}function PU(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,RU()];case 1:return t=s.sent(),n=t.transaction(Nh,"readonly"),r=n.objectStore(Nh),i=r.get(e),[2,new Promise(function(a,c){i.onsuccess=function(l){var h=l.target.result;a(h?h.value:void 0)},n.onerror=function(l){var h;c(or.create("storage-get",{originalErrorMessage:(h=l.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function OU(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oy=new Fa("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zte(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!Lh())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Qte(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),oy.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function pO(e,t){return Lh()?Yte(e,t).catch(function(n){oy.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function ene(){return A(this,void 0,void 0,function(){var e,t;return N(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Jte()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=qte(),Xte(t).catch(function(r){return oy.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tne(){var e=wS();return e.enabled}function nne(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){if(e=wS(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function rne(){var e=cz();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=wS();t.enabled=!0;var n=new Mt;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(ene())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ine={error:"UNKNOWN_ERROR"};function Fg(e,t,n){return n===void 0&&(n=!1),A(this,void 0,void 0,function(){var r,i,s,a,c,l,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return CU(e),r=xn(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&Ah(a)&&(i=a,Ci(e,ne(ne({},r),{token:i})),vO(e,{token:i.token})),y.label=2;case 2:return!n&&i&&Ah(i)?[2,{token:i.token}]:tne()?(l=NU,h=Wte,p=[e],[4,nne()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,p.concat([y.sent()])),t])];case 4:return c=y.sent(),[4,pO(e,c)];case 5:return y.sent(),Ci(e,ne(ne({},r),{token:c})),[2,{token:c.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return v=y.sent(),oy.error(v),s=v,[3,9];case 9:return i?[3,10]:(m=sne(s),[3,12]);case 10:return m={token:i.token},Ci(e,ne(ne({},r),{token:i})),[4,pO(e,i)];case 11:y.sent(),y.label=12;case 12:return vO(e,m),[2,m]}})})}function DU(e,t,n,r,i){var s=xn(e),a={next:r,error:i,type:n},c=ne(ne({},s),{tokenObservers:de(de([],s.tokenObservers),[a])});if(!c.tokenRefresher){var l=one(e,t);c.tokenRefresher=l}if(!c.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&c.tokenRefresher.start(),s.token&&Ah(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(p){p&&Ah(p)&&r({token:p.token})}).catch(function(){});Ci(e,c)}function ES(e,t){var n=xn(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Ci(e,ne(ne({},n),{tokenObservers:r}))}function one(e,t){var n=this;return new Vte(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=xn(e),r.token?[3,2]:[4,Fg(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,Fg(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=xn(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},hO.RETRIAL_MIN_WAIT,hO.RETRIAL_MAX_WAIT)}function vO(e,t){for(var n=xn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function Ah(e){return e.expireTimeMillis-Date.now()>0}function sne(e){return{token:zte(ine),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ane="https://www.google.com/recaptcha/api.js";function une(e,t){var n=xn(e),r=new Mt;Ci(e,ne(ne({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=dO();return a?a.ready(function(){gO(e,t,a,i),r.resolve(a)}):lne(function(){var c=dO();if(!c)throw new Error("no recaptcha");c.ready(function(){gO(e,t,c,i),r.resolve(c)})}),r.promise}function cne(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return CU(e),t=xn(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=xn(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function gO(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=xn(e);Ci(e,ne(ne({},s),{reCAPTCHAState:ne(ne({},s.reCAPTCHAState),{widgetId:i})}))}function lne(e){var t=document.createElement("script");t.src=""+ane,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GE=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw or.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,cne(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),or.create("recaptcha-error");case 4:return[2,NU(Hte(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,une(t,this._siteKey).catch(function(){})},e}(),QE=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:if(!this._app)throw or.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=dz(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,ne(ne({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fne(e,t,n,r){var i=xn(e);if(i.activated)throw or.create("already-activated",{appName:e.name});var s=ne(ne({},i),{activated:!0});s.cachedTokenPromise=Zte(e).then(function(a){return a&&Ah(a)&&Ci(e,ne(ne({},xn(e)),{token:a})),a}),typeof t=="string"?s.provider=new GE(t):t instanceof GE||t instanceof QE?s.provider=t:s.provider=new QE({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,Ci(e,s),s.provider.initialize(e,n)}function hne(e,t){var n=xn(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Ci(e,ne(ne({},n),{isTokenAutoRefreshEnabled:t}))}function dne(e,t,n){return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,Fg(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function pne(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),DU(e,t,"EXTERNAL",s,a),function(){return ES(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vne(e,t){return{app:e,activate:function(n,r){return fne(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return hne(e,n)},getToken:function(n){return dne(e,t,n)},onTokenChanged:function(n,r,i){return pne(e,t,n,r)},INTERNAL:{delete:function(){for(var n=xn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];ES(e,s.next)}return Promise.resolve()}}}}function gne(e,t){return{getToken:function(n){return Fg(e,t,n)},addTokenListener:function(n){return DU(e,t,"INTERNAL",n)},removeTokenListener:function(n){return ES(e,n)}}}var mne="@firebase/app-check",yne="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _ne="appCheck",mO="app-check-internal";function wne(e){e.INTERNAL.registerComponent(new pn(_ne,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return vne(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:GE,CustomProvider:QE}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(mO);i.initialize()})),e.INTERNAL.registerComponent(new pn(mO,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return gne(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(mne,yne)}wne(J);rne();var Ene="firebase",LU="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */J.registerVersion(Ene,LU,"app");J.SDK_VERSION=LU;var bne="firebase",Tne="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);J.registerVersion(bne,Tne);const Ine={apiKey:"AIzaSyBpBE9bWyRzaJP8g1cjgGEuciTrvKJDBrE",authDomain:"cristminix-c5687.firebaseapp.com",projectId:"cristminix-c5687",storageBucket:"cristminix-c5687.appspot.com",messagingSenderId:"7808653581",appId:"1:7808653581:web:688ab1ce82143a73d0f844",measurementId:"G-T5KWSRLVM2"};J.initializeApp(Ine);var yO=J.firestore();const Oi=Object.create(null);Oi.open="0";Oi.close="1";Oi.ping="2";Oi.pong="3";Oi.message="4";Oi.upgrade="5";Oi.noop="6";const _v=Object.create(null);Object.keys(Oi).forEach(e=>{_v[Oi[e]]=e});const Sne={type:"error",data:"parser error"},kne=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Cne=typeof ArrayBuffer=="function",Nne=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,MU=({type:e,data:t},n,r)=>kne&&t instanceof Blob?n?r(t):_O(t,r):Cne&&(t instanceof ArrayBuffer||Nne(t))?n?r(t):_O(new Blob([t]),r):r(Oi[e]+(t||"")),_O=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)},wO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<wO.length;e++)hf[wO.charCodeAt(e)]=e;const Ane=e=>{let t=e.length*.75,n=e.length,r,i=0,s,a,c,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(r=0;r<n;r+=4)s=hf[e.charCodeAt(r)],a=hf[e.charCodeAt(r+1)],c=hf[e.charCodeAt(r+2)],l=hf[e.charCodeAt(r+3)],p[i++]=s<<2|a>>4,p[i++]=(a&15)<<4|c>>2,p[i++]=(c&3)<<6|l&63;return h},Rne=typeof ArrayBuffer=="function",FU=(e,t)=>{if(typeof e!="string")return{type:"message",data:UU(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:xne(e.substring(1),t)}:_v[n]?e.length>1?{type:_v[n],data:e.substring(1)}:{type:_v[n]}:Sne},xne=(e,t)=>{if(Rne){const n=Ane(e);return UU(n,t)}else return{base64:!0,data:e}},UU=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},jU=String.fromCharCode(30),Pne=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,a)=>{MU(s,!1,c=>{r[a]=c,++i===n&&t(r.join(jU))})})},One=(e,t)=>{const n=e.split(jU),r=[];for(let i=0;i<n.length;i++){const s=FU(n[i],t);if(r.push(s),s.type==="error")break}return r},BU=4;function yt(e){if(e)return Dne(e)}function Dne(e){for(var t in yt.prototype)e[t]=yt.prototype[t];return e}yt.prototype.on=yt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};yt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};yt.prototype.off=yt.prototype.removeListener=yt.prototype.removeAllListeners=yt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};yt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};yt.prototype.emitReserved=yt.prototype.emit;yt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};yt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const _r=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function VU(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Lne=_r.setTimeout,Mne=_r.clearTimeout;function sy(e,t){t.useNativeTimers?(e.setTimeoutFn=Lne.bind(_r),e.clearTimeoutFn=Mne.bind(_r)):(e.setTimeoutFn=_r.setTimeout.bind(_r),e.clearTimeoutFn=_r.clearTimeout.bind(_r))}const Fne=1.33;function Une(e){return typeof e=="string"?jne(e):Math.ceil((e.byteLength||e.size)*Fne)}function jne(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}class Bne extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class $U extends yt{constructor(t){super(),this.writable=!1,sy(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new Bne(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=FU(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}}const qU="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),YE=64,Vne={};let EO=0,Qp=0,bO;function TO(e){let t="";do t=qU[e%YE]+t,e=Math.floor(e/YE);while(e>0);return t}function zU(){const e=TO(+new Date);return e!==bO?(EO=0,bO=e):e+"."+TO(EO++)}for(;Qp<YE;Qp++)Vne[qU[Qp]]=Qp;function HU(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function $ne(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}let WU=!1;try{WU=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const qne=WU;function KU(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||qne))return new XMLHttpRequest}catch{}if(!t)try{return new _r[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function zne(){}const Hne=function(){return new KU({xdomain:!1}).responseType!=null}();class Wne extends $U{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port,this.xs=t.secure!==r}const n=t&&t.forceBase64;this.supportsBinary=Hne&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};One(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Pne(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=zU()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const i=HU(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new rc(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let rc=class wv extends yt{constructor(t,n){super(),sy(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=VU(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new KU(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=wv.requestsCount++,wv.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=zne,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete wv.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};rc.requestsCount=0;rc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",IO);else if(typeof addEventListener=="function"){const e="onpagehide"in _r?"pagehide":"unload";addEventListener(e,IO,!1)}}function IO(){for(let e in rc.requests)rc.requests.hasOwnProperty(e)&&rc.requests[e].abort()}const GU=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),Yp=_r.WebSocket||_r.MozWebSocket,SO=!0,Kne="arraybuffer",kO=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Gne extends $U{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=kO?{}:VU(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=SO&&!kO?n?new Yp(t,n):new Yp(t):new Yp(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||Kne,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;MU(r,this.supportsBinary,s=>{const a={};try{SO&&this.ws.send(s)}catch{}i&&GU(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=zU()),this.supportsBinary||(t.b64=1);const i=HU(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!Yp}}const Qne={websocket:Gne,polling:Wne},Yne=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Xne=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function XE(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Yne.exec(e||""),s={},a=14;for(;a--;)s[Xne[a]]=i[a]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Jne(s,s.path),s.queryKey=Zne(s,s.query),s}function Jne(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Zne(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}let QU=class Ru extends yt{constructor(t,n={}){super(),this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=XE(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=XE(n.host).host),sy(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$ne(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=BU,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Qne[t](r)}open(){let t;if(this.opts.rememberUpgrade&&Ru.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;Ru.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",v=>{if(!r)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ru.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function s(){r||(r=!0,p(),n.close(),n=null)}const a=v=>{const m=new Error("probe error: "+v);m.transport=n.name,s(),this.emitReserved("upgradeError",m)};function c(){a("transport closed")}function l(){a("socket closed")}function h(v){n&&v.name!==n.name&&s()}const p=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",c),this.off("close",l),this.off("upgrading",h)};n.once("open",i),n.once("error",a),n.once("close",c),this.once("close",l),this.once("upgrading",h),n.open()}onOpen(){if(this.readyState="open",Ru.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Une(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){Ru.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};QU.protocol=BU;function ere(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=XE(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const tre=typeof ArrayBuffer=="function",nre=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,YU=Object.prototype.toString,rre=typeof Blob=="function"||typeof Blob<"u"&&YU.call(Blob)==="[object BlobConstructor]",ire=typeof File=="function"||typeof File<"u"&&YU.call(File)==="[object FileConstructor]";function bS(e){return tre&&(e instanceof ArrayBuffer||nre(e))||rre&&e instanceof Blob||ire&&e instanceof File}function Ev(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Ev(e[n]))return!0;return!1}if(bS(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ev(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ev(e[n]))return!0;return!1}function ore(e){const t=[],n=e.data,r=e;return r.data=JE(n,t),r.attachments=t.length,{packet:r,buffers:t}}function JE(e,t){if(!e)return e;if(bS(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=JE(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=JE(e[r],t));return n}return e}function sre(e,t){return e.data=ZE(e.data,t),delete e.attachments,e}function ZE(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ZE(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ZE(e[n],t));return e}const are=5;var Ie;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ie||(Ie={}));class ure{constructor(t){this.replacer=t}encode(t){return(t.type===Ie.EVENT||t.type===Ie.ACK)&&Ev(t)?this.encodeAsBinary({type:t.type===Ie.EVENT?Ie.BINARY_EVENT:Ie.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ie.BINARY_EVENT||t.type===Ie.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=ore(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class TS extends yt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Ie.BINARY_EVENT;r||n.type===Ie.BINARY_ACK?(n.type=r?Ie.EVENT:Ie.ACK,this.reconstructor=new cre(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(bS(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Ie[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ie.BINARY_EVENT||r.type===Ie.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(s,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(TS.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ie.CONNECT:return typeof n=="object";case Ie.DISCONNECT:return n===void 0;case Ie.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case Ie.EVENT:case Ie.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case Ie.ACK:case Ie.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class cre{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=sre(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const lre=Object.freeze(Object.defineProperty({__proto__:null,Decoder:TS,Encoder:ure,get PacketType(){return Ie},protocol:are},Symbol.toStringTag,{value:"Module"}));function Xr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const fre=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class XU extends yt{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Xr(t,"open",this.onopen.bind(this)),Xr(t,"packet",this.onpacket.bind(this)),Xr(t,"error",this.onerror.bind(this)),Xr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(fre.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:Ie.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,c=n.pop();this._registerAckCallback(a,c),r.id=a}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...a])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,s)=>{n.push((a,c)=>r?a?s(a):i(c):i(a)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this.ids++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(){if(this._queue.length===0)return;const t=this._queue[0];if(t.pending)return;t.pending=!0,t.tryCount++;const n=this.ids;this.ids=t.id,this.flags=t.flags,this.emit.apply(this,t.args),this.ids=n}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ie.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ie.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ie.EVENT:case Ie.BINARY_EVENT:this.onevent(t);break;case Ie.ACK:case Ie.BINARY_ACK:this.onack(t);break;case Ie.DISCONNECT:this.ondisconnect();break;case Ie.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Ie.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ie.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function il(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}il.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};il.prototype.reset=function(){this.attempts=0};il.prototype.setMin=function(e){this.ms=e};il.prototype.setMax=function(e){this.max=e};il.prototype.setJitter=function(e){this.jitter=e};class eb extends yt{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,sy(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new il({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||lre;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new QU(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Xr(n,"open",function(){r.onopen(),t&&t()}),s=Xr(n,"error",a=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",a),t?t(a):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const a=this._timeout;a===0&&i();const c=this.setTimeoutFn(()=>{i(),n.close(),n.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&c.unref(),this.subs.push(function(){clearTimeout(c)})}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Xr(t,"ping",this.onping.bind(this)),Xr(t,"data",this.ondata.bind(this)),Xr(t,"error",this.onerror.bind(this)),Xr(t,"close",this.onclose.bind(this)),Xr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){GU(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r||(r=new XU(this,t,n),this.nsps[t]=r),this._autoConnect&&r.connect(),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const of={};function bv(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=ere(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=of[i]&&s in of[i].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let l;return c?l=new eb(r,t):(of[i]||(of[i]=new eb(r,t)),l=of[i]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(bv,{Manager:eb,Socket:XU,io:bv,connect:bv});const ke={instance:null,url:"http://localhost:8088",callbacks:{connect:[()=>{console.log(`socketClient connected at ${ke.url}`)}],disconnect:[()=>{console.log(`socketClient disconnected at ${ke.url}`)}],serverInfo:[()=>{console.log(`socketClient serverInfo at ${ke.url}`)}]},callbackFn:{connect:()=>{ke.callbacks.connect.map(e=>{e()})},disconnect:()=>{ke.callbacks.disconnect.map(e=>{e()})},serverInfo:e=>{ke.callbacks.serverInfo.map(t=>{t(e)})}},destroy:()=>{console.log("socketClient.destroy()");try{ke.instance.off("connect",ke.callbackFn.connect),ke.instance.off("disconnect",ke.callbackFn.disconnect),ke.instance.off("serverInfo",ke.callbackFn.serverInfo),ke.instance.close(),delete ke.instance,ke.instance=null}catch(e){console.log(e)}},setup:e=>{console.log("socketClient.setup()"),ke.url=e,ke.init()},changeUrl:e=>{console.log("socketClient.changeUrl()"),ke.url=e,ke.destroy(),ke.init()},setUrl:e=>{ke.url=e},init:()=>{ke.instance=bv(ke.url,{reconnection:!1,extraHeaders:{"ngrok-skip-browser-warning":1}}),ke.instance.on("connect",()=>{ke.callbackFn.connect(),ke.instance.on("disconnect",ke.callbackFn.disconnect),ke.instance.on("serverInfo",ke.callbackFn.serverInfo)})}},JU=()=>{const[e,t]=Ni.useState("");return{socketConnected:e,setSocketConnected:t}},hre=()=>UD(JU);let Kw=!0;function dre(){const[e,t]=Ni.useState(""),{socketConnected:n,setSocketConnected:r}=hre();async function i(){try{const v=await(await yO.collection("tunnel_config").doc("service_map")).get();if(v.exists)return v.data()}catch{}return null}async function s(){try{const v=await(await yO.collection("tunnel_config").doc("config")).get();if(v.exists)return v.data()}catch{}return null}async function a(){console.log("GET CONFIG");try{const p=await i(),v=await s(),m={config:v,serviceMap:p};v&&(c(m),t(m),setTimeout(()=>{a().then(y=>{})},5e3))}catch(p){console.log(p.message)}}function c(p){let v;p.serviceMap.backend=="bore"?v=`ws://bore.pub:${p.config.bore_port}`:p.serviceMap.backend=="ngrok"?v=`${p.config.ngrok_url}`:p.serviceMap.backend=="localtonet"&&(v=`https://${p.config.localtonet_host}`),ke.url!=v&&(console.log(`initSocket ${v}`),ke.changeUrl(v),ke.instance.on("connect",()=>{r(!0),ke.instance.on("disconnect",()=>{r(!1)})}))}async function l(){Kw&&(console.log(`please ${Kw}`),await a()),Kw=!1}l();let h=D("tr",{children:D("td",{children:"No Results"})});if(e.config){let p;e.serviceMap.backend=="bore"?p=`http://bore.pub:${e.config.bore_port}`:e.serviceMap.backend=="ngrok"?p=`${e.config.ngrok_url}`:e.serviceMap.backend=="localtonet"&&(p=`https://${e.config.localtonet_host}`),h=be(An,{children:[be("tr",{children:[D("th",{children:"API Url"}),D("td",{children:D("a",{target:"_blank",href:p,children:p})})]}),be("tr",{children:[D("th",{children:"Server IP"}),D("td",{children:e.config.server_ip})]})]})}return D(An,{children:D("div",{className:"col-xl mt-2",children:be("div",{className:"card card-flush",children:[be("div",{className:"card-header border-0 pt-0",children:[D("div",{className:"card-title",children:D("div",{className:"d-flex align-items-center position-relative my-1",children:"Server Info"})}),D("div",{className:"card-toolbar"})]}),D("div",{className:"card-body pt-0",children:D("div",{className:"hover-scroll-overlay-y pe-6 me-n6",style:{maxHeight:"415px"},children:D("table",{className:"table align-middle table-row-dashed fs-6 gy-5 mb-0",children:D("tbody",{className:"fw-semibold text-gray-600",children:h})})})})]})})})}const pre=()=>UD(JU);function vre(){const{socketConnected:e}=pre();return D(An,{children:D("div",{className:"col-xl-full col-md-6 mt-2",children:D("div",{className:"card card-h-100",children:be("div",{className:"card-body",children:[D("div",{className:"row",children:D("span",{className:"text-muted mb-3 d-block text-truncate",children:"Socket Client Status"})}),D("div",{className:"row",children:D("div",{children:e?D("i",{style:{fontSize:"2em",color:"green"},className:"fas fa-toggle-on"}):D("i",{style:{fontSize:"2em",color:"red"},className:"fas fa-toggle-off"})})})]})})})})}class gre extends Fc.Component{render(){return D(An,{children:be("div",{className:"wrapper d-flex flex-column flex-row-fluid",id:"kt_wrapper",children:[D(Gq,{title:"Dashboard"}),D("div",{className:"content d-flex flex-column flex-column-fluid",id:"kt_content",children:D("div",{className:"container-fluid",id:"kt_content_container",children:be("div",{className:"row",children:[D(vre,{}),D($q,{}),D(dre,{})]})})}),D(qq,{})]})})}}function mre(){return D(An,{children:be("div",{className:"page d-flex flex-row flex-column-fluid",children:[D(Vq,{}),D(gre,{})]})})}function yre(){let e;return e=mre,D(e,{})}Gw.createRoot(document.getElementById("root")).render(D(Fc.StrictMode,{children:D(yre,{})}));
